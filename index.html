<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centro de Estudio DTD - Llamados T√©cnicos 2025</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --success: #4caf50;
            --danger: #f44336;
            --warning: #ffc107;
            --dark: #1a1a2e;
            --darker: #16213e;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, var(--darker) 100%);
            min-height: 100vh;
            color: white;
        }
        
        /* Navegaci√≥n lateral */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: rgba(0,0,0,0.3);
            padding: 20px;
            overflow-y: auto;
            z-index: 1000;
            transition: transform 0.3s;
        }
        
        .sidebar.hidden {
            transform: translateX(-100%);
        }
        
        .sidebar-header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 20px;
        }
        
        .sidebar-header h1 {
            font-size: 1.5em;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px;
            margin-bottom: 8px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            background: transparent;
            color: white;
            width: 100%;
            text-align: left;
            font-size: 1em;
        }
        
        .nav-item:hover, .nav-item.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        .nav-item-icon { font-size: 1.4em; }
        
        .nav-section {
            font-size: 0.8em;
            text-transform: uppercase;
            opacity: 0.5;
            margin: 20px 0 10px;
            padding-left: 15px;
        }
        
        /* Contenido principal */
        .main-content {
            margin-left: 280px;
            padding: 30px;
            min-height: 100vh;
            transition: margin-left 0.3s;
        }
        
        .main-content.expanded {
            margin-left: 0;
        }
        
        .toggle-sidebar {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: var(--primary);
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5em;
            display: none;
        }
        
        /* Secciones */
        .section {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .section.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .section-header h2 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .section-header p { opacity: 0.8; font-size: 1.1em; }
        
        /* Conceptos y Teor√≠a */
        .filter-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
        }
        
        .filter-tab {
            padding: 10px 18px;
            border: 2px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.05);
            color: rgba(255,255,255,0.8);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95em;
            font-weight: 500;
        }
        
        .filter-tab:hover {
            background: rgba(255,255,255,0.15);
            border-color: rgba(255,255,255,0.4);
            color: white;
        }
        
        .filter-tab.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-color: transparent;
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .conceptos-container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .concepto-card {
            background: rgba(255,255,255,0.08);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary);
            transition: all 0.3s;
        }
        
        .concepto-card:hover {
            background: rgba(255,255,255,0.1);
            transform: translateX(5px);
        }
        
        .concepto-card h3 {
            color: var(--secondary);
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .concepto-card p {
            line-height: 1.8;
            margin-bottom: 12px;
            color: rgba(255,255,255,0.9);
        }
        
        .concepto-card ul, .concepto-card ol {
            margin: 15px 0;
            padding-left: 25px;
        }
        
        .concepto-card li {
            margin-bottom: 8px;
            line-height: 1.6;
        }
        
        .concepto-card .highlight {
            background: rgba(0, 212, 170, 0.2);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid rgba(0, 212, 170, 0.3);
        }
        
        .concepto-card .formula-box {
            background: rgba(102, 126, 234, 0.2);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            text-align: center;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }
        
        .concepto-card .warning-box {
            background: rgba(255, 193, 7, 0.15);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid var(--warning);
        }
        
        .concepto-card .example-box {
            background: rgba(255,255,255,0.05);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-style: italic;
        }
        
        .concepto-card table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.95em;
        }
        
        .concepto-card th, .concepto-card td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .concepto-card th {
            background: rgba(102, 126, 234, 0.2);
            color: var(--secondary);
        }
        
        .concepto-card tr:hover {
            background: rgba(255,255,255,0.05);
        }
        
        /* Desaf√≠o R√°pido - Juego */
        .desafio-screen {
            max-width: 700px;
            margin: 0 auto;
        }
        
        .desafio-intro {
            text-align: center;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
        }
        
        .desafio-trophy {
            font-size: 4em;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .desafio-intro h3 {
            font-size: 1.8em;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .desafio-rules {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 25px 0;
            text-align: left;
        }
        
        .desafio-rules .rule {
            background: rgba(255,255,255,0.08);
            padding: 12px 15px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .desafio-rules .rule span:first-child {
            font-size: 1.3em;
        }
        
        .desafio-category-select {
            margin: 25px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .desafio-category-select select {
            padding: 12px 20px;
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1em;
            cursor: pointer;
        }
        
        .desafio-highscore {
            background: linear-gradient(135deg, rgba(255,193,7,0.2), rgba(255,152,0,0.2));
            padding: 15px 25px;
            border-radius: 10px;
            margin: 20px auto;
            display: inline-block;
            font-size: 1.2em;
        }
        
        .btn-large {
            padding: 18px 50px;
            font-size: 1.3em;
            margin-top: 20px;
        }
        
        /* HUD del juego */
        .desafio-hud {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
        }
        
        .hud-item {
            text-align: center;
            padding: 10px 20px;
        }
        
        .hud-label {
            display: block;
            font-size: 0.85em;
            opacity: 0.8;
            margin-bottom: 5px;
        }
        
        .hud-value {
            font-size: 2em;
            font-weight: bold;
        }
        
        .hud-time .hud-value { color: #ff6b6b; }
        .hud-score .hud-value { color: var(--warning); }
        .hud-combo .hud-value { color: #ff9f43; }
        
        .hud-time.warning .hud-value {
            animation: pulse-red 0.5s infinite;
        }
        
        @keyframes pulse-red {
            0%, 100% { color: #ff6b6b; }
            50% { color: #ff0000; transform: scale(1.1); }
        }
        
        /* Pregunta del juego */
        .desafio-question-container {
            background: rgba(255,255,255,0.08);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .desafio-progress {
            font-size: 0.9em;
            opacity: 0.7;
            margin-bottom: 15px;
        }
        
        .desafio-question {
            font-size: 1.3em;
            line-height: 1.6;
        }
        
        /* Opciones */
        .desafio-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .desafio-option {
            padding: 18px 20px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            color: white;
            font-size: 1.05em;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .desafio-option:hover {
            background: rgba(255,255,255,0.2);
            border-color: var(--secondary);
            transform: scale(1.02);
        }
        
        .desafio-option.correct {
            background: rgba(0, 212, 170, 0.3);
            border-color: var(--success);
            animation: correct-flash 0.5s;
        }
        
        .desafio-option.incorrect {
            background: rgba(255, 71, 87, 0.3);
            border-color: var(--danger);
            animation: shake 0.3s;
        }
        
        @keyframes correct-flash {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        /* Feedback */
        .desafio-feedback {
            text-align: center;
            margin-top: 20px;
            min-height: 40px;
            font-size: 1.3em;
            font-weight: bold;
        }
        
        .desafio-feedback.correct { color: var(--success); }
        .desafio-feedback.incorrect { color: var(--danger); }
        
        /* Combo popup */
        .combo-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3em;
            font-weight: bold;
            color: #ff9f43;
            text-shadow: 0 0 20px rgba(255, 159, 67, 0.8);
            animation: combo-pop 0.6s forwards;
            pointer-events: none;
            z-index: 1000;
        }
        
        @keyframes combo-pop {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.3); opacity: 1; }
            100% { transform: translate(-50%, -60%) scale(1); opacity: 0; }
        }
        
        /* Resultados */
        .desafio-results-content {
            text-align: center;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
        }
        
        .results-header {
            margin-bottom: 30px;
        }
        
        .results-emoji {
            font-size: 4em;
            display: block;
            margin-bottom: 15px;
        }
        
        .results-header h3 {
            font-size: 1.8em;
            color: var(--secondary);
        }
        
        .results-score {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 25px 40px;
            border-radius: 15px;
            display: inline-block;
            margin-bottom: 30px;
        }
        
        .score-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .score-value {
            font-size: 3em;
            font-weight: bold;
        }
        
        .results-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 25px;
        }
        
        .result-stat {
            text-align: center;
        }
        
        .result-stat .stat-icon {
            font-size: 1.5em;
            display: block;
            margin-bottom: 5px;
        }
        
        .result-stat .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            display: block;
        }
        
        .result-stat .stat-label {
            font-size: 0.85em;
            opacity: 0.7;
        }
        
        .new-record {
            background: linear-gradient(135deg, #ffd700, #ffb347);
            color: #333;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 25px;
            animation: glow 1s infinite;
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
            50% { box-shadow: 0 0 30px rgba(255, 215, 0, 0.8); }
        }
        
        .results-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        /* Estilos compartidos para juegos */
        .game-intro {
            text-align: center;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .game-intro-icon {
            font-size: 4em;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }
        
        .game-intro h3 {
            font-size: 1.8em;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .game-rules {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 25px 0;
            text-align: left;
        }
        
        .game-rules .rule {
            background: rgba(255,255,255,0.08);
            padding: 12px 15px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .game-highscore {
            background: linear-gradient(135deg, rgba(255,193,7,0.2), rgba(255,152,0,0.2));
            padding: 15px 25px;
            border-radius: 10px;
            margin: 20px auto;
            display: inline-block;
            font-size: 1.2em;
        }
        
        .game-results-content {
            text-align: center;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            max-width: 500px;
            margin: 0 auto;
        }
        
        /* MEMORIA T√âCNICA */
        .memoria-screen, .supervivencia-screen {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .memoria-hud, .supervivencia-hud {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
        }
        
        .memoria-difficulty, .supervivencia-category-select {
            margin: 25px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .memoria-difficulty select, .supervivencia-category-select select {
            padding: 12px 20px;
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1em;
            cursor: pointer;
        }
        
        .memoria-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .memoria-card {
            aspect-ratio: 1;
            perspective: 1000px;
            cursor: pointer;
        }
        
        .memoria-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.5s;
            transform-style: preserve-3d;
        }
        
        .memoria-card.flipped .memoria-card-inner {
            transform: rotateY(180deg);
        }
        
        .memoria-card.matched .memoria-card-inner {
            transform: rotateY(180deg);
        }
        
        .memoria-card.matched {
            opacity: 0.7;
            cursor: default;
        }
        
        .memoria-card-front, .memoria-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            text-align: center;
            font-size: 0.85em;
            line-height: 1.3;
        }
        
        .memoria-card-front {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            font-size: 2em;
        }
        
        .memoria-card-back {
            background: rgba(255,255,255,0.15);
            transform: rotateY(180deg);
            border: 2px solid rgba(255,255,255,0.3);
        }
        
        .memoria-card-back.concept {
            background: rgba(102, 126, 234, 0.3);
            border-color: var(--primary);
        }
        
        .memoria-card-back.definition {
            background: rgba(0, 212, 170, 0.3);
            border-color: var(--success);
        }
        
        /* SUPERVIVENCIA */
        .supervivencia-question-container {
            background: rgba(255,255,255,0.08);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .supervivencia-progress {
            font-size: 0.9em;
            opacity: 0.7;
            margin-bottom: 15px;
        }
        
        .supervivencia-question {
            font-size: 1.3em;
            line-height: 1.6;
        }
        
        .supervivencia-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .supervivencia-option {
            padding: 18px 20px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            color: white;
            font-size: 1.05em;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .supervivencia-option:hover {
            background: rgba(255,255,255,0.2);
            border-color: var(--secondary);
            transform: scale(1.02);
        }
        
        .supervivencia-option.correct {
            background: rgba(0, 212, 170, 0.3);
            border-color: var(--success);
        }
        
        .supervivencia-option.incorrect {
            background: rgba(255, 71, 87, 0.3);
            border-color: var(--danger);
            animation: shake 0.3s;
        }
        
        .supervivencia-feedback {
            text-align: center;
            margin-top: 20px;
            min-height: 40px;
            font-size: 1.3em;
            font-weight: bold;
        }
        
        .supervivencia-feedback.correct { color: var(--success); }
        .supervivencia-feedback.incorrect { color: var(--danger); }
        
        .hud-lives .hud-value {
            font-size: 1.5em;
            letter-spacing: 5px;
        }
        
        .life-lost {
            animation: life-shake 0.5s;
        }
        
        @keyframes life-shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
        }
        
        /* Tarjetas */
        .card {
            background: rgba(255,255,255,0.08);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s;
        }
        
        .card:hover {
            background: rgba(255,255,255,0.12);
            transform: translateY(-3px);
        }
        
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        /* Botones */
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn:hover { transform: scale(1.05); }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .btn-success { background: var(--success); color: white; }
        .btn-danger { background: var(--danger); color: white; }
        .btn-warning { background: var(--warning); color: #333; }
        .btn-secondary { background: rgba(255,255,255,0.2); color: white; }
        
        /* Botones de opci√≥n para examen */
        .option-btn {
            display: flex;
            align-items: center;
            width: 100%;
            padding: 15px 20px;
            margin-bottom: 10px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1em;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option-btn:hover:not(:disabled) {
            background: rgba(255,255,255,0.2);
            border-color: var(--primary);
            transform: translateX(5px);
        }
        
        .option-btn .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            margin-right: 15px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            font-weight: bold;
        }
        
        .option-btn.correct {
            background: rgba(76,175,80,0.3);
            border-color: var(--success);
        }
        
        .option-btn.correct .option-letter {
            background: var(--success);
        }
        
        .option-btn.incorrect {
            background: rgba(244,67,54,0.3);
            border-color: var(--danger);
        }
        
        .option-btn.incorrect .option-letter {
            background: var(--danger);
        }
        
        /* Inputs */
        .input {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1.1em;
            transition: all 0.3s;
        }
        
        .input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255,255,255,0.15);
        }
        
        .input::placeholder { color: rgba(255,255,255,0.5); }
        
        select.input option { background: var(--dark); color: white; }
        
        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; margin-bottom: 8px; font-size: 1.1em; }
        
        /* Stats */
        .stats-grid {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.1);
            padding: 20px 30px;
            border-radius: 15px;
            text-align: center;
            min-width: 130px;
        }
        
        .stat-value { font-size: 2.5em; font-weight: bold; }
        .stat-label { font-size: 0.9em; opacity: 0.8; }
        .stat-card.success .stat-value { color: var(--success); }
        .stat-card.danger .stat-value { color: var(--danger); }
        .stat-card.warning .stat-value { color: var(--warning); }
        
        /* Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .tab {
            padding: 12px 25px;
            border: 2px solid rgba(255,255,255,0.3);
            background: transparent;
            color: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
        }
        
        .tab:hover, .tab.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-color: transparent;
        }
        
        /* Flashcard */
        .flashcard-container { perspective: 1000px; margin-bottom: 30px; }
        
        .flashcard {
            width: 100%;
            max-width: 700px;
            min-height: 350px;
            margin: 0 auto;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }
        
        .flashcard.flipped { transform: rotateY(180deg); }
        
        .flashcard-face {
            position: absolute;
            width: 100%;
            min-height: 350px;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            text-align: center;
        }
        
        .flashcard-front {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        .flashcard-back {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            transform: rotateY(180deg);
        }
        
        .flashcard-category {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9em;
        }
        
        .flashcard-number {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9em;
        }
        
        .flashcard-content { font-size: 1.4em; line-height: 1.6; }
        .flashcard-hint { position: absolute; bottom: 20px; font-size: 0.9em; opacity: 0.8; }
        
        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        /* Progress bar */
        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 30px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.5s;
        }
        
        /* Pruebas */
        .question-card {
            background: rgba(255,255,255,0.08);
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--primary);
        }
        
        .question-number {
            color: var(--primary);
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        
        .question-text {
            font-size: 1.1em;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .options { display: flex; flex-direction: column; gap: 12px; }
        
        .option {
            padding: 15px 20px;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            background: transparent;
            color: white;
            text-align: left;
            font-size: 1em;
        }
        
        .option:hover {
            border-color: var(--primary);
            background: rgba(102,126,234,0.2);
        }
        
        .option.correct {
            background: var(--success) !important;
            border-color: var(--success) !important;
        }
        
        .option.incorrect {
            background: var(--danger) !important;
            border-color: var(--danger) !important;
        }
        
        .option.disabled { cursor: not-allowed; opacity: 0.7; }
        
        .explanation {
            background: rgba(33,150,243,0.2);
            border-left: 5px solid #2196f3;
            padding: 15px 20px;
            margin-top: 15px;
            border-radius: 0 10px 10px 0;
            display: none;
        }
        
        .explanation.show { display: block; }
        
        /* Calculadora */
        .calculator-card {
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .formula-display {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            font-family: 'Courier New', monospace;
            font-size: 1.3em;
        }
        
        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .result-box {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            text-align: center;
            display: none;
        }
        
        .result-box.show { display: block; }
        .result-box.error { background: linear-gradient(135deg, var(--danger), #e91e63); }
        .result-value { font-size: 3em; font-weight: bold; margin-bottom: 10px; }
        .result-label { font-size: 1.2em; opacity: 0.9; }
        
        .result-details {
            margin-top: 20px;
            text-align: left;
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 10px;
        }
        
        .result-details p {
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }
        
        /* Mapas conceptuales */
        .layer {
            display: flex;
            align-items: center;
            width: 100%;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .layer-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.3em;
            flex-shrink: 0;
        }
        
        .layer-content {
            flex: 1;
            display: flex;
            gap: 15px;
        }
        
        .layer-box {
            flex: 1;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s;
        }
        
        .layer-box:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-3px);
        }
        
        .layer-box h4 { margin-bottom: 10px; color: var(--warning); }
        .layer-box ul { list-style: none; font-size: 0.9em; opacity: 0.9; }
        .layer-box li { padding: 3px 0; }
        .layer-box li::before { content: '‚Ä¢ '; color: var(--primary); }
        
        /* Ejercicios fill-in */
        .formula-exercise {
            background: rgba(0,0,0,0.3);
            padding: 30px;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            font-size: 1.4em;
            text-align: center;
            margin-bottom: 25px;
            line-height: 2;
        }
        
        .blank-input {
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            padding: 8px 15px;
            color: white;
            font-family: 'Courier New', monospace;
            font-size: 1em;
            width: 100px;
            text-align: center;
        }
        
        .blank-input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .blank-input.correct {
            border-color: var(--success);
            background: rgba(76,175,80,0.3);
        }
        
        .blank-input.incorrect {
            border-color: var(--danger);
            background: rgba(244,67,54,0.3);
        }
        
        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 15px;
            display: none;
        }
        
        .feedback.show { display: block; }
        .feedback.correct { background: rgba(76,175,80,0.3); border: 2px solid var(--success); }
        .feedback.incorrect { background: rgba(244,67,54,0.3); border: 2px solid var(--danger); }
        
        /* Home cards */
        .home-card {
            background: rgba(255,255,255,0.08);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .home-card:hover {
            background: rgba(255,255,255,0.12);
            transform: translateY(-5px);
            border-color: var(--primary);
        }
        
        .home-card-icon { font-size: 3em; margin-bottom: 15px; }
        .home-card h3 { margin-bottom: 10px; font-size: 1.3em; }
        .home-card p { opacity: 0.8; font-size: 0.95em; }
        
        .home-card-tag {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-top: 15px;
        }
        
        /* Tip banner */
        .tip-banner {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px 25px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .tip-icon { font-size: 2.5em; }
        .tip-content h4 { margin-bottom: 5px; color: var(--warning); }
        
        /* Fibra visual */
        .fiber-section {
            display: flex;
            gap: 30px;
            align-items: center;
            background: rgba(255,255,255,0.08);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
        }
        
        .fiber-visual {
            width: 150px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .fiber-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto;
            position: relative;
        }
        
        .fiber-sm .fiber-circle {
            background: rgba(255,193,7,0.2);
            border: 3px solid rgba(255,193,7,0.5);
        }
        
        .fiber-sm .fiber-circle::after {
            content: '';
            position: absolute;
            width: 15px;
            height: 15px;
            background: var(--warning);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .fiber-mm .fiber-circle {
            background: rgba(255,152,0,0.2);
            border: 3px solid rgba(255,152,0,0.5);
        }
        
        .fiber-mm .fiber-circle::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 50px;
            background: #ff9800;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .fiber-info { flex: 1; }
        .fiber-info h3 { font-size: 1.5em; margin-bottom: 10px; }
        
        .fiber-specs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .fiber-spec {
            background: rgba(255,255,255,0.1);
            padding: 12px;
            border-radius: 10px;
        }
        
        .fiber-spec-label { font-size: 0.85em; opacity: 0.7; }
        .fiber-spec-value { font-weight: bold; font-size: 1.1em; }
        
        /* Responsive */
        @media (max-width: 992px) {
            .sidebar { transform: translateX(-100%); }
            .sidebar.visible { transform: translateX(0); }
            .main-content { margin-left: 0; }
            .toggle-sidebar { display: flex; align-items: center; justify-content: center; }
        }
        
        @media (max-width: 768px) {
            .input-row { grid-template-columns: 1fr; }
            .layer { flex-direction: column; }
            .layer-content { flex-direction: column; width: 100%; }
            .fiber-section { flex-direction: column; text-align: center; }
            .flashcard-content { font-size: 1.1em; }
            .controls { flex-direction: column; }
            .controls .btn { width: 100%; justify-content: center; }
            
            /* Conceptos responsivo */
            .filter-tabs {
                padding: 10px;
                gap: 8px;
            }
            .filter-tab {
                padding: 8px 12px;
                font-size: 0.85em;
            }
            .concepto-card {
                padding: 18px;
            }
            .concepto-card h3 {
                font-size: 1.1em;
            }
            .concepto-card table {
                font-size: 0.85em;
            }
            .concepto-card th, .concepto-card td {
                padding: 8px 6px;
            }
            
            /* Desaf√≠o R√°pido responsivo */
            .desafio-rules, .game-rules {
                grid-template-columns: 1fr;
            }
            .desafio-hud, .memoria-hud, .supervivencia-hud {
                flex-direction: row;
                flex-wrap: wrap;
                gap: 10px;
            }
            .hud-item {
                flex: 1;
                min-width: 80px;
            }
            .hud-value {
                font-size: 1.5em;
            }
            .desafio-options, .supervivencia-options {
                grid-template-columns: 1fr;
            }
            .desafio-question, .supervivencia-question {
                font-size: 1.1em;
            }
            .results-stats {
                flex-direction: column;
                gap: 15px;
            }
            .results-buttons {
                flex-direction: column;
            }
            .results-buttons .btn {
                width: 100%;
            }
            .memoria-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }
            .memoria-card-back {
                font-size: 0.75em;
            }
        }
    </style>
</head>
<body>
    <button class="toggle-sidebar" onclick="toggleSidebar()">‚ò∞</button>
    
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h1>üìö Centro de Estudio</h1>
            <p style="font-size: 0.9em; opacity: 0.7; margin-top: 5px;">Llamados T√©cnicos 2025</p>
        </div>
        
        <button class="nav-item active" onclick="showSection('home')">
            <span class="nav-item-icon">üè†</span>
            <span>Inicio</span>
        </button>
        
        <div class="nav-section">Herramientas de Estudio</div>
        
        <button class="nav-item" onclick="showSection('conceptos')">
            <span class="nav-item-icon">üìö</span>
            <span>Conceptos</span>
        </button>
        
        <button class="nav-item" onclick="showSection('flashcards')">
            <span class="nav-item-icon">üé¥</span>
            <span>Flashcards</span>
        </button>
        
        <button class="nav-item" onclick="showSection('pruebas')">
            <span class="nav-item-icon">üìù</span>
            <span>Pruebas</span>
        </button>
        
        <button class="nav-item" onclick="showSection('vof')">
            <span class="nav-item-icon">‚úÖ</span>
            <span>Verdadero/Falso</span>
        </button>
        
        <button class="nav-item" onclick="showSection('ejercicios')">
            <span class="nav-item-icon">‚úçÔ∏è</span>
            <span>Ejercicios F√≥rmulas</span>
        </button>
        
        <button class="nav-item" onclick="showSection('calculadoras')">
            <span class="nav-item-icon">üßÆ</span>
            <span>Calculadoras</span>
        </button>
        
        <button class="nav-item" onclick="showSection('mapas')">
            <span class="nav-item-icon">üó∫Ô∏è</span>
            <span>Mapas Conceptuales</span>
        </button>
        
        <div class="nav-section">Juegos</div>
        
        <button class="nav-item" onclick="showSection('desafio')">
            <span class="nav-item-icon">üéØ</span>
            <span>Desaf√≠o R√°pido</span>
        </button>
        
        <button class="nav-item" onclick="showSection('memoria')">
            <span class="nav-item-icon">üß†</span>
            <span>Memoria T√©cnica</span>
        </button>
        
        <button class="nav-item" onclick="showSection('supervivencia')">
            <span class="nav-item-icon">‚ù§Ô∏è</span>
            <span>Supervivencia</span>
        </button>
        
        <div class="nav-section">Progreso</div>
        
        <button class="nav-item" onclick="showSection('dashboard')">
            <span class="nav-item-icon">üìä</span>
            <span>Dashboard</span>
        </button>
        
        <div style="position: absolute; bottom: 20px; left: 20px; right: 20px; text-align: center; opacity: 0.5; font-size: 0.85em;">
            Febrero 2026
        </div>
    </nav>
    
    <main class="main-content" id="main-content">
        <!-- HOME -->
        <section class="section active" id="section-home">
            <div class="section-header">
                <h2>üìö Centro de Estudio DTD</h2>
                <p>Preparaci√≥n completa para Llamados T√©cnicos 2025 - IP y Radio</p>
            </div>
            
            <div class="tip-banner">
                <div class="tip-icon">üí°</div>
                <div class="tip-content">
                    <h4>Consejo del d√≠a</h4>
                    <p id="daily-tip">La primera zona de Fresnel debe estar despejada al menos en un 60% para evitar p√©rdidas por difracci√≥n.</p>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">7</div>
                    <div class="stat-label">Materiales</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">480+</div>
                    <div class="stat-label">Preguntas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">240+</div>
                    <div class="stat-label">Flashcards</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">225+</div>
                    <div class="stat-label">V/F</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">7</div>
                    <div class="stat-label">Calculadoras</div>
                </div>
            </div>
            
            <div class="cards-grid">
                <div class="home-card" onclick="showSection('conceptos')">
                    <div class="home-card-icon">üìö</div>
                    <h3>Conceptos y Teor√≠a</h3>
                    <p>Lee y estudia explicaciones detalladas de cada tema</p>
                    <span class="home-card-tag">8 temas</span>
                </div>
                
                <div class="home-card" onclick="showSection('flashcards')">
                    <div class="home-card-icon">üé¥</div>
                    <h3>Flashcards</h3>
                    <p>Tarjetas de memoria interactivas con repaso espaciado</p>
                    <span class="home-card-tag">240+ tarjetas</span>
                </div>
                
                <div class="home-card" onclick="showSection('pruebas')">
                    <div class="home-card-icon">üìù</div>
                    <h3>Pruebas</h3>
                    <p>Ex√°menes por tema con explicaciones detalladas</p>
                    <span class="home-card-tag">9 temas</span>
                </div>
                
                <div class="home-card" onclick="showSection('vof')">
                    <div class="home-card-icon">‚úÖ</div>
                    <h3>Verdadero/Falso</h3>
                    <p>Decide si cada afirmaci√≥n es correcta o incorrecta</p>
                    <span class="home-card-tag">225+ preguntas</span>
                </div>
                
                <div class="home-card" onclick="showSection('ejercicios')">
                    <div class="home-card-icon">‚úçÔ∏è</div>
                    <h3>Ejercicios</h3>
                    <p>Completa las f√≥rmulas para memorizarlas</p>
                    <span class="home-card-tag">70+ ejercicios</span>
                </div>
                
                <div class="home-card" onclick="showSection('calculadoras')">
                    <div class="home-card-icon">üßÆ</div>
                    <h3>Calculadoras</h3>
                    <p>Herramientas para c√°lculos t√©cnicos</p>
                    <span class="home-card-tag">6 calculadoras</span>
                </div>
                
                <div class="home-card" onclick="showSection('mapas')">
                    <div class="home-card-icon">üó∫Ô∏è</div>
                    <h3>Mapas Conceptuales</h3>
                    <p>Diagramas visuales interactivos</p>
                    <span class="home-card-tag">5 mapas</span>
                </div>
                
                <div class="home-card" onclick="showSection('desafio')">
                    <div class="home-card-icon">üéØ</div>
                    <h3>Desaf√≠o R√°pido</h3>
                    <p>60 segundos para responder. ¬°Combos y puntuaci√≥n!</p>
                    <span class="home-card-tag">üî• Juego</span>
                </div>
                
                <div class="home-card" onclick="showSection('memoria')">
                    <div class="home-card-icon">üß†</div>
                    <h3>Memoria T√©cnica</h3>
                    <p>Encuentra parejas concepto-definici√≥n</p>
                    <span class="home-card-tag">üéÆ Juego</span>
                </div>
                
                <div class="home-card" onclick="showSection('supervivencia')">
                    <div class="home-card-icon">‚ù§Ô∏è</div>
                    <h3>Supervivencia</h3>
                    <p>3 vidas. ¬øCu√°ntas preguntas puedes responder?</p>
                    <span class="home-card-tag">üíÄ Juego</span>
                </div>
                
                <div class="home-card" onclick="showSection('dashboard')">
                    <div class="home-card-icon">üìä</div>
                    <h3>Dashboard</h3>
                    <p>Seguimiento de tu progreso</p>
                    <span class="home-card-tag">Anal√≠ticas</span>
                </div>
            </div>
        </section>
        
        <!-- DESAF√çO R√ÅPIDO -->
        <section class="section" id="section-desafio">
            <div class="section-header">
                <h2>üéØ Desaf√≠o R√°pido</h2>
                <p>60 segundos para responder. ¬°Acumula combos y bate tu r√©cord!</p>
            </div>
            
            <!-- Pantalla de inicio del juego -->
            <div id="desafio-start" class="desafio-screen">
                <div class="desafio-intro">
                    <div class="desafio-trophy">üèÜ</div>
                    <h3>¬øListo para el desaf√≠o?</h3>
                    <p>Responde correctamente la mayor cantidad de preguntas en 60 segundos.</p>
                    
                    <div class="desafio-rules">
                        <div class="rule"><span>‚ö°</span> Respuesta correcta: +10 pts</div>
                        <div class="rule"><span>üî•</span> Combo x2, x3, x4...: multiplicador</div>
                        <div class="rule"><span>‚ùå</span> Error: pierdes el combo</div>
                        <div class="rule"><span>‚è±Ô∏è</span> 60 segundos de tiempo</div>
                    </div>
                    
                    <div class="desafio-category-select">
                        <label>Categor√≠a:</label>
                        <select id="desafio-category">
                            <option value="all">üé≤ Todas las categor√≠as</option>
                            <option value="radio">üì° Radio</option>
                            <option value="ip">üåê Redes IP</option>
                            <option value="fibra">üí° Fibra √ìptica</option>
                            <option value="bert">üìä BERT/RFC2544</option>
                        </select>
                    </div>
                    
                    <div class="desafio-highscore">
                        <span>üèÜ R√©cord:</span>
                        <span id="desafio-record">0</span> pts
                    </div>
                    
                    <button class="btn btn-primary btn-large" onclick="startDesafio()">
                        üöÄ ¬°Comenzar!
                    </button>
                </div>
            </div>
            
            <!-- Pantalla del juego -->
            <div id="desafio-game" class="desafio-screen" style="display: none;">
                <div class="desafio-hud">
                    <div class="hud-item hud-time">
                        <span class="hud-label">‚è±Ô∏è Tiempo</span>
                        <span class="hud-value" id="desafio-timer">60</span>
                    </div>
                    <div class="hud-item hud-score">
                        <span class="hud-label">‚≠ê Puntos</span>
                        <span class="hud-value" id="desafio-score">0</span>
                    </div>
                    <div class="hud-item hud-combo">
                        <span class="hud-label">üî• Combo</span>
                        <span class="hud-value" id="desafio-combo">x1</span>
                    </div>
                </div>
                
                <div class="desafio-question-container">
                    <div class="desafio-progress">
                        <span id="desafio-question-num">1</span>
                    </div>
                    <div class="desafio-question" id="desafio-question">
                        Cargando pregunta...
                    </div>
                </div>
                
                <div class="desafio-options" id="desafio-options">
                    <!-- Opciones din√°micas -->
                </div>
                
                <div class="desafio-feedback" id="desafio-feedback"></div>
            </div>
            
            <!-- Pantalla de resultados -->
            <div id="desafio-results" class="desafio-screen" style="display: none;">
                <div class="desafio-results-content">
                    <div class="results-header">
                        <span class="results-emoji" id="results-emoji">üéâ</span>
                        <h3 id="results-title">¬°Tiempo!</h3>
                    </div>
                    
                    <div class="results-score">
                        <div class="score-label">Puntuaci√≥n Final</div>
                        <div class="score-value" id="final-score">0</div>
                    </div>
                    
                    <div class="results-stats">
                        <div class="result-stat">
                            <span class="stat-icon">‚úÖ</span>
                            <span class="stat-value" id="result-correct">0</span>
                            <span class="stat-label">Correctas</span>
                        </div>
                        <div class="result-stat">
                            <span class="stat-icon">‚ùå</span>
                            <span class="stat-value" id="result-incorrect">0</span>
                            <span class="stat-label">Incorrectas</span>
                        </div>
                        <div class="result-stat">
                            <span class="stat-icon">üî•</span>
                            <span class="stat-value" id="result-max-combo">x1</span>
                            <span class="stat-label">Mejor Combo</span>
                        </div>
                    </div>
                    
                    <div class="new-record" id="new-record" style="display: none;">
                        üèÜ ¬°NUEVO R√âCORD! üèÜ
                    </div>
                    
                    <div class="results-buttons">
                        <button class="btn btn-primary" onclick="startDesafio()">üîÑ Jugar de nuevo</button>
                        <button class="btn btn-secondary" onclick="showDesafioStart()">üìã Men√∫</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- MEMORIA T√âCNICA -->
        <section class="section" id="section-memoria">
            <div class="section-header">
                <h2>üß† Memoria T√©cnica</h2>
                <p>Encuentra las parejas: concepto ‚Üî definici√≥n</p>
            </div>
            
            <div id="memoria-start" class="memoria-screen">
                <div class="game-intro">
                    <div class="game-intro-icon">üß†</div>
                    <h3>¬øListo para entrenar tu memoria?</h3>
                    <p>Voltea las cartas y encuentra las parejas. Cada par correcto son puntos.</p>
                    
                    <div class="game-rules">
                        <div class="rule"><span>üé¥</span> Voltea 2 cartas por turno</div>
                        <div class="rule"><span>‚úÖ</span> Par correcto: +100 pts</div>
                        <div class="rule"><span>üîÑ</span> Menos intentos = m√°s puntos</div>
                        <div class="rule"><span>üèÜ</span> Completa todos los pares</div>
                    </div>
                    
                    <div class="memoria-difficulty">
                        <label>Dificultad:</label>
                        <select id="memoria-pairs">
                            <option value="6">F√°cil (6 pares)</option>
                            <option value="8" selected>Normal (8 pares)</option>
                            <option value="12">Dif√≠cil (12 pares)</option>
                        </select>
                    </div>
                    
                    <div class="game-highscore">
                        <span>üèÜ R√©cord:</span>
                        <span id="memoria-record">0</span> pts
                    </div>
                    
                    <button class="btn btn-primary btn-large" onclick="startMemoria()">
                        üöÄ ¬°Jugar!
                    </button>
                </div>
            </div>
            
            <div id="memoria-game" class="memoria-screen" style="display: none;">
                <div class="memoria-hud">
                    <div class="hud-item">
                        <span class="hud-label">üé¥ Pares</span>
                        <span class="hud-value" id="memoria-found">0/8</span>
                    </div>
                    <div class="hud-item">
                        <span class="hud-label">üîÑ Intentos</span>
                        <span class="hud-value" id="memoria-attempts">0</span>
                    </div>
                    <div class="hud-item">
                        <span class="hud-label">‚≠ê Puntos</span>
                        <span class="hud-value" id="memoria-score">0</span>
                    </div>
                </div>
                
                <div class="memoria-grid" id="memoria-grid">
                    <!-- Cartas din√°micas -->
                </div>
            </div>
            
            <div id="memoria-results" class="memoria-screen" style="display: none;">
                <div class="game-results-content">
                    <div class="results-header">
                        <span class="results-emoji" id="memoria-emoji">üéâ</span>
                        <h3 id="memoria-title">¬°Completado!</h3>
                    </div>
                    
                    <div class="results-score">
                        <div class="score-label">Puntuaci√≥n</div>
                        <div class="score-value" id="memoria-final-score">0</div>
                    </div>
                    
                    <div class="results-stats">
                        <div class="result-stat">
                            <span class="stat-icon">üé¥</span>
                            <span class="stat-value" id="memoria-result-pairs">0</span>
                            <span class="stat-label">Pares</span>
                        </div>
                        <div class="result-stat">
                            <span class="stat-icon">üîÑ</span>
                            <span class="stat-value" id="memoria-result-attempts">0</span>
                            <span class="stat-label">Intentos</span>
                        </div>
                    </div>
                    
                    <div class="new-record" id="memoria-new-record" style="display: none;">
                        üèÜ ¬°NUEVO R√âCORD! üèÜ
                    </div>
                    
                    <div class="results-buttons">
                        <button class="btn btn-primary" onclick="startMemoria()">üîÑ Jugar de nuevo</button>
                        <button class="btn btn-secondary" onclick="showMemoriaStart()">üìã Men√∫</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- MODO SUPERVIVENCIA -->
        <section class="section" id="section-supervivencia">
            <div class="section-header">
                <h2>‚ù§Ô∏è Modo Supervivencia</h2>
                <p>3 vidas, sin l√≠mite de tiempo. ¬øCu√°nto puedes aguantar?</p>
            </div>
            
            <div id="supervivencia-start" class="supervivencia-screen">
                <div class="game-intro">
                    <div class="game-intro-icon">‚ù§Ô∏è</div>
                    <h3>¬øPuedes sobrevivir?</h3>
                    <p>Responde sin presi√≥n de tiempo, pero cada error te cuesta una vida.</p>
                    
                    <div class="game-rules">
                        <div class="rule"><span>‚ù§Ô∏è</span> Empiezas con 3 vidas</div>
                        <div class="rule"><span>‚úÖ</span> Correcta: +10 pts</div>
                        <div class="rule"><span>‚ùå</span> Error: pierdes 1 vida</div>
                        <div class="rule"><span>üíÄ</span> Sin vidas = Game Over</div>
                    </div>
                    
                    <div class="supervivencia-category-select">
                        <label>Categor√≠a:</label>
                        <select id="supervivencia-category">
                            <option value="all">üé≤ Todas</option>
                            <option value="radio">üì° Radio</option>
                            <option value="ip">üåê Redes IP</option>
                            <option value="fibra">üí° Fibra</option>
                            <option value="bert">üìä BERT</option>
                        </select>
                    </div>
                    
                    <div class="game-highscore">
                        <span>üèÜ R√©cord:</span>
                        <span id="supervivencia-record">0</span> pts
                    </div>
                    
                    <button class="btn btn-primary btn-large" onclick="startSupervivencia()">
                        üöÄ ¬°Comenzar!
                    </button>
                </div>
            </div>
            
            <div id="supervivencia-game" class="supervivencia-screen" style="display: none;">
                <div class="supervivencia-hud">
                    <div class="hud-item hud-lives">
                        <span class="hud-label">‚ù§Ô∏è Vidas</span>
                        <span class="hud-value" id="supervivencia-lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
                    </div>
                    <div class="hud-item">
                        <span class="hud-label">‚≠ê Puntos</span>
                        <span class="hud-value" id="supervivencia-score">0</span>
                    </div>
                    <div class="hud-item">
                        <span class="hud-label">üìä Racha</span>
                        <span class="hud-value" id="supervivencia-streak">0</span>
                    </div>
                </div>
                
                <div class="supervivencia-question-container">
                    <div class="supervivencia-progress">
                        <span id="supervivencia-question-num">Pregunta 1</span>
                    </div>
                    <div class="supervivencia-question" id="supervivencia-question">
                        Cargando...
                    </div>
                </div>
                
                <div class="supervivencia-options" id="supervivencia-options">
                    <!-- Opciones din√°micas -->
                </div>
                
                <div class="supervivencia-feedback" id="supervivencia-feedback"></div>
            </div>
            
            <div id="supervivencia-results" class="supervivencia-screen" style="display: none;">
                <div class="game-results-content">
                    <div class="results-header">
                        <span class="results-emoji" id="supervivencia-emoji">üíÄ</span>
                        <h3 id="supervivencia-title">Game Over</h3>
                    </div>
                    
                    <div class="results-score">
                        <div class="score-label">Puntuaci√≥n Final</div>
                        <div class="score-value" id="supervivencia-final-score">0</div>
                    </div>
                    
                    <div class="results-stats">
                        <div class="result-stat">
                            <span class="stat-icon">‚úÖ</span>
                            <span class="stat-value" id="supervivencia-result-correct">0</span>
                            <span class="stat-label">Correctas</span>
                        </div>
                        <div class="result-stat">
                            <span class="stat-icon">üî•</span>
                            <span class="stat-value" id="supervivencia-result-streak">0</span>
                            <span class="stat-label">Mejor Racha</span>
                        </div>
                    </div>
                    
                    <div class="new-record" id="supervivencia-new-record" style="display: none;">
                        üèÜ ¬°NUEVO R√âCORD! üèÜ
                    </div>
                    
                    <div class="results-buttons">
                        <button class="btn btn-primary" onclick="startSupervivencia()">üîÑ Intentar de nuevo</button>
                        <button class="btn btn-secondary" onclick="showSupervivenciaStart()">üìã Men√∫</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- CONCEPTOS Y TEOR√çA -->
        <section class="section" id="section-conceptos">
            <div class="section-header">
                <h2>üìö Conceptos y Teor√≠a</h2>
                <p>Estudia las explicaciones detalladas de cada tema</p>
            </div>
            
            <div class="filter-tabs" id="conceptos-tabs">
                <button class="filter-tab active" data-topic="radio">üì° Radio</button>
                <button class="filter-tab" data-topic="propagacion">üåä Propagaci√≥n</button>
                <button class="filter-tab" data-topic="redes">üåê Redes IP</button>
                <button class="filter-tab" data-topic="ethernet">üîå Ethernet</button>
                <button class="filter-tab" data-topic="fibra">üí° Fibra √ìptica</button>
                <button class="filter-tab" data-topic="gpon">üè† GPON/FTTH</button>
                <button class="filter-tab" data-topic="bert">üìä BERT/RFC2544</button>
                <button class="filter-tab" data-topic="seguridad">üîí Seguridad</button>
            </div>
            
            <div id="conceptos-content" class="conceptos-container">
                <!-- Contenido din√°mico -->
            </div>
        </section>
        
        <!-- FLASHCARDS -->
        <section class="section" id="section-flashcards">
            <div class="section-header">
                <h2>üé¥ Flashcards</h2>
                <p>Haz clic en la tarjeta para ver la respuesta</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card success">
                    <div class="stat-value" id="fc-correct">0</div>
                    <div class="stat-label">‚úì Correctas</div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-value" id="fc-incorrect">0</div>
                    <div class="stat-label">‚úó A Repasar</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-value" id="fc-remaining">0</div>
                    <div class="stat-label">üìö Restantes</div>
                </div>
            </div>
            
            <div class="tabs" id="fc-tabs">
                <button class="tab active" data-category="all">üìö Todas</button>
                <button class="tab" data-category="radio">üì° Radio</button>
                <button class="tab" data-category="ip">üåê IP/Redes</button>
                <button class="tab" data-category="fibra">üí° Fibra</button>
                <button class="tab" data-category="formulas">üßÆ F√≥rmulas</button>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="fc-progress" style="width: 0%"></div>
            </div>
            
            <div class="flashcard-container">
                <div class="flashcard" id="flashcard" onclick="flipCard()">
                    <div class="flashcard-face flashcard-front">
                        <span class="flashcard-category" id="fc-category">Categor√≠a</span>
                        <span class="flashcard-number" id="fc-number">1/50</span>
                        <div class="flashcard-content" id="fc-question">Pregunta</div>
                        <div class="flashcard-hint">üëÜ Clic para ver respuesta</div>
                    </div>
                    <div class="flashcard-face flashcard-back">
                        <span class="flashcard-category" id="fc-category-back">Categor√≠a</span>
                        <span class="flashcard-number" id="fc-number-back">1/50</span>
                        <div class="flashcard-content" id="fc-answer">Respuesta</div>
                        <div class="flashcard-hint">¬øLo sab√≠as?</div>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-danger" onclick="markCard(false)">‚ùå No lo sab√≠a</button>
                <button class="btn btn-warning" onclick="skipCard()">‚è≠Ô∏è Saltar</button>
                <button class="btn btn-success" onclick="markCard(true)">‚úÖ Lo sab√≠a</button>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="resetFlashcards()">üîÑ Reiniciar</button>
            </div>
        </section>
        
        <!-- PRUEBAS -->
        <section class="section" id="section-pruebas">
            <div class="section-header">
                <h2>üìù Pruebas por Tema</h2>
                <p>Selecciona un tema para comenzar</p>
            </div>
            
            <div class="tabs" id="test-tabs">
                <button class="tab active" data-test="propagacion">üì° Propagaci√≥n</button>
                <button class="tab" data-test="minilink">üîß Minilink</button>
                <button class="tab" data-test="tcpip">üåê TCP/IP</button>
                <button class="tab" data-test="redesbasico">üîå Redes B√°sico</button>
                <button class="tab" data-test="bert">üìä BERT</button>
                <button class="tab" data-test="rfc2544">üìà RFC 2544</button>
                <button class="tab" data-test="fibra">üí° Fibra</button>
                <button class="tab" data-test="transceptores">üîå Transceptores</button>
                <button class="tab" data-test="avanzado">üéì Avanzado</button>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card success">
                    <div class="stat-value" id="test-correct">0</div>
                    <div class="stat-label">Correctas</div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-value" id="test-incorrect">0</div>
                    <div class="stat-label">Incorrectas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="test-score">0%</div>
                    <div class="stat-label">Puntuaci√≥n</div>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="test-progress" style="width: 0%"></div>
            </div>
            
            <div id="test-container">
                <!-- Preguntas se cargan aqu√≠ -->
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-secondary" onclick="resetTest()">üîÑ Reiniciar Prueba</button>
            </div>
        </section>
        
        <!-- EXAMEN COMPLETO 20 PREGUNTAS -->
        <section class="section" id="section-examen">
            <div class="section-header">
                <h2>üéØ Examen Completo (20 Preguntas)</h2>
                <p>Prueba integral con ejemplos pr√°cticos y casos reales</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card success">
                    <div class="stat-value" id="exam-correct">0</div>
                    <div class="stat-label">‚úì Correctas</div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-value" id="exam-incorrect">0</div>
                    <div class="stat-label">‚úó Incorrectas</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-value" id="exam-remaining">20</div>
                    <div class="stat-label">üìã Restantes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="exam-score">0%</div>
                    <div class="stat-label">Puntuaci√≥n</div>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="exam-progress" style="width: 0%"></div>
            </div>
            
            <div id="exam-start" class="card" style="text-align: center; padding: 40px;">
                <div style="font-size: 4em; margin-bottom: 20px;">üéØ</div>
                <h3 style="margin-bottom: 15px;">Examen Integral de 20 Preguntas</h3>
                <p style="margin-bottom: 10px; opacity: 0.8;">Incluye preguntas de todos los temas con ejemplos pr√°cticos:</p>
                <ul style="list-style: none; margin-bottom: 25px; opacity: 0.9;">
                    <li>üì° Propagaci√≥n y Radioenlaces</li>
                    <li>üåê TCP/IP y Redes</li>
                    <li>üí° Fibra √ìptica y Transceptores</li>
                    <li>üìä BERT, RFC 2544 y Testing</li>
                    <li>üßÆ C√°lculos y F√≥rmulas</li>
                </ul>
                <button class="btn btn-primary" onclick="startExam()" style="font-size: 1.2em; padding: 15px 40px;">üöÄ Iniciar Examen</button>
            </div>
            
            <div id="exam-container" style="display: none;">
                <!-- Preguntas del examen se cargan aqu√≠ -->
            </div>
            
            <div id="exam-result" style="display: none;" class="card">
                <h3 style="text-align: center; margin-bottom: 20px;">üìä Resultado del Examen</h3>
                <div style="text-align: center; font-size: 4em; margin-bottom: 20px;" id="exam-final-emoji">üéâ</div>
                <div style="text-align: center; font-size: 2.5em; font-weight: bold; margin-bottom: 10px;" id="exam-final-score">0%</div>
                <div style="text-align: center; margin-bottom: 30px;" id="exam-final-text">Resultado</div>
                <div id="exam-review"></div>
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-primary" onclick="startExam()">üîÑ Repetir Examen</button>
                </div>
            </div>
        </section>
        
        <!-- VERDADERO O FALSO -->
        <section class="section" id="section-vof">
            <div class="section-header">
                <h2>‚úÖ Verdadero o Falso</h2>
                <p>Decide si cada afirmaci√≥n es correcta o incorrecta</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card success">
                    <div class="stat-value" id="vof-correct">0</div>
                    <div class="stat-label">Correctas</div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-value" id="vof-incorrect">0</div>
                    <div class="stat-label">Incorrectas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="vof-remaining">0</div>
                    <div class="stat-label">Restantes</div>
                </div>
            </div>
            
            <div class="tabs" id="vof-tabs">
                <button class="tab active" data-category="all">üìö Todos</button>
                <button class="tab" data-category="radio">üì° Radio</button>
                <button class="tab" data-category="ip">üåê IP/Redes</button>
                <button class="tab" data-category="fibra">üí° Fibra</button>
                <button class="tab" data-category="bert">üî¨ BERT/RFC</button>
            </div>
            
            <!-- Pantalla de inicio V/F -->
            <div class="card" id="vof-start" style="text-align: center; padding: 40px;">
                <h3 style="margin-bottom: 20px;">üéØ Prueba de Verdadero o Falso</h3>
                <p style="margin-bottom: 30px; opacity: 0.8;">Lee cada afirmaci√≥n y decide si es verdadera o falsa.<br>¬°Pon a prueba tus conocimientos!</p>
                <button class="btn btn-primary" onclick="startVoF()" style="font-size: 1.3em; padding: 20px 50px;">‚ñ∂Ô∏è Comenzar</button>
            </div>
            
            <!-- Pregunta V/F -->
            <div class="card" id="vof-question" style="display: none;">
                <div style="text-align: center; margin-bottom: 10px; opacity: 0.6;" id="vof-counter">Pregunta 1 de 20</div>
                <div style="background: rgba(255,255,255,0.05); padding: 25px; border-radius: 15px; margin-bottom: 25px;">
                    <p style="font-size: 1.3em; line-height: 1.6; text-align: center;" id="vof-statement">Afirmaci√≥n aqu√≠</p>
                </div>
                <div style="display: flex; gap: 20px; justify-content: center;">
                    <button class="btn btn-success" onclick="answerVoF(true)" id="btn-verdadero" style="flex: 1; max-width: 200px; font-size: 1.2em; padding: 20px;">
                        ‚úÖ VERDADERO
                    </button>
                    <button class="btn btn-danger" onclick="answerVoF(false)" id="btn-falso" style="flex: 1; max-width: 200px; font-size: 1.2em; padding: 20px;">
                        ‚ùå FALSO
                    </button>
                </div>
                <div id="vof-feedback" style="display: none; margin-top: 25px; padding: 20px; border-radius: 12px; text-align: center;"></div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-primary" onclick="nextVoF()" id="vof-next-btn" style="display: none;">Siguiente ‚Üí</button>
                </div>
            </div>
            
            <!-- Resultado V/F -->
            <div class="card" id="vof-result" style="display: none;">
                <h3 style="text-align: center; margin-bottom: 20px;">üìä Resultado Final</h3>
                <div style="text-align: center; font-size: 4em; margin-bottom: 20px;" id="vof-final-emoji">üéâ</div>
                <div style="text-align: center; font-size: 2.5em; font-weight: bold; margin-bottom: 10px;" id="vof-final-score">0%</div>
                <div style="text-align: center; margin-bottom: 30px;" id="vof-final-text">Resultado</div>
                <div id="vof-review"></div>
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-primary" onclick="startVoF()">üîÑ Repetir</button>
                </div>
            </div>
        </section>
        
        <!-- EJERCICIOS -->
        <section class="section" id="section-ejercicios">
            <div class="section-header">
                <h2>‚úçÔ∏è Ejercicios de F√≥rmulas</h2>
                <p>Completa los espacios en blanco</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card success">
                    <div class="stat-value" id="ex-correct">0</div>
                    <div class="stat-label">‚úì Correctas</div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-value" id="ex-incorrect">0</div>
                    <div class="stat-label">‚úó Incorrectas</div>
                </div>
            </div>
            
            <div class="tabs" id="ex-tabs">
                <button class="tab active" data-category="all">üìö Todas</button>
                <button class="tab" data-category="radio">üì° Radio</button>
                <button class="tab" data-category="optica">üí° √ìptica</button>
                <button class="tab" data-category="redes">üåê Redes</button>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="ex-progress" style="width: 0%"></div>
            </div>
            
            <div id="exercise-container" class="card">
                <!-- Ejercicio se carga aqu√≠ -->
            </div>
            
            <div class="controls" style="margin-top: 20px;">
                <button class="btn btn-secondary" onclick="prevExercise()">‚Üê Anterior</button>
                <button class="btn btn-primary" id="check-exercise-btn" onclick="checkExercise()">Verificar</button>
                <button class="btn btn-secondary" id="next-exercise-btn" onclick="nextExercise()" disabled>Siguiente ‚Üí</button>
            </div>
        </section>
        
        <!-- CALCULADORAS -->
        <section class="section" id="section-calculadoras">
            <div class="section-header">
                <h2>üßÆ Calculadoras T√©cnicas</h2>
                <p>Herramientas para c√°lculos de radioenlaces, fibra y redes</p>
            </div>
            
            <div class="tabs" id="calc-tabs">
                <button class="tab active" data-calc="fresnel">üì° Fresnel</button>
                <button class="tab" data-calc="power">üí° Power Budget</button>
                <button class="tab" data-calc="pon">üî± PON/FTTH</button>
                <button class="tab" data-calc="subnet">üåê Subnetting</button>
                <button class="tab" data-calc="link">üì∂ Link Budget</button>
                <button class="tab" data-calc="wavelength">üåä Longitud Onda</button>
                <button class="tab" data-calc="ber">üìä BER</button>
            </div>
            
            <div id="calc-container">
                <!-- Calculadora Fresnel -->
                <div class="calculator-card" id="calc-fresnel">
                    <h3 style="text-align: center; margin-bottom: 20px;">üì° Zona de Fresnel</h3>
                    <div class="formula-display">rF = 17.3 √ó ‚àö(d‚ÇÅ √ó d‚ÇÇ / (f √ó d))</div>
                    
                    <div class="input-group">
                        <label>Distancia total (km)</label>
                        <input type="number" class="input" id="fresnel-d" placeholder="Ej: 10">
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Distancia d‚ÇÅ (km)</label>
                            <input type="number" class="input" id="fresnel-d1" placeholder="Ej: 5">
                        </div>
                        <div class="input-group">
                            <label>Frecuencia (GHz)</label>
                            <input type="number" class="input" id="fresnel-f" placeholder="Ej: 7">
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" style="width: 100%;" onclick="calcFresnel()">Calcular</button>
                    
                    <div class="result-box" id="fresnel-result">
                        <div class="result-value" id="fresnel-value">0 m</div>
                        <div class="result-label">Radio 1¬™ Zona de Fresnel</div>
                        <div class="result-details" id="fresnel-details"></div>
                    </div>
                </div>
                
                <!-- Calculadora Power Budget -->
                <div class="calculator-card" id="calc-power" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 20px;">üí° Power Budget √ìptico</h3>
                    <div class="formula-display">Power Budget = Tx min - Rx sensibilidad</div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label>Tx m√≠nimo (dBm)</label>
                            <input type="number" class="input" id="pb-tx" placeholder="Ej: -5">
                        </div>
                        <div class="input-group">
                            <label>Rx sensibilidad (dBm)</label>
                            <input type="number" class="input" id="pb-rx" placeholder="Ej: -28">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Distancia (km)</label>
                            <input type="number" class="input" id="pb-dist" placeholder="Ej: 20">
                        </div>
                        <div class="input-group">
                            <label>Atenuaci√≥n (dB/km)</label>
                            <input type="number" class="input" id="pb-att" value="0.35">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Empalmes</label>
                            <input type="number" class="input" id="pb-splices" value="0">
                        </div>
                        <div class="input-group">
                            <label>Conectores</label>
                            <input type="number" class="input" id="pb-conn" value="4">
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" style="width: 100%;" onclick="calcPowerBudget()">Calcular</button>
                    
                    <div class="result-box" id="pb-result">
                        <div class="result-value" id="pb-value">0 dB</div>
                        <div class="result-label" id="pb-status">Estado</div>
                        <div class="result-details" id="pb-details"></div>
                    </div>
                </div>
                
                <!-- Calculadora Subnetting -->
                <div class="calculator-card" id="calc-subnet" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 20px;">üåê Subnetting</h3>
                    <div class="formula-display">Hosts = 2^(32 - prefijo) - 2</div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label>Direcci√≥n IP</label>
                            <input type="text" class="input" id="subnet-ip" placeholder="192.168.10.0">
                        </div>
                        <div class="input-group">
                            <label>Prefijo CIDR</label>
                            <select class="input" id="subnet-cidr">
                                <option value="24">/24 (255.255.255.0)</option>
                                <option value="25">/25 (255.255.255.128)</option>
                                <option value="26">/26 (255.255.255.192)</option>
                                <option value="27">/27 (255.255.255.224)</option>
                                <option value="28">/28 (255.255.255.240)</option>
                                <option value="29">/29 (255.255.255.248)</option>
                                <option value="30">/30 (255.255.255.252)</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" style="width: 100%;" onclick="calcSubnet()">Calcular</button>
                    
                    <div class="result-box" id="subnet-result">
                        <div class="result-value" id="subnet-value">0</div>
                        <div class="result-label">Hosts utilizables</div>
                        <div class="result-details" id="subnet-details"></div>
                    </div>
                </div>
                
                <!-- Calculadora Link Budget -->
                <div class="calculator-card" id="calc-link" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 20px;">üì∂ Link Budget Radio</h3>
                    <div class="formula-display">ABF = 92.4 + 20√ólog(f) + 20√ólog(d)</div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label>Potencia Tx (dBm)</label>
                            <input type="number" class="input" id="lb-ptx" placeholder="Ej: 20">
                        </div>
                        <div class="input-group">
                            <label>Frecuencia (GHz)</label>
                            <input type="number" class="input" id="lb-freq" placeholder="Ej: 7">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Distancia (km)</label>
                            <input type="number" class="input" id="lb-dist" placeholder="Ej: 10">
                        </div>
                        <div class="input-group">
                            <label>Sensibilidad Rx (dBm)</label>
                            <input type="number" class="input" id="lb-sens" placeholder="Ej: -80">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Ganancia Tx (dBi)</label>
                            <input type="number" class="input" id="lb-gtx" placeholder="Ej: 35">
                        </div>
                        <div class="input-group">
                            <label>Ganancia Rx (dBi)</label>
                            <input type="number" class="input" id="lb-grx" placeholder="Ej: 35">
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" style="width: 100%;" onclick="calcLinkBudget()">Calcular</button>
                    
                    <div class="result-box" id="lb-result">
                        <div class="result-value" id="lb-value">0 dB</div>
                        <div class="result-label" id="lb-status">Fade Margin</div>
                        <div class="result-details" id="lb-details"></div>
                    </div>
                </div>
                
                <!-- Calculadora Wavelength -->
                <div class="calculator-card" id="calc-wavelength" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 20px;">üåä Longitud de Onda</h3>
                    <div class="formula-display">Œª (cm) = 30 / f (GHz)</div>
                    
                    <div class="input-group">
                        <label>Frecuencia (GHz)</label>
                        <input type="number" class="input" id="wl-freq" placeholder="Ej: 7">
                    </div>
                    
                    <button class="btn btn-primary" style="width: 100%;" onclick="calcWavelength()">Calcular</button>
                    
                    <div class="result-box" id="wl-result">
                        <div class="result-value" id="wl-value">0 cm</div>
                        <div class="result-label">Longitud de onda</div>
                        <div class="result-details" id="wl-details"></div>
                    </div>
                </div>
                
                <!-- Calculadora PON/FTTH -->
                <div class="calculator-card" id="calc-pon" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 20px;">üî± P√©rdidas PON/FTTH</h3>
                    <div class="formula-display">P√©rdida Total = Fibra + Splitters + Conectores + Empalmes</div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label>Distancia fibra (km)</label>
                            <input type="number" class="input" id="pon-dist" placeholder="Ej: 15" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Atenuaci√≥n (dB/km)</label>
                            <input type="number" class="input" id="pon-att" value="0.35" step="0.01">
                        </div>
                    </div>
                    
                    <h4 style="margin: 15px 0 10px; opacity: 0.8;">Splitters (seleccionar los usados):</h4>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Splitter 1:2 (3.5 dB)</label>
                            <input type="number" class="input" id="pon-sp2" placeholder="0" min="0" value="0">
                        </div>
                        <div class="input-group">
                            <label>Splitter 1:4 (7 dB)</label>
                            <input type="number" class="input" id="pon-sp4" placeholder="0" min="0" value="0">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Splitter 1:8 (10.5 dB)</label>
                            <input type="number" class="input" id="pon-sp8" placeholder="0" min="0" value="0">
                        </div>
                        <div class="input-group">
                            <label>Splitter 1:16 (14 dB)</label>
                            <input type="number" class="input" id="pon-sp16" placeholder="0" min="0" value="0">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Splitter 1:32 (17 dB)</label>
                            <input type="number" class="input" id="pon-sp32" placeholder="0" min="0" value="0">
                        </div>
                        <div class="input-group">
                            <label>Splitter 1:64 (20 dB)</label>
                            <input type="number" class="input" id="pon-sp64" placeholder="0" min="0" value="0">
                        </div>
                    </div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label>Conectores (0.5 dB c/u)</label>
                            <input type="number" class="input" id="pon-conn" placeholder="Ej: 4" min="0" value="4">
                        </div>
                        <div class="input-group">
                            <label>Empalmes (0.1 dB c/u)</label>
                            <input type="number" class="input" id="pon-splice" placeholder="Ej: 3" min="0" value="3">
                        </div>
                    </div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label>OLT Tx m√≠nimo (dBm)</label>
                            <input type="number" class="input" id="pon-olt-tx" value="3" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>ONT Rx sensibilidad (dBm)</label>
                            <input type="number" class="input" id="pon-ont-rx" value="-28" step="0.1">
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" style="width: 100%;" onclick="calcPON()">Calcular P√©rdidas</button>
                    
                    <div class="result-box" id="pon-result">
                        <div class="result-value" id="pon-value">0 dB</div>
                        <div class="result-label" id="pon-status">P√©rdida Total</div>
                        <div class="result-details" id="pon-details"></div>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px;">
                        <h4 style="margin-bottom: 10px;">üìã Referencia de P√©rdidas por Splitter:</h4>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; font-size: 0.9em;">
                            <div>1:2 ‚Üí <strong>3.5 dB</strong></div>
                            <div>1:4 ‚Üí <strong>7 dB</strong></div>
                            <div>1:8 ‚Üí <strong>10.5 dB</strong></div>
                            <div>1:16 ‚Üí <strong>14 dB</strong></div>
                            <div>1:32 ‚Üí <strong>17 dB</strong></div>
                            <div>1:64 ‚Üí <strong>20 dB</strong></div>
                        </div>
                        <p style="margin-top: 10px; opacity: 0.7; font-size: 0.85em;">Power Budget t√≠pico GPON Clase B+: <strong>28 dB</strong></p>
                    </div>
                </div>
                
                <!-- Calculadora BER -->
                <div class="calculator-card" id="calc-ber" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 20px;">üìä Tasa de Error (BER)</h3>
                    <div class="formula-display">BER = Bits error / Bits totales</div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label>Bits con error</label>
                            <input type="number" class="input" id="ber-errors" placeholder="Ej: 1">
                        </div>
                        <div class="input-group">
                            <label>Bits totales</label>
                            <input type="text" class="input" id="ber-total" placeholder="Ej: 1000000000">
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" style="width: 100%;" onclick="calcBER()">Calcular</button>
                    
                    <div class="result-box" id="ber-result">
                        <div class="result-value" id="ber-value">0</div>
                        <div class="result-label" id="ber-status">BER</div>
                        <div class="result-details" id="ber-details"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- MAPAS CONCEPTUALES -->
        <section class="section" id="section-mapas">
            <div class="section-header">
                <h2>üó∫Ô∏è Mapas Conceptuales</h2>
                <p>Diagramas visuales para entender conceptos clave</p>
            </div>
            
            <div class="tabs" id="map-tabs">
                <button class="tab active" data-map="osi">üåê OSI/TCP-IP</button>
                <button class="tab" data-map="ethernet">üîå Ethernet/Redes</button>
                <button class="tab" data-map="gpon">üî± GPON/FTTH</button>
                <button class="tab" data-map="fibra">üí° Fibra</button>
                <button class="tab" data-map="radio">üì° Config. Radio</button>
                <button class="tab" data-map="transceptores">üîå Transceptores</button>
                <button class="tab" data-map="avanzado">üéì Avanzado</button>
            </div>
            
            <div id="map-container">
                <!-- Mapa GPON/FTTH -->
                <div class="card" id="map-gpon" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 30px;">üî± Arquitectura GPON / FTTH</h3>
                    
                    <!-- Diagrama Visual -->
                    <div style="background: linear-gradient(135deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1)); border-radius: 15px; padding: 25px; margin-bottom: 25px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
                            <!-- OLT -->
                            <div style="text-align: center; flex: 1; min-width: 120px;">
                                <div style="font-size: 3em;">üè¢</div>
                                <div style="font-weight: bold; color: var(--primary);">OLT</div>
                                <div style="font-size: 0.8em; opacity: 0.8;">Central</div>
                                <div style="font-size: 0.75em; background: rgba(255,255,255,0.1); padding: 5px; border-radius: 5px; margin-top: 5px;">
                                    Tx: 1490nm ‚Üì<br>Rx: 1310nm ‚Üë
                                </div>
                            </div>
                            
                            <!-- Fibra Troncal -->
                            <div style="flex: 0.5; text-align: center;">
                                <div style="height: 4px; background: linear-gradient(90deg, #ffc107, #ff9800); margin: 20px 0;"></div>
                                <div style="font-size: 0.8em;">Fibra Troncal<br>(hasta 20km)</div>
                            </div>
                            
                            <!-- Splitter -->
                            <div style="text-align: center; flex: 1; min-width: 120px;">
                                <div style="font-size: 2.5em;">üîÄ</div>
                                <div style="font-weight: bold; color: var(--warning);">SPLITTER</div>
                                <div style="font-size: 0.8em; opacity: 0.8;">Pasivo (sin energ√≠a)</div>
                                <div style="font-size: 0.75em; background: rgba(255,255,255,0.1); padding: 5px; border-radius: 5px; margin-top: 5px;">
                                    1:32 = 17dB<br>1:64 = 20dB
                                </div>
                            </div>
                            
                            <!-- Fibra Distribuci√≥n -->
                            <div style="flex: 0.5; text-align: center;">
                                <div style="height: 4px; background: linear-gradient(90deg, #4caf50, #8bc34a); margin: 20px 0;"></div>
                                <div style="font-size: 0.8em;">Fibra Drop</div>
                            </div>
                            
                            <!-- ONTs -->
                            <div style="text-align: center; flex: 1; min-width: 120px;">
                                <div style="font-size: 2em;">üè† üè† üè†</div>
                                <div style="font-weight: bold; color: var(--success);">ONT/ONU</div>
                                <div style="font-size: 0.8em; opacity: 0.8;">Usuarios</div>
                                <div style="font-size: 0.75em; background: rgba(255,255,255,0.1); padding: 5px; border-radius: 5px; margin-top: 5px;">
                                    Hasta 128 por PON
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Velocidades GPON -->
                    <h4 style="text-align: center; margin: 25px 0 15px;">üìä Velocidades PON</h4>
                    <div class="cards-grid" style="grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));">
                        <div class="card" style="text-align: center; border-top: 4px solid #2196f3;">
                            <h4 style="color: #2196f3;">GPON</h4>
                            <div style="font-size: 1.1em;">‚Üì 2.488 Gbps</div>
                            <div style="font-size: 1.1em;">‚Üë 1.244 Gbps</div>
                            <div style="font-size: 0.8em; opacity: 0.7; margin-top: 5px;">ITU-T G.984</div>
                        </div>
                        <div class="card" style="text-align: center; border-top: 4px solid #9c27b0;">
                            <h4 style="color: #9c27b0;">XG-PON</h4>
                            <div style="font-size: 1.1em;">‚Üì 10 Gbps</div>
                            <div style="font-size: 1.1em;">‚Üë 2.5 Gbps</div>
                            <div style="font-size: 0.8em; opacity: 0.7; margin-top: 5px;">ITU-T G.987</div>
                        </div>
                        <div class="card" style="text-align: center; border-top: 4px solid #4caf50;">
                            <h4 style="color: #4caf50;">XGS-PON</h4>
                            <div style="font-size: 1.1em;">‚Üì 10 Gbps</div>
                            <div style="font-size: 1.1em;">‚Üë 10 Gbps</div>
                            <div style="font-size: 0.8em; opacity: 0.7; margin-top: 5px;">Sim√©trico</div>
                        </div>
                        <div class="card" style="text-align: center; border-top: 4px solid #ff9800;">
                            <h4 style="color: #ff9800;">NG-PON2</h4>
                            <div style="font-size: 1.1em;">‚Üì 40 Gbps</div>
                            <div style="font-size: 1.1em;">‚Üë 10 Gbps</div>
                            <div style="font-size: 0.8em; opacity: 0.7; margin-top: 5px;">TWDM</div>
                        </div>
                    </div>
                    
                    <!-- Caracter√≠sticas -->
                    <h4 style="text-align: center; margin: 25px 0 15px;">‚öôÔ∏è Caracter√≠sticas GPON</h4>
                    <div class="cards-grid">
                        <div class="card" style="border-left: 4px solid var(--primary);">
                            <h4>üì§ Downstream (OLT‚ÜíONT)</h4>
                            <ul style="list-style: none; opacity: 0.9;">
                                <li>‚Ä¢ Broadcast a todas las ONTs</li>
                                <li>‚Ä¢ Cada ONT filtra sus datos</li>
                                <li>‚Ä¢ Cifrado AES por seguridad</li>
                                <li>‚Ä¢ Œª = 1490 nm</li>
                            </ul>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--success);">
                            <h4>üì• Upstream (ONT‚ÜíOLT)</h4>
                            <ul style="list-style: none; opacity: 0.9;">
                                <li>‚Ä¢ TDMA (ventanas de tiempo)</li>
                                <li>‚Ä¢ OLT asigna slots a cada ONT</li>
                                <li>‚Ä¢ Ranging para sincronizaci√≥n</li>
                                <li>‚Ä¢ Œª = 1310 nm</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Elementos -->
                    <h4 style="text-align: center; margin: 25px 0 15px;">üîß Elementos de Red PON</h4>
                    <div class="cards-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 2em;">üè¢</div>
                            <h4>OLT</h4>
                            <p style="font-size: 0.9em;">Optical Line Terminal</p>
                            <ul style="list-style: none; font-size: 0.85em; opacity: 0.9;">
                                <li>En la central</li>
                                <li>Gestiona toda la PON</li>
                                <li>Conexi√≥n a red core</li>
                            </ul>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 2em;">üîÄ</div>
                            <h4>Splitter</h4>
                            <p style="font-size: 0.9em;">Divisor √ìptico Pasivo</p>
                            <ul style="list-style: none; font-size: 0.85em; opacity: 0.9;">
                                <li>No requiere energ√≠a</li>
                                <li>1:2 hasta 1:128</li>
                                <li>Divide potencia √≥ptica</li>
                            </ul>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 2em;">üì¶</div>
                            <h4>ONT/ONU</h4>
                            <p style="font-size: 0.9em;">Optical Network Terminal</p>
                            <ul style="list-style: none; font-size: 0.85em; opacity: 0.9;">
                                <li>En casa del cliente</li>
                                <li>Conversi√≥n √≥ptico-el√©ctrico</li>
                                <li>Puertos ETH, WiFi, Tel</li>
                            </ul>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 2em;">üèóÔ∏è</div>
                            <h4>MDU</h4>
                            <p style="font-size: 0.9em;">Multi Dwelling Unit</p>
                            <ul style="list-style: none; font-size: 0.85em; opacity: 0.9;">
                                <li>Para edificios</li>
                                <li>M√∫ltiples puertos</li>
                                <li>VDSL2 o Ethernet</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Power Budget -->
                    <h4 style="text-align: center; margin: 25px 0 15px;">üí° Power Budget GPON</h4>
                    <div class="card" style="background: linear-gradient(135deg, rgba(76,175,80,0.2), rgba(33,150,243,0.2));">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <span style="font-size: 1.3em; font-weight: bold;">Clase B+ = 28 dB</span>
                            <span style="margin: 0 15px;">|</span>
                            <span style="font-size: 1.3em; font-weight: bold;">Clase C+ = 32 dB</span>
                        </div>
                        <table style="width: 100%; border-collapse: collapse; font-size: 0.9em;">
                            <tr style="background: rgba(255,255,255,0.1);">
                                <th style="padding: 8px; text-align: left;">Elemento</th>
                                <th style="padding: 8px; text-align: center;">P√©rdida t√≠pica</th>
                            </tr>
                            <tr><td style="padding: 8px;">Fibra SM @1310nm</td><td style="text-align: center;">0.35 dB/km</td></tr>
                            <tr style="background: rgba(255,255,255,0.05);"><td style="padding: 8px;">Fibra SM @1490nm</td><td style="text-align: center;">0.25 dB/km</td></tr>
                            <tr><td style="padding: 8px;">Splitter 1:32</td><td style="text-align: center;">17 dB</td></tr>
                            <tr style="background: rgba(255,255,255,0.05);"><td style="padding: 8px;">Splitter 1:64</td><td style="text-align: center;">20 dB</td></tr>
                            <tr><td style="padding: 8px;">Conector SC/APC</td><td style="text-align: center;">0.3-0.5 dB</td></tr>
                            <tr style="background: rgba(255,255,255,0.05);"><td style="padding: 8px;">Empalme fusi√≥n</td><td style="text-align: center;">0.1 dB</td></tr>
                        </table>
                    </div>
                    
                    <!-- Protocolos -->
                    <h4 style="text-align: center; margin: 25px 0 15px;">üì° Protocolos y Gesti√≥n</h4>
                    <div class="cards-grid">
                        <div class="card" style="text-align: center; background: rgba(156,39,176,0.1);">
                            <h4>GEM</h4>
                            <p>GPON Encapsulation Method</p>
                            <div style="font-size: 0.85em; opacity: 0.8;">Encapsula Ethernet, TDM, etc.</div>
                        </div>
                        <div class="card" style="text-align: center; background: rgba(33,150,243,0.1);">
                            <h4>OMCI</h4>
                            <p>ONT Management & Control</p>
                            <div style="font-size: 0.85em; opacity: 0.8;">Gesti√≥n remota de ONTs</div>
                        </div>
                        <div class="card" style="text-align: center; background: rgba(76,175,80,0.1);">
                            <h4>PLOAM</h4>
                            <p>Physical Layer OAM</p>
                            <div style="font-size: 0.85em; opacity: 0.8;">Activaci√≥n, ranging, alarmas</div>
                        </div>
                    </div>
                </div>
                
                <!-- Mapa OSI -->
                <div class="card" id="map-osi">
                    <h3 style="text-align: center; margin-bottom: 30px;">Modelo OSI vs TCP/IP</h3>
                    
                    <div class="layer">
                        <div class="layer-number">7</div>
                        <div class="layer-content">
                            <div class="layer-box" style="background: rgba(156,39,176,0.2);">
                                <h4>Aplicaci√≥n</h4>
                                <ul><li>HTTP, FTP, DNS</li><li>SMTP, POP3</li></ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="layer">
                        <div class="layer-number">6</div>
                        <div class="layer-content">
                            <div class="layer-box" style="background: rgba(103,58,183,0.2);">
                                <h4>Presentaci√≥n</h4>
                                <ul><li>Formato datos</li><li>Cifrado</li></ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="layer">
                        <div class="layer-number">5</div>
                        <div class="layer-content">
                            <div class="layer-box" style="background: rgba(63,81,181,0.2);">
                                <h4>Sesi√≥n</h4>
                                <ul><li>Control di√°logos</li><li>Sincronizaci√≥n</li></ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="layer">
                        <div class="layer-number">4</div>
                        <div class="layer-content">
                            <div class="layer-box" style="background: rgba(33,150,243,0.2);">
                                <h4>Transporte</h4>
                                <ul><li>TCP: Conexi√≥n, confiable</li><li>UDP: Sin conexi√≥n, r√°pido</li><li>Puertos 0-65535</li></ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="layer">
                        <div class="layer-number">3</div>
                        <div class="layer-content">
                            <div class="layer-box" style="background: rgba(0,188,212,0.2);">
                                <h4>Red</h4>
                                <ul><li>IP: 32 bits (IPv4)</li><li>Routing: RIP, OSPF</li><li>ICMP, ARP, NAT</li></ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="layer">
                        <div class="layer-number">2</div>
                        <div class="layer-content">
                            <div class="layer-box" style="background: rgba(76,175,80,0.2);">
                                <h4>Enlace</h4>
                                <ul><li>MAC: 48 bits</li><li>Ethernet, WiFi</li><li>Switch opera aqu√≠</li></ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="layer">
                        <div class="layer-number">1</div>
                        <div class="layer-content">
                            <div class="layer-box" style="background: rgba(255,152,0,0.2);">
                                <h4>F√≠sica</h4>
                                <ul><li>Cables: UTP, Fibra</li><li>Conectores: RJ-45, LC</li><li>Hub opera aqu√≠</li></ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Mapa Ethernet/Redes -->
                <div class="card" id="map-ethernet" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 30px;">üîå Conceptos de Redes y Ethernet</h3>
                    
                    <!-- Clasificaci√≥n de Redes -->
                    <div class="cards-grid">
                        <div class="card" style="border-top: 4px solid var(--primary);">
                            <h4 style="color: var(--primary);">üè¢ LAN</h4>
                            <p>Local Area Network</p>
                            <ul style="list-style: none; opacity: 0.9;">
                                <li>‚Ä¢ √Årea: Edificio/Campus</li>
                                <li>‚Ä¢ Alta velocidad</li>
                                <li>‚Ä¢ Propiedad privada</li>
                            </ul>
                        </div>
                        <div class="card" style="border-top: 4px solid var(--success);">
                            <h4 style="color: var(--success);">üåÜ MAN</h4>
                            <p>Metropolitan Area Network</p>
                            <ul style="list-style: none; opacity: 0.9;">
                                <li>‚Ä¢ √Årea: Ciudad</li>
                                <li>‚Ä¢ Media velocidad</li>
                                <li>‚Ä¢ Interconecta LANs</li>
                            </ul>
                        </div>
                        <div class="card" style="border-top: 4px solid var(--warning);">
                            <h4 style="color: var(--warning);">üåç WAN</h4>
                            <p>Wide Area Network</p>
                            <ul style="list-style: none; opacity: 0.9;">
                                <li>‚Ä¢ √Årea: Pa√≠s/Continente</li>
                                <li>‚Ä¢ Menor velocidad</li>
                                <li>‚Ä¢ L√≠neas arrendadas</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Dispositivos por Capa -->
                    <h4 style="text-align: center; margin: 30px 0 20px;">üìç Dispositivos por Capa</h4>
                    <div class="cards-grid">
                        <div class="card" style="text-align: center; border-left: 4px solid #ff9800;">
                            <div style="font-size: 2em;">üîå</div>
                            <h4>Hub</h4>
                            <p style="font-weight: bold; color: #ff9800;">Capa 1 - F√≠sica</p>
                            <ul style="list-style: none; font-size: 0.9em;">
                                <li>Repite a TODOS</li>
                                <li>Causa colisiones</li>
                                <li>Half Duplex</li>
                            </ul>
                        </div>
                        <div class="card" style="text-align: center; border-left: 4px solid #4caf50;">
                            <div style="font-size: 2em;">üîÄ</div>
                            <h4>Switch</h4>
                            <p style="font-weight: bold; color: #4caf50;">Capa 2 - Enlace</p>
                            <ul style="list-style: none; font-size: 0.9em;">
                                <li>Env√≠a solo al destino</li>
                                <li>Usa direcciones MAC</li>
                                <li>Full Duplex</li>
                            </ul>
                        </div>
                        <div class="card" style="text-align: center; border-left: 4px solid #2196f3;">
                            <div style="font-size: 2em;">üåê</div>
                            <h4>Router</h4>
                            <p style="font-weight: bold; color: #2196f3;">Capa 3 - Red</p>
                            <ul style="list-style: none; font-size: 0.9em;">
                                <li>Interconecta redes</li>
                                <li>Usa direcciones IP</li>
                                <li>Detiene broadcasts</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Trama Ethernet -->
                    <h4 style="text-align: center; margin: 30px 0 20px;">üì¶ Trama Ethernet</h4>
                    <div class="card" style="background: linear-gradient(135deg, rgba(33,150,243,0.2), rgba(156,39,176,0.2));">
                        <div style="display: flex; flex-wrap: wrap; gap: 5px; justify-content: center; text-align: center;">
                            <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px; min-width: 80px;">
                                <div style="font-weight: bold;">Pre√°mbulo</div>
                                <div style="font-size: 0.8em;">8 bytes</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px; min-width: 80px;">
                                <div style="font-weight: bold;">MAC Dest</div>
                                <div style="font-size: 0.8em;">6 bytes</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px; min-width: 80px;">
                                <div style="font-weight: bold;">MAC Orig</div>
                                <div style="font-size: 0.8em;">6 bytes</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px; min-width: 60px;">
                                <div style="font-weight: bold;">Tipo</div>
                                <div style="font-size: 0.8em;">2 bytes</div>
                            </div>
                            <div style="background: rgba(76,175,80,0.3); padding: 10px; border-radius: 5px; min-width: 120px;">
                                <div style="font-weight: bold;">DATOS</div>
                                <div style="font-size: 0.8em;">46-1500 bytes</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px; min-width: 60px;">
                                <div style="font-weight: bold;">FCS</div>
                                <div style="font-size: 0.8em;">4 bytes</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 15px; opacity: 0.8;">
                            <p>Tama√±o total: <strong>64 - 1518 bytes</strong> | MTU: <strong>1500 bytes</strong></p>
                        </div>
                    </div>
                    
                    <!-- Puertos Importantes -->
                    <h4 style="text-align: center; margin: 30px 0 20px;">üö™ Puertos TCP/UDP Importantes</h4>
                    <div class="cards-grid" style="grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));">
                        <div class="card" style="text-align: center; padding: 15px;">
                            <div style="font-size: 1.5em; font-weight: bold; color: var(--primary);">20/21</div>
                            <div>FTP</div>
                        </div>
                        <div class="card" style="text-align: center; padding: 15px;">
                            <div style="font-size: 1.5em; font-weight: bold; color: var(--danger);">22</div>
                            <div>SSH</div>
                        </div>
                        <div class="card" style="text-align: center; padding: 15px;">
                            <div style="font-size: 1.5em; font-weight: bold; color: var(--warning);">23</div>
                            <div>Telnet</div>
                        </div>
                        <div class="card" style="text-align: center; padding: 15px;">
                            <div style="font-size: 1.5em; font-weight: bold; color: var(--success);">53</div>
                            <div>DNS</div>
                        </div>
                        <div class="card" style="text-align: center; padding: 15px;">
                            <div style="font-size: 1.5em; font-weight: bold; color: #2196f3;">80</div>
                            <div>HTTP</div>
                        </div>
                        <div class="card" style="text-align: center; padding: 15px;">
                            <div style="font-size: 1.5em; font-weight: bold; color: #9c27b0;">443</div>
                            <div>HTTPS</div>
                        </div>
                    </div>
                    
                    <!-- IPs Privadas -->
                    <h4 style="text-align: center; margin: 30px 0 20px;">üîí Rangos de IPs Privadas</h4>
                    <div class="cards-grid">
                        <div class="card" style="border-left: 4px solid var(--primary);">
                            <h4 style="color: var(--primary);">Clase A</h4>
                            <p style="font-family: monospace; font-size: 1.1em;">10.0.0.0/8</p>
                            <p style="opacity: 0.8;">10.0.0.0 - 10.255.255.255</p>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--success);">
                            <h4 style="color: var(--success);">Clase B</h4>
                            <p style="font-family: monospace; font-size: 1.1em;">172.16.0.0/12</p>
                            <p style="opacity: 0.8;">172.16.0.0 - 172.31.255.255</p>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--warning);">
                            <h4 style="color: var(--warning);">Clase C</h4>
                            <p style="font-family: monospace; font-size: 1.1em;">192.168.0.0/16</p>
                            <p style="opacity: 0.8;">192.168.0.0 - 192.168.255.255</p>
                        </div>
                    </div>
                    
                    <!-- TCP vs UDP -->
                    <h4 style="text-align: center; margin: 30px 0 20px;">‚öñÔ∏è TCP vs UDP</h4>
                    <div class="cards-grid">
                        <div class="card" style="border-top: 4px solid var(--success);">
                            <h4 style="color: var(--success);">TCP</h4>
                            <ul style="list-style: none;">
                                <li>‚úÖ Orientado a conexi√≥n</li>
                                <li>‚úÖ Confiable (ACKs)</li>
                                <li>‚úÖ Control de flujo</li>
                                <li>‚úÖ Ordenado</li>
                                <li>‚ùå M√°s lento</li>
                                <li>üìã HTTP, FTP, SSH</li>
                            </ul>
                        </div>
                        <div class="card" style="border-top: 4px solid var(--warning);">
                            <h4 style="color: var(--warning);">UDP</h4>
                            <ul style="list-style: none;">
                                <li>‚ùå Sin conexi√≥n</li>
                                <li>‚ùå No confiable</li>
                                <li>‚ùå Sin control flujo</li>
                                <li>‚ùå Sin orden</li>
                                <li>‚úÖ M√°s r√°pido</li>
                                <li>üìã DNS, VoIP, Stream</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Mapa Fibra -->
                <div class="card" id="map-fibra" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 30px;">Tipos de Fibra √ìptica</h3>
                    
                    <div class="fiber-section fiber-sm">
                        <div class="fiber-visual">
                            <div class="fiber-circle"></div>
                            <p style="margin-top: 10px;">N√∫cleo peque√±o</p>
                        </div>
                        <div class="fiber-info">
                            <h3>üü° Monomodo (SM) - Amarilla</h3>
                            <p>Un solo modo de propagaci√≥n. Ideal para largas distancias.</p>
                            <div class="fiber-specs">
                                <div class="fiber-spec">
                                    <div class="fiber-spec-label">N√∫cleo</div>
                                    <div class="fiber-spec-value">8-10 Œºm</div>
                                </div>
                                <div class="fiber-spec">
                                    <div class="fiber-spec-label">Atenuaci√≥n 1550nm</div>
                                    <div class="fiber-spec-value">~0.22 dB/km</div>
                                </div>
                                <div class="fiber-spec">
                                    <div class="fiber-spec-label">Distancia</div>
                                    <div class="fiber-spec-value">>100 km</div>
                                </div>
                                <div class="fiber-spec">
                                    <div class="fiber-spec-label">Fuente</div>
                                    <div class="fiber-spec-value">L√°ser</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="fiber-section fiber-mm">
                        <div class="fiber-visual">
                            <div class="fiber-circle"></div>
                            <p style="margin-top: 10px;">N√∫cleo grande</p>
                        </div>
                        <div class="fiber-info">
                            <h3>üü† Multimodo (MM) - Naranja</h3>
                            <p>M√∫ltiples modos. Econ√≥mica para distancias cortas.</p>
                            <div class="fiber-specs">
                                <div class="fiber-spec">
                                    <div class="fiber-spec-label">N√∫cleo</div>
                                    <div class="fiber-spec-value">50-62.5 Œºm</div>
                                </div>
                                <div class="fiber-spec">
                                    <div class="fiber-spec-label">Atenuaci√≥n</div>
                                    <div class="fiber-spec-value">~3 dB/km</div>
                                </div>
                                <div class="fiber-spec">
                                    <div class="fiber-spec-label">Distancia</div>
                                    <div class="fiber-spec-value">Hasta 2 km</div>
                                </div>
                                <div class="fiber-spec">
                                    <div class="fiber-spec-label">Fuente</div>
                                    <div class="fiber-spec-value">LED/VCSEL</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="cards-grid" style="margin-top: 30px;">
                        <div class="card">
                            <h4 style="color: var(--warning); margin-bottom: 10px;">üìâ P√©rdidas T√≠picas</h4>
                            <ul style="list-style: none;">
                                <li>‚Ä¢ Empalme fusi√≥n: ~0.1 dB</li>
                                <li>‚Ä¢ Conector: ~0.75 dB</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h4 style="color: var(--warning); margin-bottom: 10px;">üîå Conectores</h4>
                            <ul style="list-style: none;">
                                <li>‚Ä¢ LC: M√°s usado, peque√±o</li>
                                <li>‚Ä¢ SC: Push-pull</li>
                                <li>‚Ä¢ MPO: Multi-fibra</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Mapa Radio -->
                <div class="card" id="map-radio" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 30px;">Configuraciones de Radioenlaces</h3>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">ACCP</h4>
                            <p style="margin-bottom: 10px;"><strong>Adjacent Channel Co-Polarization</strong></p>
                            <ul style="list-style: none; opacity: 0.9;">
                                <li>‚Ä¢ Canales adyacentes</li>
                                <li>‚Ä¢ Misma polarizaci√≥n (V-V)</li>
                                <li>‚Ä¢ Antena simple polarizaci√≥n</li>
                                <li>‚Ä¢ XPIC no requerido</li>
                            </ul>
                        </div>
                        
                        <div class="card">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">ACAP</h4>
                            <p style="margin-bottom: 10px;"><strong>Adjacent Channel Alternate Polarized</strong></p>
                            <ul style="list-style: none; opacity: 0.9;">
                                <li>‚Ä¢ Canales adyacentes</li>
                                <li>‚Ä¢ Polarizaci√≥n alternada (V-H)</li>
                                <li>‚Ä¢ Antena doble polarizaci√≥n</li>
                                <li>‚Ä¢ XPIC no requerido</li>
                            </ul>
                        </div>
                        
                        <div class="card">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">CCDP</h4>
                            <p style="margin-bottom: 10px;"><strong>Co-Channel Dual Polarized</strong></p>
                            <ul style="list-style: none; opacity: 0.9;">
                                <li>‚Ä¢ Mismo canal</li>
                                <li>‚Ä¢ V + H simult√°nea</li>
                                <li>‚Ä¢ Antena doble polarizaci√≥n</li>
                                <li style="color: var(--success);">‚Ä¢ ‚úì XPIC requerido</li>
                                <li>‚Ä¢ Duplica capacidad</li>
                            </ul>
                        </div>
                        
                        <div class="card">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">1+1 Hot Standby</h4>
                            <p style="margin-bottom: 10px;"><strong>Con Diversidad de Espacio</strong></p>
                            <ul style="list-style: none; opacity: 0.9;">
                                <li>‚Ä¢ 2 RAUs por sitio</li>
                                <li>‚Ä¢ 2 antenas por sitio</li>
                                <li>‚Ä¢ Protecci√≥n hardware + diversidad</li>
                                <li>‚Ä¢ Conmutaci√≥n autom√°tica</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 20px;">
                        <h4 style="color: var(--warning); margin-bottom: 15px;">‚ö° XPIC - Cross-Polar Interference Canceller</h4>
                        <p>Cancela la interferencia entre polarizaciones cruzadas. Requerido √∫nicamente en configuraci√≥n CCDP para permitir duplicar la capacidad del enlace usando el mismo canal en ambas polarizaciones.</p>
                    </div>
                </div>
                
                <!-- Mapa Transceptores -->
                <div class="card" id="map-transceptores" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 30px;">Transceptores √ìpticos</h3>
                    
                    <div class="cards-grid">
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 2.5em; margin-bottom: 10px;">üîå</div>
                            <h4>SFP</h4>
                            <p style="color: var(--success); font-size: 1.2em; font-weight: bold;">1G / 2.5G</p>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 2.5em; margin-bottom: 10px;">üîå</div>
                            <h4>SFP+</h4>
                            <p style="color: var(--success); font-size: 1.2em; font-weight: bold;">10G</p>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 2.5em; margin-bottom: 10px;">üîå</div>
                            <h4>QSFP+</h4>
                            <p style="color: var(--success); font-size: 1.2em; font-weight: bold;">40G</p>
                        </div>
                        <div class="card" style="text-align: center;">
                            <div style="font-size: 2.5em; margin-bottom: 10px;">üîå</div>
                            <h4>QSFP28</h4>
                            <p style="color: var(--success); font-size: 1.2em; font-weight: bold;">100G</p>
                        </div>
                    </div>
                    
                    <h4 style="text-align: center; margin: 30px 0 20px;">Alcances por Tipo</h4>
                    
                    <div class="cards-grid">
                        <div class="card" style="text-align: center; border-top: 4px solid var(--success);">
                            <h4>SR - Short Reach</h4>
                            <p style="font-size: 1.5em; font-weight: bold; margin: 10px 0;">~100-300m</p>
                            <p style="opacity: 0.8;">Fibra Multimodo</p>
                        </div>
                        <div class="card" style="text-align: center; border-top: 4px solid #2196f3;">
                            <h4>LR - Long Reach</h4>
                            <p style="font-size: 1.5em; font-weight: bold; margin: 10px 0;">~10 km</p>
                            <p style="opacity: 0.8;">Fibra Monomodo</p>
                        </div>
                        <div class="card" style="text-align: center; border-top: 4px solid #9c27b0;">
                            <h4>ER - Extended</h4>
                            <p style="font-size: 1.5em; font-weight: bold; margin: 10px 0;">~40 km</p>
                            <p style="opacity: 0.8;">Fibra Monomodo</p>
                        </div>
                        <div class="card" style="text-align: center; border-top: 4px solid var(--danger);">
                            <h4>ZR - Very Long</h4>
                            <p style="font-size: 1.5em; font-weight: bold; margin: 10px 0;">~80 km+</p>
                            <p style="opacity: 0.8;">Fibra Monomodo</p>
                        </div>
                    </div>
                </div>
                
                <!-- Mapa Avanzado -->
                <div class="card" id="map-avanzado" style="display: none;">
                    <h3 style="text-align: center; margin-bottom: 30px;">üìö Conceptos Avanzados Cr√≠ticos</h3>
                    
                    <div class="cards-grid">
                        <div class="card" style="border-left: 4px solid var(--primary);">
                            <h4 style="color: var(--primary); margin-bottom: 15px;">üì° Radio Propagaci√≥n</h4>
                            <ul style="list-style: none;">
                                <li>‚Ä¢ <strong>k = 4/3</strong>: Factor correcci√≥n Tierra</li>
                                <li>‚Ä¢ <strong>Radio efectivo</strong>: ~8,500 km</li>
                                <li>‚Ä¢ <strong>dN/dh</strong>: -40 N/km t√≠pico</li>
                                <li>‚Ä¢ <strong>O‚ÇÇ absorci√≥n</strong>: ~60 GHz</li>
                                <li>‚Ä¢ <strong>H‚ÇÇO absorci√≥n</strong>: ~23 GHz</li>
                                <li>‚Ä¢ <strong>ITU zonas lluvia</strong>: 16</li>
                            </ul>
                        </div>
                        
                        <div class="card" style="border-left: 4px solid var(--success);">
                            <h4 style="color: var(--success); margin-bottom: 15px;">‚ö° Radio Capacidad</h4>
                            <ul style="list-style: none;">
                                <li>‚Ä¢ <strong>MIMO 2x2</strong>: Duplica capacidad</li>
                                <li>‚Ä¢ <strong>Carrier Aggregation</strong>: Suma BWs</li>
                                <li>‚Ä¢ <strong>Multi-band booster</strong>: 2 bandas</li>
                                <li>‚Ä¢ <strong>RAU 6365</strong>: hasta 8192 QAM</li>
                                <li>‚Ä¢ <strong>Familias nuevas</strong>: 6300/6600</li>
                            </ul>
                        </div>
                        
                        <div class="card" style="border-left: 4px solid #2196f3;">
                            <h4 style="color: #2196f3; margin-bottom: 15px;">üåê IPv6 y Routing</h4>
                            <ul style="list-style: none;">
                                <li>‚Ä¢ <strong>IPv6</strong>: 128 bits</li>
                                <li>‚Ä¢ <strong>OSPF convergencia</strong>: 4-5 seg</li>
                                <li>‚Ä¢ <strong>RIP convergencia</strong>: hasta 180 seg</li>
                                <li>‚Ä¢ <strong>OSPF √Årea 0</strong>: Backbone obligatorio</li>
                                <li>‚Ä¢ <strong>ABR</strong>: Borde de √°rea</li>
                                <li>‚Ä¢ <strong>ASBR</strong>: Borde AS externo</li>
                            </ul>
                        </div>
                        
                        <div class="card" style="border-left: 4px solid #9c27b0;">
                            <h4 style="color: #9c27b0; margin-bottom: 15px;">üîß Protocolos Esenciales</h4>
                            <ul style="list-style: none;">
                                <li>‚Ä¢ <strong>DHCP</strong>: Asigna IP autom√°tico</li>
                                <li>‚Ä¢ <strong>ARP</strong>: IP ‚Üí MAC</li>
                                <li>‚Ä¢ <strong>DNS</strong>: Nombre ‚Üí IP</li>
                                <li>‚Ä¢ <strong>ICMP</strong>: ping, traceroute</li>
                                <li>‚Ä¢ <strong>NAT</strong>: IP privada ‚Üí p√∫blica</li>
                                <li>‚Ä¢ <strong>PTP</strong>: IEEE 1588 sincronizaci√≥n</li>
                            </ul>
                        </div>
                        
                        <div class="card" style="border-left: 4px solid var(--warning);">
                            <h4 style="color: var(--warning); margin-bottom: 15px;">üí° Fibra Avanzado</h4>
                            <ul style="list-style: none;">
                                <li>‚Ä¢ <strong>1310nm atenuaci√≥n</strong>: 0.35 dB/km</li>
                                <li>‚Ä¢ <strong>1550nm atenuaci√≥n</strong>: 0.22 dB/km</li>
                                <li>‚Ä¢ <strong>Margen seguridad</strong>: 1.7-3 dB</li>
                                <li>‚Ä¢ <strong>Protecci√≥n ajustada</strong>: 900 Œºm</li>
                                <li>‚Ä¢ <strong>Holgada</strong>: Tubo con gel</li>
                                <li>‚Ä¢ <strong>EEPROM</strong>: Info transceiver</li>
                            </ul>
                        </div>
                        
                        <div class="card" style="border-left: 4px solid var(--danger);">
                            <h4 style="color: var(--danger); margin-bottom: 15px;">üìä BER y Testing</h4>
                            <ul style="list-style: none;">
                                <li>‚Ä¢ <strong>BER est√°ndar</strong>: 10‚Åª‚Åπ</li>
                                <li>‚Ä¢ <strong>BER datos cr√≠ticos</strong>: 10‚Åª¬π¬≥</li>
                                <li>‚Ä¢ <strong>RFC 2544</strong>: Test Ethernet</li>
                                <li>‚Ä¢ <strong>ITU-T Y.1564</strong>: Multiservicio</li>
                                <li>‚Ä¢ <strong>Jumbo Frame</strong>: 9000 bytes</li>
                                <li>‚Ä¢ <strong>CIR/EIR</strong>: Tasas garantizadas</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 20px; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                        <h4 style="margin-bottom: 15px;">üîë Valores Cr√≠ticos para Memorizar</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div style="text-align: center; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                                <div style="font-size: 1.5em; font-weight: bold;">128 bits</div>
                                <div style="opacity: 0.8;">IPv6</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                                <div style="font-size: 1.5em; font-weight: bold;">4-5 seg</div>
                                <div style="opacity: 0.8;">OSPF convergencia</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                                <div style="font-size: 1.5em; font-weight: bold;">k = 4/3</div>
                                <div style="opacity: 0.8;">Factor Tierra</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                                <div style="font-size: 1.5em; font-weight: bold;">0.35 dB/km</div>
                                <div style="opacity: 0.8;">Atenuaci√≥n 1310nm</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                                <div style="font-size: 1.5em; font-weight: bold;">1.7-3 dB</div>
                                <div style="opacity: 0.8;">Margen seguridad</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                                <div style="font-size: 1.5em; font-weight: bold;">10‚Åª¬π¬≥</div>
                                <div style="opacity: 0.8;">BER cr√≠tico</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- DASHBOARD -->
        <section class="section" id="section-dashboard">
            <div class="section-header">
                <h2>üìä Dashboard de Progreso</h2>
                <p>Seguimiento de tu preparaci√≥n</p>
            </div>
            
            <div class="cards-grid">
                <div class="card" style="text-align: center; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                    <div style="font-size: 3em; margin-bottom: 10px;">üî•</div>
                    <div style="font-size: 2.5em; font-weight: bold;" id="dash-streak">0</div>
                    <div>D√≠as de racha</div>
                </div>
                <div class="card" style="text-align: center;">
                    <div style="font-size: 3em; margin-bottom: 10px;">üìö</div>
                    <div style="font-size: 2.5em; font-weight: bold;" id="dash-sessions">0</div>
                    <div>Sesiones totales</div>
                </div>
                <div class="card" style="text-align: center;">
                    <div style="font-size: 3em; margin-bottom: 10px;">‚úÖ</div>
                    <div style="font-size: 2.5em; font-weight: bold;" id="dash-correct">0</div>
                    <div>Respuestas correctas</div>
                </div>
                <div class="card" style="text-align: center;">
                    <div style="font-size: 3em; margin-bottom: 10px;">üìà</div>
                    <div style="font-size: 2.5em; font-weight: bold;" id="dash-avg">0%</div>
                    <div>Promedio general</div>
                </div>
            </div>
            
            <div class="card" style="margin-top: 30px;">
                <h3 style="margin-bottom: 20px;">üìú Historial de Sesiones</h3>
                <div id="dash-history">
                    <p style="text-align: center; opacity: 0.7; padding: 30px;">
                        A√∫n no hay sesiones registradas.<br>¬°Comienza a practicar!
                    </p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-danger" onclick="clearAllProgress()">üóëÔ∏è Borrar Todo el Progreso</button>
            </div>
        </section>
    </main>

    <script>
        // ============ DATOS ============
        
        // Flashcards
        const flashcardsDB = [
            // RADIO
            { category: "radio", q: "¬øCu√°l es la f√≥rmula para calcular la longitud de onda?", a: "Œª (cm) = 30 / f (GHz)\n\nEjemplo: A 6 GHz ‚Üí Œª = 30/6 = 5 cm" },
            { category: "radio", q: "¬øCu√°l es el valor del factor k en atm√≥sfera est√°ndar?", a: "k ‚âà 4/3 = 1.33\n\nRadio efectivo de la Tierra ~8,500 km" },
            { category: "radio", q: "¬øA partir de qu√© frecuencia la lluvia domina la atenuaci√≥n?", a: "‚â• 10 GHz\n\nPor debajo dominan efectos de terreno y trop√≥sfera" },
            { category: "radio", q: "¬øCu√°nto debe despejarse la primera zona de Fresnel?", a: "M√≠nimo 60%\n\nMenos despejamiento causa p√©rdidas por difracci√≥n" },
            { category: "radio", q: "¬øQu√© significa EIRP?", a: "Effective Isotropic Radiated Power\n\n(Potencia Radiada Isotr√≥pica Efectiva)" },
            { category: "radio", q: "¬øCu√°l es el margen de fading t√≠pico?", a: "Hasta 40 dB\n\nDepende de la disponibilidad requerida" },
            { category: "radio", q: "¬øQu√© significa ACCP?", a: "Adjacent Channel Co-Polarization\n\nCanales adyacentes, misma polarizaci√≥n" },
            { category: "radio", q: "¬øQu√© significa CCDP?", a: "Co-Channel Dual Polarized\n\nMismo canal, ambas polarizaciones. Requiere XPIC" },
            { category: "radio", q: "¬øQu√© es XPIC?", a: "Cross-Polar Interference Canceller\n\nCancela interferencia entre polarizaciones en CCDP" },
            { category: "radio", q: "¬øQu√© modulaci√≥n m√°xima soporta MMU4A?", a: "4096 QAM\n\nSoporta 80 y 112 MHz de ancho de banda" },
            
            // IP/REDES
            { category: "ip", q: "¬øCu√°ntas capas tiene el modelo OSI?", a: "7 capas\n\nTCP/IP h√≠brido tiene 5 capas" },
            { category: "ip", q: "¬øCu√°l es el tama√±o de una direcci√≥n MAC?", a: "48 bits (6 bytes)\n\nFormato: XX:XX:XX:XX:XX:XX" },
            { category: "ip", q: "¬øCu√°l es la direcci√≥n MAC de broadcast?", a: "FF:FF:FF:FF:FF:FF\n\nSe env√≠a a todos los dispositivos" },
            { category: "ip", q: "¬øQu√© significa CSMA/CD?", a: "Carrier Sense Multiple Access with Collision Detection\n\nProtocolo de Ethernet cl√°sico" },
            { category: "ip", q: "¬øCu√°l es el tama√±o de trama Ethernet?", a: "M√≠nimo: 64 bytes\nM√°ximo: 1518 bytes\n\nMTU: 1500 bytes" },
            { category: "ip", q: "¬øCu√°ntos bits tiene IPv4?", a: "32 bits (4 bytes)\n\nFormato: XXX.XXX.XXX.XXX" },
            { category: "ip", q: "¬øCu√°ntos hosts hay en /24?", a: "254 hosts utilizables\n\n2^8 - 2 = 254" },
            { category: "ip", q: "¬øDiferencia entre TCP y UDP?", a: "TCP: Conexi√≥n, confiable, ACKs\nUDP: Sin conexi√≥n, r√°pido\n\nTCP para HTTP, UDP para VoIP" },
            { category: "ip", q: "¬øQu√© valor de BER es est√°ndar?", a: "10‚Åª‚Åπ para telecomunicaciones\n10‚Åª¬π¬≥ para datos cr√≠ticos" },
            { category: "ip", q: "¬øCu√°les son los tama√±os RFC 2544?", a: "64, 128, 256, 512, 1024, 1280, 1518 bytes" },
            
            // FIBRA
            { category: "fibra", q: "¬øCu√°les son los tipos de fibra?", a: "Monomodo (SM): Amarilla, largas distancias\nMultimodo (MM): Naranja, cortas distancias" },
            { category: "fibra", q: "¬øDi√°metro del n√∫cleo monomodo?", a: "8-10 Œºm\n\nPermite solo un modo de propagaci√≥n" },
            { category: "fibra", q: "¬øAtenuaci√≥n t√≠pica SM 1550nm?", a: "~0.22 dB/km\n\nA 1310nm es ~0.35 dB/km" },
            { category: "fibra", q: "¬øP√©rdida por empalme de fusi√≥n?", a: "~0.1 dB por empalme" },
            { category: "fibra", q: "¬øP√©rdida por conector √≥ptico?", a: "~0.75 dB por conector\n\nAlta calidad: 0.3-0.5 dB" },
            { category: "fibra", q: "¬øQu√© significa SFP?", a: "Small Form-Factor Pluggable\n\nTransceptor compacto hot-swappable" },
            { category: "fibra", q: "¬øQu√© significa QSFP?", a: "Quad Small Form-Factor Pluggable\n\n4 canales, para 40G/100G" },
            { category: "fibra", q: "¬øQu√© significan SR, LR, ER, ZR?", a: "SR: Short (~300m)\nLR: Long (~10km)\nER: Extended (~40km)\nZR: Very Long (~80km+)" },
            { category: "fibra", q: "¬øC√≥mo se calcula Power Budget?", a: "Power Budget = Tx m√≠n - Rx sensibilidad\n\nEj: -5 - (-28) = 23 dB" },
            
            // F√ìRMULAS
            { category: "formulas", q: "F√≥rmula: Longitud de onda", a: "Œª (cm) = 30 / f (GHz)" },
            { category: "formulas", q: "F√≥rmula: Radio zona Fresnel", a: "rF = 17.3 √ó ‚àö(d‚ÇÅ √ó d‚ÇÇ)/(f √ó d)\n\nd en km, f en GHz" },
            { category: "formulas", q: "F√≥rmula: BER", a: "BER = Bits con error / Bits totales" },
            { category: "formulas", q: "F√≥rmula: Power Budget", a: "PB = Tx min - Rx sensibilidad" },
            { category: "formulas", q: "F√≥rmula: Hosts en subred", a: "Hosts = 2^n - 2\n\nn = bits de host" },
            { category: "formulas", q: "F√≥rmula: P√©rdida espacio libre", a: "ABF = 92.4 + 20√ólog(f) + 20√ólog(d)\n\nf en GHz, d en km" },
            { category: "formulas", q: "F√≥rmula: EIRP", a: "EIRP = PTx + Ganancia antena - P√©rdidas\n\nEn dBm" },
            { category: "formulas", q: "F√≥rmula: dB (decibelio)", a: "dB = 10 √ó log‚ÇÅ‚ÇÄ(P‚ÇÅ/P‚ÇÇ)\n\nRelaci√≥n de potencias" },
            { category: "formulas", q: "F√≥rmula: dBm", a: "dBm = 10 √ó log‚ÇÅ‚ÇÄ(P/1mW)\n\nReferencia a 1 milivatio" },
            { category: "formulas", q: "F√≥rmula: Link Budget completo", a: "Pin = Pout - Œ£AF + Œ£G - ABF - Ao - AG - AL" },
            
            // RADIO AVANZADO
            { category: "radio", q: "¬øCu√°l es el radio efectivo de la Tierra con k=4/3?", a: "~8,500 km\n\nRadio real ~6,371 km" },
            { category: "radio", q: "¬øCu√°l es el gradiente de refractividad t√≠pico?", a: "dN/dh ‚âà -40 N/km\n\nEn regiones templadas" },
            { category: "radio", q: "¬øA qu√© frecuencia est√° el pico de absorci√≥n del O‚ÇÇ?", a: "~60 GHz\n\nEntre 50-70 GHz" },
            { category: "radio", q: "¬øA qu√© frecuencia est√° el pico de absorci√≥n del H‚ÇÇO?", a: "~23 GHz\n\nVapor de agua" },
            { category: "radio", q: "¬øCu√°ntas zonas clim√°ticas de lluvia define ITU?", a: "16 zonas\n\nCon diferentes tasas de precipitaci√≥n" },
            { category: "radio", q: "¬øQu√© significa ERP?", a: "Effective Radiated Power\n\nReferencia a dipolo de media onda" },
            { category: "radio", q: "¬øQu√© es MIMO 2x2?", a: "Multiplexaci√≥n espacial\n\n2 antenas Tx, 2 antenas Rx\nDuplica capacidad" },
            { category: "radio", q: "¬øQu√© es Multi-band booster?", a: "Combinar 2 radioenlaces en paralelo\n\nBanda baja: tr√°fico prioritario\nBanda alta: mayor capacidad" },
            { category: "radio", q: "¬øQu√© es Carrier Aggregation?", a: "Sumar ancho de banda de m√∫ltiples carriers\n\nEn un mismo radioenlace" },
            { category: "radio", q: "¬øQu√© modulaci√≥n m√°xima soporta RAU 6365?", a: "8192 QAM\n\nPara anchos de 28 y 40 MHz" },
            { category: "radio", q: "¬øQu√© familias reemplazan a TN?", a: "6300 (outdoor/RAU)\n6600 (indoor/AMM)" },
            { category: "radio", q: "¬øQu√© significa ACAP?", a: "Adjacent Channel Alternate Polarized\n\nCanales adyacentes, polarizaci√≥n alternada V-H" },
            
            // IP AVANZADO
            { category: "ip", q: "¬øCu√°ntos bits tiene IPv6?", a: "128 bits\n\n8 secciones de 16 bits separadas por ':'" },
            { category: "ip", q: "¬øQu√© protocolo asigna IPs din√°micamente?", a: "DHCP\n\nAsigna IP, gateway, DNS autom√°ticamente" },
            { category: "ip", q: "¬øQu√© hace el protocolo ARP?", a: "Obtiene MAC dada una IP\n\nRealiza broadcast preguntando" },
            { category: "ip", q: "¬øPara qu√© se usa ICMP?", a: "Diagn√≥stico de red\n\nping, traceroute" },
            { category: "ip", q: "¬øDiferencia entre RIP y OSPF?", a: "RIP: vector distancia, saltos\nOSPF: estado enlace, √°reas\n\nOSPF converge m√°s r√°pido" },
            { category: "ip", q: "¬øTiempo de convergencia de OSPF?", a: "4-5 segundos\n\nRIP: hasta 180 segundos" },
            { category: "ip", q: "¬øQu√© es ABR en OSPF?", a: "Area Border Router\n\nConecta √°rea con backbone" },
            { category: "ip", q: "¬øQu√© es ASBR en OSPF?", a: "Autonomous System Border Router\n\nConecta con otras redes externas" },
            { category: "ip", q: "¬øQu√© √°rea debe existir siempre en OSPF?", a: "√Årea 0 (Backbone)\n\nTodas las √°reas conectan a ella" },
            { category: "ip", q: "¬øQu√© hace NAT?", a: "Traduce direcciones privadas a p√∫blicas\n\nPermite compartir una IP p√∫blica" },
            { category: "ip", q: "¬øQu√© organizaci√≥n administra dominios de nivel superior?", a: "ICANN\n\nInternet Corporation for Assigned Names and Numbers" },
            { category: "ip", q: "¬øQu√© es FCS/CRC?", a: "Frame Check Sequence\n\nDetecci√≥n de errores en trama" },
            { category: "ip", q: "¬øTama√±o de Jumbo Frame?", a: "9000 bytes\n\n(No parte oficial de RFC 2544)" },
            { category: "ip", q: "¬øQu√© est√°ndar define sincronizaci√≥n precisa?", a: "PTP IEEE 1588\n\nPrecision Time Protocol" },
            
            // FIBRA AVANZADO
            { category: "fibra", q: "¬øAtenuaci√≥n SM a 1310nm?", a: "~0.35 dB/km\n\n(Mayor que 0.22 dB/km a 1550nm)" },
            { category: "fibra", q: "¬øQu√© tipos de protecci√≥n secundaria existen?", a: "Ajustada: 900 Œºm\nHolgada: tubo con gel" },
            { category: "fibra", q: "¬øPara qu√© sirve el gel en fibra holgada?", a: "Anticongelante\n\nProtege fibras, no se escurre" },
            { category: "fibra", q: "¬øQu√© es Kevlar en cables de fibra?", a: "Protecci√≥n mec√°nica\n\nMaterial resistente" },
            { category: "fibra", q: "¬øQu√© almacena la EEPROM del transceiver?", a: "Info fabricante, modelo, configuraci√≥n\n\nDatos del m√≥dulo √≥ptico" },
            { category: "fibra", q: "¬øMargen de seguridad recomendado en Power Budget?", a: "1.7 a 3 dB\n\nPor envejecimiento y variabilidad" },
            { category: "fibra", q: "¬øQu√© es ITU-T Y.1564?", a: "Ethernet Service Activation Test\n\nReemplaza RFC 2544 para multiservicio" },
            { category: "fibra", q: "¬øQu√© mide CIR/EIR?", a: "CIR: Committed Information Rate\nEIR: Excess Information Rate\n\nTasas comprometida y excedente" },
            
            // TCP/IP CONCEPTOS ADICIONALES
            { category: "ip", q: "¬øQu√© es una red LAN?", a: "Local Area Network\n\nRed de √°rea local, en un edificio o edificios cercanos" },
            { category: "ip", q: "¬øQu√© es una red WAN?", a: "Wide Area Network\n\nRed de √°rea amplia, cubre pa√≠ses o continentes" },
            { category: "ip", q: "¬øQu√© es una red MAN?", a: "Metropolitan Area Network\n\nRed de √°rea metropolitana, cubre ciudades" },
            { category: "ip", q: "¬øCu√°les son las topolog√≠as de red?", a: "Bus, Estrella, Anillo, Malla\n\nF√≠sica vs L√≥gica pueden ser diferentes" },
            { category: "ip", q: "¬øQu√© diferencia hay entre Hub y Switch?", a: "Hub: repite a todos (colisiones)\nSwitch: solo al destino (sin colisiones)" },
            { category: "ip", q: "¬øQu√© es Half Duplex vs Full Duplex?", a: "Half: env√≠a O recibe\nFull: env√≠a Y recibe a la vez" },
            { category: "ip", q: "¬øQu√© es CSMA/CD?", a: "Carrier Sense Multiple Access\nwith Collision Detection\n\nEscucha antes de transmitir" },
            { category: "ip", q: "¬øQu√© es dominio de colisi√≥n?", a: "Conjunto de dispositivos\ncuyos frames pueden colisionar\n\nSwitch lo reduce" },
            { category: "ip", q: "¬øQu√© es dominio de broadcast?", a: "Conjunto de dispositivos que\nreciben un broadcast\n\nRouter lo limita" },
            { category: "ip", q: "¬øTama√±o m√≠nimo y m√°ximo de trama Ethernet?", a: "M√≠nimo: 64 bytes\nM√°ximo: 1518 bytes\n\n(Sin Jumbo Frames)" },
            { category: "ip", q: "¬øQu√© contiene la trama Ethernet?", a: "Pre√°mbulo + Dir. Destino + Dir. Origen\n+ Tipo + Datos + FCS" },
            { category: "ip", q: "¬øPara qu√© es el campo FCS en Ethernet?", a: "Frame Check Sequence\n\nDetecci√≥n de errores con CRC" },
            { category: "ip", q: "¬øQu√© es 100BASE-TX?", a: "Fast Ethernet 100 Mbps\n\nUsa UTP Cat 5, 2 pares" },
            { category: "ip", q: "¬øQu√© es 1000BASE-T?", a: "Gigabit Ethernet 1 Gbps\n\nUsa UTP Cat 5, 4 pares, 100m" },
            { category: "ip", q: "¬øRango de direcciones Clase A?", a: "0.0.0.0 - 126.255.255.255\n\nM√°scara /8 (255.0.0.0)" },
            { category: "ip", q: "¬øRango de direcciones Clase B?", a: "128.0.0.0 - 191.255.255.255\n\nM√°scara /16 (255.255.0.0)" },
            { category: "ip", q: "¬øRango de direcciones Clase C?", a: "192.0.0.0 - 223.255.255.255\n\nM√°scara /24 (255.255.255.0)" },
            { category: "ip", q: "¬øCu√°les son los rangos de IPs privadas?", a: "10.0.0.0/8\n172.16.0.0/12\n192.168.0.0/16" },
            { category: "ip", q: "¬øQu√© es el 3-way handshake de TCP?", a: "SYN ‚Üí SYN/ACK ‚Üí ACK\n\nEstablece conexi√≥n TCP" },
            { category: "ip", q: "¬øC√≥mo termina una conexi√≥n TCP?", a: "FIN ‚Üí ACK ‚Üí FIN ‚Üí ACK\n\n4-way handshake de cierre" },
            { category: "ip", q: "¬øQu√© es MTU en Ethernet?", a: "Maximum Transmission Unit\n\n1500 bytes (datos m√°ximos)" },
            { category: "ip", q: "¬øTama√±o m√°ximo de segmento TCP?", a: "1460 bytes\n\n1500 - 20 (IP) - 20 (TCP)" },
            { category: "ip", q: "¬øQu√© es ventana en TCP?", a: "Control de flujo\n\nCantidad de bytes sin ACK permitidos" },
            { category: "ip", q: "¬øPuerto del protocolo HTTP?", a: "Puerto 80 (TCP)\n\nHTTPS usa puerto 443" },
            { category: "ip", q: "¬øPuerto del protocolo FTP?", a: "Puertos 20 y 21 (TCP)\n\n20=datos, 21=control" },
            { category: "ip", q: "¬øPuerto del protocolo DNS?", a: "Puerto 53 (UDP)\n\nTambi√©n puede usar TCP" },
            { category: "ip", q: "¬øPuerto del protocolo Telnet?", a: "Puerto 23 (TCP)\n\nInseguro, reemplazado por SSH (22)" },
            { category: "ip", q: "¬øDiferencia TCP vs UDP?", a: "TCP: conexi√≥n, confiable, lento\nUDP: sin conexi√≥n, no confiable, r√°pido" },
            { category: "ip", q: "¬øQu√© usa UDP?", a: "DNS, VoIP, streaming\n\nTolera p√©rdida o recupera en app" },
            { category: "ip", q: "¬øQu√© es consulta DNS recursiva?", a: "El servidor hace todo el trabajo\n\nBusca en otros servidores por ti" },
            { category: "ip", q: "¬øQu√© es consulta DNS no recursiva?", a: "El servidor da referencias\n\nT√∫ debes consultar otros servidores" },
            { category: "ip", q: "¬øQu√© administra ICANN?", a: "Dominios de nivel superior\n\nNombres y n√∫meros de Internet" },
            { category: "ip", q: "¬øCu√°ntos servidores root DNS existen?", a: "13 servidores (A-M)\n\nDistribuidos por el mundo" },
            { category: "ip", q: "¬øQu√© es un cable STP?", a: "Shielded Twisted Pair\n\nPar trenzado con pantalla individual" },
            { category: "ip", q: "¬øQu√© es un cable UTP?", a: "Unshielded Twisted Pair\n\nPar trenzado sin pantalla, m√°s usado" },
            { category: "ip", q: "¬øPara qu√© sirve un cable cruzado?", a: "Conectar 2 PCs directamente\no Hub a Hub\n\nHoy auto-detecci√≥n (Auto-MDIX)" },
            { category: "ip", q: "¬øQu√© pines usa RJ-45 para Ethernet?", a: "1,2 para Tx\n3,6 para Rx\n\nEn 10/100 Mbps" },
            { category: "ip", q: "¬øQu√© es encapsulamiento de datos?", a: "Agregar headers en cada capa\n\nDatos‚ÜíSegmento‚ÜíPaquete‚ÜíTrama‚ÜíBits" },
            { category: "ip", q: "¬øQu√© hace un Router?", a: "Interconecta subredes\nDetermina mejor ruta\nDetiene broadcasts" },
            { category: "ip", q: "¬øQu√© es TTL en IP?", a: "Time To Live\n\nEvita loops, decrece en cada router" },
            { category: "ip", q: "¬øQu√© es tabla de ruteo?", a: "Asocia redes destino\ncon interfaces de salida\n\nEst√°tica o din√°mica" },
            { category: "ip", q: "¬øQu√© es routing est√°tico?", a: "Admin configura rutas\nmanualmente\n\nNo consume ancho de banda" },
            { category: "ip", q: "¬øQu√© es routing din√°mico?", a: "Routers intercambian info\ny calculan mejores rutas\n\nEjemplos: RIP, OSPF" },
            
            // PROPAGACI√ìN AVANZADA (MW Radio Propagation)
            { category: "radio", q: "¬øQu√© es reflexi√≥n especular?", a: "Reflexi√≥n ideal como en un espejo\n\nSuperficie lisa, sin dispersi√≥n" },
            { category: "radio", q: "¬øQu√© determina el criterio de Rayleigh?", a: "Si una superficie es lisa o rugosa\n\nDepende de Œª, √°ngulo y rugosidad" },
            { category: "radio", q: "¬øQu√© es coeficiente de reflexi√≥n œÅ?", a: "Capacidad de superficie para reflejar\n\n|œÅ|=0: no refleja, |œÅ|=1: reflexi√≥n total" },
            { category: "radio", q: "¬øQu√© es diversidad de espacio?", a: "Dos antenas receptoras\n\nSe√±ales faden independientemente" },
            { category: "radio", q: "¬øQu√© es diversidad de frecuencia?", a: "Misma se√±al en 2 frecuencias\n\nMenos eficiente espectralmente" },
            { category: "radio", q: "¬øCu√°ndo usar diversidad de espacio?", a: "Sobre agua o superficies reflectantes\n\nCombate multipath y reflexiones" },
            { category: "radio", q: "¬øQu√© significa SES (G.821)?", a: "Severely Errored Second\n\nBER > 10‚Åª¬≥ durante 1 segundo" },
            { category: "radio", q: "¬øQu√© significa ES (G.821)?", a: "Errored Second\n\n1 o m√°s errores en 1 segundo" },
            { category: "radio", q: "¬øQu√© significa UAT (G.821)?", a: "Unavailable Time\n\nSES consecutivos por 10 segundos" },
            { category: "radio", q: "¬øQu√© recomienda ITU-T G.826?", a: "Calidad para ‚â•2 Mbps\n\nReemplaza G.821 progresivamente" },
            { category: "radio", q: "¬øQu√© factor de mejora da diversidad?", a: "Hasta 100 veces\n\nEn fading profundo" },
            { category: "radio", q: "¬øQu√© es p√©rdida por difracci√≥n?", a: "Atenuaci√≥n por obst√°culos\n\nAumenta con la frecuencia" },
            { category: "radio", q: "¬øQu√© bandas usa MINI-LINK?", a: "7-38 GHz\n\nRequieren l√≠nea de vista" },
            { category: "radio", q: "¬øQu√© es rain fading?", a: "Atenuaci√≥n por lluvia\n\nImportante >10 GHz" },
            { category: "radio", q: "¬øQu√© es multipath fading?", a: "Fading por m√∫ltiples caminos\n\nR√°pido, domina <10 GHz" },
            
            // MINILINK AVANZADO (Configuraciones 2024)
            { category: "radio", q: "¬øQu√© es configuraci√≥n 1+1 Hot Standby?", a: "2 RAUs, 1 working + 1 standby\n\nProtecci√≥n de hardware" },
            { category: "radio", q: "¬øQu√© es configuraci√≥n 2x(1+0)?", a: "2 RAUs, 2 radiocanales\n\nSin protecci√≥n, doble capacidad" },
            { category: "radio", q: "¬øQu√© equipos reemplazaron a TN?", a: "Familia 6300 (RAU)\nFamilia 6600 (AMM)" },
            { category: "radio", q: "¬øQu√© es Radio Link Bonding?", a: "Transporte transparente Ethernet\nsobre m√∫ltiples Packet Links" },
            { category: "radio", q: "¬øPotencia RAU media potencia?", a: "PTx ‚â§ 26 dBm\n\n(Alta potencia ‚â§ 30 dBm)" },
            { category: "radio", q: "¬øQu√© modulaci√≥n tiene MMU3A?", a: "Hasta 1024 QAM\n\nAnchos: 28, 40, 56 MHz" },
            { category: "radio", q: "¬øQu√© modulaci√≥n tiene MMU2H?", a: "Hasta 512 QAM\n\nPrimera con XPIC y adaptativa" },
            { category: "radio", q: "¬øQu√© es modulaci√≥n adaptativa?", a: "Cambia modulaci√≥n seg√∫n se√±al\n\nAlta se√±al=alta QAM, baja se√±al=baja QAM" },
            { category: "radio", q: "¬øBandas de RAU 6365?", a: "6 GHz a 42 GHz\n\nCubre todo el rango" },
            { category: "radio", q: "¬øBandas de RAU 6364?", a: "13, 15, 18 GHz\n\nCubre todo el rango de cada banda" },
            { category: "radio", q: "¬øQu√© anchos de banda soporta 6600?", a: "Hasta 80 y 112 MHz\n\nCon 2048 y 4096 QAM" },
            { category: "radio", q: "¬øQu√© recomienda ITU-R F.385?", a: "Canalizaci√≥n banda 7 GHz\n\n28 MHz y 56 MHz" },
            { category: "radio", q: "¬øQu√© recomienda ITU-R F.386?", a: "Canalizaci√≥n banda 8 GHz\n\n28, 56 y 112 MHz" },
            
            // TRANSCEPTORES AVANZADO
            { category: "fibra", q: "¬øQu√© contiene un transceiver?", a: "L√°ser Tx + Fotodiodo Rx\n+ PCB + EEPROM + Conector" },
            { category: "fibra", q: "¬øQu√© es conversi√≥n fotoel√©ctrica?", a: "Luz ‚Üî Se√±al el√©ctrica\n\nFunci√≥n del transceiver" },
            { category: "fibra", q: "¬øEn qu√© capa OSI opera el transceiver?", a: "Capa 1 (F√≠sica)\n\nConversi√≥n de se√±ales" },
            { category: "fibra", q: "¬øQu√© hace el l√°ser Tx?", a: "Genera se√±al √≥ptica\n\nConvierte el√©ctrico ‚Üí luz" },
            { category: "fibra", q: "¬øQu√© hace el fotodiodo Rx?", a: "Detecta luz recibida\n\nConvierte luz ‚Üí el√©ctrico" },
            { category: "fibra", q: "¬øTipos de conectores √≥pticos?", a: "LC, SC, MPO\n\nLC es el m√°s peque√±o" },
            { category: "fibra", q: "¬øAtenuaci√≥n fibra dB/km?", a: "0.22-0.5 dB/km\n\n1550nm: 0.22, 1310nm: 0.35" },
            { category: "fibra", q: "¬øQu√© significa MMF?", a: "Multi Mode Fiber\n\nFibra multimodo, corta distancia" },
            { category: "fibra", q: "¬øQu√© significa SMF?", a: "Single Mode Fiber\n\nFibra monomodo, larga distancia" },
            { category: "fibra", q: "¬øDistancia m√°xima multimodo?", a: "Hasta 5 km\n\nGeneralmente ~300m-2km" },
            { category: "fibra", q: "Velocidades de transceptores", a: "100 Base, 1G, 10G, 40G, 100G\n\nHasta 400G" },
            { category: "fibra", q: "¬øQu√© es SFP28?", a: "SFP para 25 Gbps\n\nVariante de alta velocidad" },
            
            // BERT/RFC AVANZADO
            { category: "ip", q: "¬øQu√© causa p√©rdida de paquetes?", a: "Congesti√≥n, sobreutilizaci√≥n\nHardware obsoleto, ataques DoS" },
            { category: "ip", q: "¬øQu√© es PER?", a: "Packet Error Rate\n\nRelacionado con BER" },
            { category: "ip", q: "¬øLatencia afecta a qu√©?", a: "Ventana TCP, calidad VoIP\n\nMenos velocidad efectiva" },
            { category: "ip", q: "¬øQu√© mide test Back-to-Back?", a: "Capacidad de procesar r√°fagas\n\nBurst processing" },
            { category: "ip", q: "¬øQu√© mide System Reset RFC2544?", a: "Tiempo de recuperaci√≥n\n\nTras reinicio del equipo" },
            { category: "ip", q: "¬øCriterio aceptaci√≥n throughput?", a: "‚â•99%\n\nDel rate te√≥rico" },
            { category: "ip", q: "¬øCriterio aceptaci√≥n latencia 1G?", a: "‚â§1 ms\n\nA 10G: ‚â§300 Œºs" },
            { category: "ip", q: "¬øCriterio aceptaci√≥n frame loss?", a: "‚â§0.01%\n\nMuy baja p√©rdida" },
            { category: "ip", q: "¬øLine rates est√°ndar RFC2544?", a: "1G, 10G, 25G, 40G, 100G, 400G" },
            
            // FIBRA √ìPTICA AVANZADO
            { category: "fibra", q: "¬øPor qu√© funciona la fibra?", a: "Reflexi√≥n interna total\n\n√çndices de refracci√≥n diferentes" },
            { category: "fibra", q: "¬øDi√°metro recubrimiento primario?", a: "250 Œºm\n\n(Buffer)" },
            { category: "fibra", q: "¬øDi√°metro protecci√≥n ajustada?", a: "900 Œºm\n\n(Tight buffer)" },
            { category: "fibra", q: "¬øQu√© es tubo holgado?", a: "Loose tube con gel\n\nPara cables de 8-36 fibras" },
            { category: "fibra", q: "¬øPara qu√© sirve el gel?", a: "Anticongelante\n\nNo se escurre, protege" },
            { category: "fibra", q: "¬øCu√°ntas fibras en cable exterior?", a: "8 a 36 fibras t√≠pico\n\nEn tubos holgados" },
            { category: "fibra", q: "¬øMaterial protecci√≥n mec√°nica?", a: "Kevlar\n\nResistente y ligero" },
            { category: "fibra", q: "¬øColor fibra multimodo?", a: "Naranja\n\n(Monomodo: amarillo/azul)" },
            
            // GPON/FTTH
            { category: "fibra", q: "¬øQu√© significa GPON?", a: "Gigabit Passive Optical Network\n\nRed √≥ptica pasiva gigabit" },
            { category: "fibra", q: "¬øVelocidades de GPON?", a: "Downstream: 2.488 Gbps\nUpstream: 1.244 Gbps\n\nAsim√©trica" },
            { category: "fibra", q: "¬øQu√© es un splitter √≥ptico?", a: "Divisor pasivo 1:N\n\nNo requiere energ√≠a el√©ctrica" },
            { category: "fibra", q: "¬øP√©rdida splitter 1:2?", a: "~3.5 dB\n\nTe√≥rico: 3 dB" },
            { category: "fibra", q: "¬øP√©rdida splitter 1:4?", a: "~7 dB\n\nTe√≥rico: 6 dB" },
            { category: "fibra", q: "¬øP√©rdida splitter 1:8?", a: "~10.5 dB\n\nTe√≥rico: 9 dB" },
            { category: "fibra", q: "¬øP√©rdida splitter 1:16?", a: "~14 dB\n\nTe√≥rico: 12 dB" },
            { category: "fibra", q: "¬øP√©rdida splitter 1:32?", a: "~17.5 dB\n\nTe√≥rico: 15 dB" },
            { category: "fibra", q: "¬øP√©rdida splitter 1:64?", a: "~21 dB\n\nTe√≥rico: 18 dB" },
            { category: "fibra", q: "¬øQu√© es OLT?", a: "Optical Line Terminal\n\nEquipo en central (CO)" },
            { category: "fibra", q: "¬øQu√© es ONT/ONU?", a: "Optical Network Terminal/Unit\n\nEquipo en cliente" },
            { category: "fibra", q: "¬øLongitudes de onda GPON?", a: "Downstream: 1490 nm\nUpstream: 1310 nm\n\nVideo RF: 1550 nm" },
            { category: "fibra", q: "¬øDistancia m√°xima GPON?", a: "20 km (m√°x 60 km clase C+)\n\nDepende del power budget" },
            { category: "fibra", q: "¬øQu√© es XGS-PON?", a: "10G sim√©trico\n\n10 Gbps down y up" },
            { category: "fibra", q: "¬øPower budget t√≠pico GPON?", a: "Clase B+: 28 dB\nClase C+: 32 dB" },
            
            // METRO ETHERNET
            { category: "ip", q: "¬øQu√© es Metro Ethernet?", a: "Servicios Carrier Ethernet\n\nEthernet como WAN" },
            { category: "ip", q: "¬øQu√© es E-Line?", a: "Punto a punto\n\nConexi√≥n dedicada entre 2 sitios" },
            { category: "ip", q: "¬øQu√© es E-LAN?", a: "Multipunto a multipunto\n\nTodos se comunican entre s√≠" },
            { category: "ip", q: "¬øQu√© es E-Tree?", a: "Punto a multipunto\n\nHub-and-spoke, ra√≠z y hojas" },
            { category: "ip", q: "¬øQu√© es EVC?", a: "Ethernet Virtual Connection\n\nConexi√≥n l√≥gica Ethernet" },
            { category: "ip", q: "¬øQu√© es MEF?", a: "Metro Ethernet Forum\n\nDefine est√°ndares Carrier Ethernet" },
            { category: "ip", q: "¬øQu√© es CIR?", a: "Committed Information Rate\n\nAncho de banda garantizado" },
            { category: "ip", q: "¬øQu√© es EIR?", a: "Excess Information Rate\n\nAncho de banda extra permitido" },
            
            // IPv6
            { category: "ip", q: "¬øCu√°ntos bits tiene IPv6?", a: "128 bits\n\nFormato: 8 grupos de 16 bits hex" },
            { category: "ip", q: "¬øPrefijo link-local IPv6?", a: "FE80::/10\n\nNo ruteable, solo enlace local" },
            { category: "ip", q: "¬øPrefijo global unicast IPv6?", a: "2000::/3\n\nDirecciones p√∫blicas ruteables" },
            { category: "ip", q: "¬øQu√© es ::1 en IPv6?", a: "Loopback\n\nEquivalente a 127.0.0.1" },
            { category: "ip", q: "¬øQu√© es :: en IPv6?", a: "Direcci√≥n no especificada\n\nEquivalente a 0.0.0.0" },
            { category: "ip", q: "¬øCu√°ntas direcciones IPv6?", a: "2^128\n\n340 undecillones de direcciones" },
            
            // SEGURIDAD
            { category: "ip", q: "¬øQu√© es 802.1X?", a: "Control de acceso por puerto\n\nAutenticaci√≥n basada en EAP" },
            { category: "ip", q: "¬øQu√© es MACsec?", a: "802.1AE\n\nCifrado capa 2 Ethernet" },
            { category: "ip", q: "¬øQu√© es DHCP Snooping?", a: "Seguridad DHCP\n\nFiltra mensajes no autorizados" },
            { category: "ip", q: "¬øQu√© es IP Source Guard?", a: "Filtra IP falsificadas\n\nUsa binding table de DHCP Snooping" },
            { category: "ip", q: "¬øQu√© es DAI?", a: "Dynamic ARP Inspection\n\nPreviene ARP spoofing" },
            { category: "ip", q: "¬øQu√© es BPDU Guard?", a: "Protecci√≥n STP\n\nDesactiva puerto si recibe BPDU" },
            
            // SNMP/GESTI√ìN
            { category: "bert", q: "¬øQu√© es SNMP?", a: "Simple Network Management Protocol\n\nProtocolo de gesti√≥n de red" },
            { category: "bert", q: "¬øPuertos SNMP?", a: "UDP 161 (queries)\nUDP 162 (traps)" },
            { category: "bert", q: "¬øQu√© es una MIB?", a: "Management Information Base\n\nBase de datos de objetos gestionables" },
            { category: "bert", q: "¬øQu√© es un OID?", a: "Object Identifier\n\nIdentificador √∫nico de objeto MIB" },
            { category: "bert", q: "¬øQu√© es un trap SNMP?", a: "Notificaci√≥n as√≠ncrona\n\nAgente informa al manager" },
            { category: "bert", q: "¬øVersiones de SNMP?", a: "v1: b√°sico, inseguro\nv2c: mejoras, community\nv3: seguro, autenticaci√≥n" },
            { category: "bert", q: "¬øQu√© es syslog?", a: "System Logging Protocol\n\nEnv√≠a logs a servidor centralizado" }
        ];
        
        // Preguntas por tema
        const questionsDB = {
            propagacion: [
                { q: "¬øCu√°l es la f√≥rmula de longitud de onda en microondas?", o: ["Œª = 3/f", "Œª = 30/f", "Œª = 300/f", "Œª = 3000/f"], a: 1, e: "Œª (cm) = 30 / f (GHz)" },
                { q: "El factor k en atm√≥sfera est√°ndar es:", o: ["1", "4/3", "2", "3/4"], a: 1, e: "k ‚âà 4/3 = 1.33" },
                { q: "¬øA partir de qu√© frecuencia domina la lluvia?", o: ["1 GHz", "6 GHz", "10 GHz", "20 GHz"], a: 2, e: "‚â• 10 GHz la precipitaci√≥n domina" },
                { q: "El despejamiento m√≠nimo de Fresnel es:", o: ["30%", "40%", "60%", "100%"], a: 2, e: "Se requiere 60% de despejamiento m√≠nimo" },
                { q: "¬øQu√© significa EIRP?", o: ["Effective Indoor Radiated Power", "Effective Isotropic Radiated Power", "Enhanced Isotropic Radio Protocol", "Effective Interference Reduction Power"], a: 1, e: "Potencia Radiada Isotr√≥pica Efectiva" },
                { q: "El criterio de Rayleigh determina:", o: ["Potencia m√≠nima", "Si superficie es lisa o rugosa", "Frecuencia √≥ptima", "Longitud de enlace"], a: 1, e: "Define cu√°ndo una superficie pasa de lisa a rugosa" },
                { q: "¬øQu√© es diversidad de espacio?", o: ["2 frecuencias diferentes", "2 antenas receptoras separadas", "2 polarizaciones", "2 modulaciones"], a: 1, e: "Usa 2 antenas Rx, las se√±ales faden independientemente" },
                { q: "La absorci√≥n de O‚ÇÇ tiene pico en:", o: ["10 GHz", "23 GHz", "60 GHz", "100 GHz"], a: 2, e: "Ox√≠geno entre 50-70 GHz, pico a ~60 GHz" },
                { q: "La absorci√≥n de H‚ÇÇO tiene pico en:", o: ["10 GHz", "23 GHz", "60 GHz", "100 GHz"], a: 1, e: "Vapor de agua a ~23 GHz" },
                { q: "¬øQu√© causa multipath fading?", o: ["Lluvia", "Reflexiones m√∫ltiples", "Temperatura", "Humedad"], a: 1, e: "Reflexiones de edificios, tierra, atm√≥sfera" },
                { q: "Multipath fading es:", o: ["Lento, minutos/horas", "R√°pido, segundos", "Constante", "Solo en lluvia"], a: 1, e: "R√°pido, domina bajo 10 GHz" },
                { q: "Rain fading es:", o: ["R√°pido", "De larga duraci√≥n", "Solo bajo 10 GHz", "Insignificante"], a: 1, e: "Duraci√≥n mayor, importante sobre 10 GHz" },
                { q: "¬øQu√© es coeficiente de reflexi√≥n œÅ?", o: ["P√©rdida por cable", "Capacidad de reflejar", "Error de bits", "Frecuencia"], a: 1, e: "|œÅ|=0 no refleja, |œÅ|=1 reflexi√≥n total" },
                { q: "ITU-T G.821 define:", o: ["Disponibilidad y calidad", "Frecuencias", "Potencias", "Antenas"], a: 0, e: "SES, ES, UAT para calidad de enlaces" }
            ],
            minilink: [
                { q: "¬øQu√© significa ACCP?", o: ["Adjacent Channel Co-Polarization", "Alternate Channel Co-Polarization", "Adjacent Channel Cross-Polarization", "Alternate Channel Cross-Polarization"], a: 0, e: "Canales adyacentes, misma polarizaci√≥n" },
                { q: "¬øQu√© configuraci√≥n requiere XPIC?", o: ["ACCP", "ACAP", "CCDP", "Ninguna"], a: 2, e: "CCDP (Co-Channel Dual Polarized) requiere XPIC" },
                { q: "La modulaci√≥n m√°xima de MMU4A es:", o: ["512 QAM", "1024 QAM", "2048 QAM", "4096 QAM"], a: 3, e: "4096 QAM con anchos de 80 y 112 MHz" },
                { q: "La potencia m√°xima de RAU alta potencia es:", o: ["20 dBm", "26 dBm", "30 dBm", "35 dBm"], a: 2, e: "PTx ‚â§ 30 dBm para RAU alta potencia" },
                { q: "¬øQu√© es XPIC?", o: ["Cross-Polar Interference Canceller", "Cross-Power Integration Controller", "Channel Protection Interface Control", "Cross-Path Interference Correction"], a: 0, e: "Cancela interferencia de polarizaci√≥n cruzada en CCDP" },
                { q: "La potencia m√°xima de RAU media potencia es:", o: ["20 dBm", "26 dBm", "30 dBm", "35 dBm"], a: 1, e: "PTx ‚â§ 26 dBm para RAU media potencia" },
                { q: "RAU 6365 cubre bandas:", o: ["6-15 GHz", "6-42 GHz", "15-38 GHz", "7-18 GHz"], a: 1, e: "6 GHz a 42 GHz, cubre todo el rango" },
                { q: "RAU 6364 cubre bandas:", o: ["6, 7, 8 GHz", "13, 15, 18 GHz", "23, 26, 38 GHz", "7-42 GHz"], a: 1, e: "13, 15, 18 GHz √∫nicamente" },
                { q: "Familia 6300 reemplaza a:", o: ["AMM", "RAU (outdoor)", "MMU", "TRX"], a: 1, e: "6300 = outdoor (RAU), 6600 = indoor (AMM)" },
                { q: "Familia 6600 reemplaza a:", o: ["RAU", "AMM (indoor)", "Antenas", "Cables"], a: 1, e: "6600 = indoor, reemplaza AMM de TN" },
                { q: "¬øQu√© es 1+1 Hot Standby?", o: ["2 canales activos", "1 working + 1 standby", "Sin protecci√≥n", "Diversidad de frecuencia"], a: 1, e: "Protecci√≥n de hardware, 2 RAUs" },
                { q: "¬øQu√© es configuraci√≥n 2√ó(1+0)?", o: ["2 RAUs, 2 radiocanales", "1 RAU protegida", "Diversidad de espacio", "MIMO"], a: 0, e: "Sin protecci√≥n, doble capacidad" },
                { q: "Modulaci√≥n adaptativa permite:", o: ["Velocidad fija", "Cambiar modulaci√≥n seg√∫n se√±al", "Solo alta modulaci√≥n", "Solo baja modulaci√≥n"], a: 1, e: "Alta se√±al=alta QAM, baja se√±al=baja QAM" },
                { q: "¬øQu√© es Radio Link Bonding?", o: ["Unir cables", "Agregar enlaces en paralelo", "Dividir canal", "Proteger se√±al"], a: 1, e: "Transporte Ethernet sobre m√∫ltiples Packet Links" },
                { q: "Carrier Aggregation hace:", o: ["Sumar anchos de banda", "Dividir canales", "Reducir potencia", "Aumentar latencia"], a: 0, e: "Suma ancho de banda de m√∫ltiples carriers" }
            ],
            tcpip: [
                { q: "¬øCu√°ntas capas tiene el modelo OSI?", o: ["4", "5", "6", "7"], a: 3, e: "OSI tiene 7 capas, TCP/IP h√≠brido tiene 5" },
                { q: "El tama√±o de una direcci√≥n MAC es:", o: ["32 bits", "48 bits", "64 bits", "128 bits"], a: 1, e: "48 bits = 6 bytes" },
                { q: "El tama√±o m√≠nimo de trama Ethernet es:", o: ["32 bytes", "64 bytes", "128 bytes", "256 bytes"], a: 1, e: "M√≠nimo 64 bytes, m√°ximo 1518 bytes" },
                { q: "¬øCu√°ntos hosts hay en una red /24?", o: ["252", "254", "256", "258"], a: 1, e: "2^8 - 2 = 254 hosts utilizables" },
                { q: "TCP es:", o: ["Sin conexi√≥n", "Orientado a conexi√≥n", "Solo UDP", "Broadcast"], a: 1, e: "TCP usa 3-way handshake, es confiable" },
                { q: "El 3-way handshake de TCP es:", o: ["ACK-SYN-FIN", "SYN-SYN/ACK-ACK", "FIN-ACK-FIN", "RST-ACK-SYN"], a: 1, e: "SYN ‚Üí SYN/ACK ‚Üí ACK" },
                { q: "MTU en Ethernet es:", o: ["1000 bytes", "1460 bytes", "1500 bytes", "1518 bytes"], a: 2, e: "1500 bytes de datos m√°ximo" },
                { q: "El segmento TCP m√°ximo es:", o: ["1460 bytes", "1480 bytes", "1500 bytes", "1518 bytes"], a: 0, e: "1500 - 20(IP) - 20(TCP) = 1460 bytes" },
                { q: "El puerto HTTP es:", o: ["21", "23", "80", "443"], a: 2, e: "Puerto 80, HTTPS usa 443" },
                { q: "El puerto FTP de control es:", o: ["20", "21", "22", "23"], a: 1, e: "21 control, 20 datos" },
                { q: "El puerto DNS es:", o: ["23", "53", "80", "443"], a: 1, e: "Puerto 53, generalmente UDP" },
                { q: "Telnet usa puerto:", o: ["21", "22", "23", "25"], a: 2, e: "Puerto 23, inseguro. SSH usa 22" },
                { q: "UDP es:", o: ["Orientado a conexi√≥n", "Sin conexi√≥n", "Solo para web", "M√°s lento que TCP"], a: 1, e: "Sin conexi√≥n, no confiable, r√°pido" },
                { q: "¬øQu√© usa UDP t√≠picamente?", o: ["HTTP", "FTP", "DNS y VoIP", "Telnet"], a: 2, e: "DNS, VoIP, streaming toleran p√©rdida" },
                { q: "CSMA/CD significa:", o: ["Carrier Sense Multiple Access", "Control Signal Media Access", "Central System Main Access", "Cable Structured Media Access"], a: 0, e: "Detecci√≥n de portadora y colisiones" }
            ],
            redesbasico: [
                { q: "LAN significa:", o: ["Large Area Network", "Local Area Network", "Link Access Network", "Low Area Network"], a: 1, e: "Red de √Årea Local" },
                { q: "WAN significa:", o: ["Wireless Area Network", "Wide Area Network", "Web Access Network", "World Area Network"], a: 1, e: "Red de √Årea Amplia" },
                { q: "Un Hub opera en capa:", o: ["1", "2", "3", "4"], a: 0, e: "Capa f√≠sica, repite se√±al a todos" },
                { q: "Un Switch opera en capa:", o: ["1", "2", "3", "4"], a: 1, e: "Capa de enlace, usa MAC" },
                { q: "Un Router opera en capa:", o: ["1", "2", "3", "4"], a: 2, e: "Capa de red, usa IP" },
                { q: "La diferencia Hub vs Switch es:", o: ["Velocidad", "Hub repite a todos, Switch solo al destino", "Tama√±o", "Color"], a: 1, e: "Switch evita colisiones" },
                { q: "Full Duplex permite:", o: ["Solo enviar", "Solo recibir", "Enviar Y recibir a la vez", "Ninguna"], a: 2, e: "Comunicaci√≥n bidireccional simult√°nea" },
                { q: "El rango de IP privada clase A es:", o: ["192.168.0.0/16", "172.16.0.0/12", "10.0.0.0/8", "127.0.0.0/8"], a: 2, e: "10.0.0.0 - 10.255.255.255" },
                { q: "El rango de IP privada clase C es:", o: ["192.168.0.0/16", "172.16.0.0/12", "10.0.0.0/8", "127.0.0.0/8"], a: 0, e: "192.168.0.0 - 192.168.255.255" },
                { q: "¬øCu√°ntos servidores DNS root existen?", o: ["7", "10", "13", "20"], a: 2, e: "13 servidores identificados A-M" },
                { q: "¬øQui√©n administra dominios de nivel superior?", o: ["IEEE", "ITU", "ICANN", "ISO"], a: 2, e: "Internet Corporation for Assigned Names and Numbers" },
                { q: "Clase A tiene m√°scara:", o: ["/8", "/16", "/24", "/32"], a: 0, e: "255.0.0.0" },
                { q: "Clase B tiene m√°scara:", o: ["/8", "/16", "/24", "/32"], a: 1, e: "255.255.0.0" },
                { q: "Clase C tiene m√°scara:", o: ["/8", "/16", "/24", "/32"], a: 2, e: "255.255.255.0" },
                { q: "Direcci√≥n broadcast en una /24:", o: ["x.x.x.0", "x.x.x.1", "x.x.x.254", "x.x.x.255"], a: 3, e: "Todos los bits de host en 1" }
            ],
            bert: [
                { q: "BER significa:", o: ["Bit Error Recovery", "Bit Error Rate", "Binary Error Reduction", "Byte Error Rate"], a: 1, e: "Bit Error Rate - Tasa de errores de bits" },
                { q: "¬øQu√© BER es est√°ndar para telecomunicaciones?", o: ["10‚Åª‚Å∂", "10‚Åª‚Åπ", "10‚Åª¬π¬≤", "10‚Åª¬π‚Åµ"], a: 1, e: "10‚Åª‚Åπ es el est√°ndar general" },
                { q: "PRBS significa:", o: ["Primary Rate Bit Sequence", "Pseudo-Random Bit Sequence", "Protocol Rate Bit System", "Primary Random Binary Signal"], a: 1, e: "Secuencia Pseudo-Aleatoria de Bits" },
                { q: "La latencia se define como:", o: ["Ancho de banda", "Paquetes perdidos", "Tiempo de transmisi√≥n", "Velocidad de fibra"], a: 2, e: "Tiempo que tardan los datos en transmitirse" },
                { q: "El jitter afecta principalmente a:", o: ["Archivos", "Email", "Voz y video", "Texto"], a: 2, e: "VoIP y video son sensibles a fluctuaciones" },
                { q: "¬øQu√© causa p√©rdida de paquetes?", o: ["Solo errores f√≠sicos", "Congesti√≥n y ataques DoS", "Velocidad alta", "Cables nuevos"], a: 1, e: "Congesti√≥n, sobreutilizaci√≥n, hardware obsoleto, DoS" },
                { q: "¬øQu√© es PER?", o: ["Power Error Rate", "Packet Error Rate", "Protocol Error Reduction", "Physical Error Recovery"], a: 1, e: "Packet Error Rate, relacionado con BER" },
                { q: "La latencia alta afecta:", o: ["Solo archivos", "Ventana TCP y VoIP", "Nada", "Solo video"], a: 1, e: "Reduce velocidad efectiva TCP, afecta VoIP" },
                { q: "El jitter causa en video:", o: ["Mayor resoluci√≥n", "Pixelaci√≥n", "M√°s colores", "Nada"], a: 1, e: "Fluctuaci√≥n causa pixelaci√≥n y cortes" },
                { q: "BERT valida redes de:", o: ["Solo cobre", "Fibra √≥ptica y Ethernet", "Solo radio", "Solo WiFi"], a: 1, e: "Fibra √≥ptica, servicios Ethernet, radioenlaces" }
            ],
            rfc2544: [
                { q: "RFC 2544 fue publicado por:", o: ["IEEE", "ITU", "IETF", "ISO"], a: 2, e: "Internet Engineering Task Force, 1999" },
                { q: "Los tama√±os de trama RFC 2544 incluyen:", o: ["32, 64, 128", "64, 128, 256, 512, 1024, 1280, 1518", "100, 500, 1000", "64, 512, 1518"], a: 1, e: "7 tama√±os est√°ndar de prueba" },
                { q: "Throughput en RFC 2544 mide:", o: ["Latencia", "Tasa m√°xima sin p√©rdida", "Errores de bits", "Jitter"], a: 1, e: "Tasa m√°xima de transferencia sin p√©rdida de tramas" },
                { q: "Back-to-Back mide:", o: ["Latencia", "Capacidad de r√°fagas", "BER", "Ancho de banda"], a: 1, e: "Capacidad para procesar r√°fagas sucesivas" },
                { q: "¬øQu√© est√°ndar reemplaza a RFC 2544?", o: ["RFC 2545", "ITU-T Y.1564", "IEEE 802.3", "RFC 3000"], a: 1, e: "ITU-T Y.1564 modela mejor m√∫ltiples servicios" },
                { q: "System Reset mide:", o: ["Tiempo de boot", "Tiempo de recuperaci√≥n", "Velocidad", "Latencia"], a: 1, e: "Tiempo de recuperaci√≥n tras reinicio" },
                { q: "Frame Loss mide:", o: ["Tramas correctas", "Porcentaje no recibido", "Velocidad", "Tama√±o"], a: 1, e: "Porcentaje de tramas que no llegan" },
                { q: "Criterio aceptaci√≥n throughput:", o: ["‚â•90%", "‚â•95%", "‚â•99%", "100%"], a: 2, e: "‚â•99% del rate te√≥rico" },
                { q: "Criterio aceptaci√≥n latencia @1G:", o: ["‚â§5 ms", "‚â§1 ms", "‚â§10 ms", "‚â§100 ms"], a: 1, e: "‚â§1 ms a 1 Gbps" },
                { q: "Criterio aceptaci√≥n latencia @10G:", o: ["‚â§1 ms", "‚â§300 Œºs", "‚â§500 Œºs", "‚â§1 Œºs"], a: 1, e: "‚â§300 Œºs a 10 Gbps" },
                { q: "Criterio frame loss:", o: ["‚â§1%", "‚â§0.1%", "‚â§0.01%", "0%"], a: 2, e: "‚â§0.01% p√©rdida aceptable" },
                { q: "CIR significa:", o: ["Committed Information Rate", "Central Information Rate", "Channel Information Rate", "Carrier Information Rate"], a: 0, e: "Tasa de informaci√≥n comprometida" },
                { q: "EIR significa:", o: ["Extra Information Rate", "Excess Information Rate", "Enhanced Information Rate", "Extended Information Rate"], a: 1, e: "Tasa de informaci√≥n excedente" },
                { q: "PTP IEEE 1588 es:", o: ["Prueba de throughput", "Sincronizaci√≥n precisa", "Protocolo de routing", "Est√°ndar de fibra"], a: 1, e: "Precision Time Protocol para sincronizaci√≥n" }
            ],
            fibra: [
                { q: "Los tipos principales de fibra son:", o: ["Mono y Multi", "Simple y Doble", "Corta y Larga", "R√°pida y Lenta"], a: 0, e: "Monomodo (SM) y Multimodo (MM)" },
                { q: "El color de fibra monomodo es:", o: ["Naranja", "Amarillo", "Azul", "Verde"], a: 1, e: "Amarilla. Multimodo es naranja" },
                { q: "El n√∫cleo de fibra SM mide:", o: ["4-6 Œºm", "8-10 Œºm", "50 Œºm", "62.5 Œºm"], a: 1, e: "8-10 Œºm de di√°metro" },
                { q: "La p√©rdida por empalme es:", o: ["~0.1 dB", "~0.5 dB", "~0.75 dB", "~1 dB"], a: 0, e: "Empalme fusi√≥n ~0.1 dB" },
                { q: "La p√©rdida por conector es:", o: ["~0.1 dB", "~0.5 dB", "~0.75 dB", "~1.5 dB"], a: 2, e: "Conector t√≠pico ~0.75 dB" },
                { q: "La fibra funciona por:", o: ["Electricidad", "Reflexi√≥n interna total", "Magnetismo", "Radiofrecuencia"], a: 1, e: "Reflexi√≥n total en el n√∫cleo" },
                { q: "Recubrimiento primario mide:", o: ["125 Œºm", "250 Œºm", "900 Œºm", "1000 Œºm"], a: 1, e: "250 Œºm de buffer" },
                { q: "Protecci√≥n ajustada mide:", o: ["250 Œºm", "500 Œºm", "900 Œºm", "1200 Œºm"], a: 2, e: "900 Œºm tight buffer" },
                { q: "El gel en tubo holgado sirve para:", o: ["Conducir luz", "Anticongelante", "Aumentar velocidad", "Reducir peso"], a: 1, e: "Anticongelante, protege las fibras" },
                { q: "Cable exterior t√≠pico tiene:", o: ["1-4 fibras", "8-36 fibras", "100-200 fibras", "500+ fibras"], a: 1, e: "8 a 36 fibras en tubos holgados" },
                { q: "El Kevlar en cable sirve para:", o: ["Conducir luz", "Protecci√≥n mec√°nica", "Aislamiento el√©ctrico", "Refrigeraci√≥n"], a: 1, e: "Protecci√≥n mec√°nica, material resistente" },
                { q: "Distancia m√°xima multimodo:", o: ["100m", "5 km", "40 km", "80 km"], a: 1, e: "Hasta 5 km (t√≠pico 300m-2km)" }
            ],
            transceptores: [
                { q: "SFP significa:", o: ["Single Fiber Pluggable", "Small Form-Factor Pluggable", "Standard Fiber Protocol", "Simple Fast Port"], a: 1, e: "Small Form-Factor Pluggable" },
                { q: "QSFP significa:", o: ["Quick SFP", "Quad SFP", "Quality SFP", "Quarter SFP"], a: 1, e: "Quad Small Form-Factor Pluggable - 4 canales" },
                { q: "SR significa:", o: ["Single Rate", "Short Reach", "Standard Rate", "Super Range"], a: 1, e: "Short Reach - corto alcance (~300m)" },
                { q: "LR alcanza aproximadamente:", o: ["300m", "2km", "10km", "40km"], a: 2, e: "Long Reach ~10 km" },
                { q: "Power Budget se calcula:", o: ["Tx + Rx", "Tx - Rx sens", "Rx - Tx", "Tx √ó Rx"], a: 1, e: "Power Budget = Tx m√≠n - Rx sensibilidad" },
                { q: "ER alcanza aproximadamente:", o: ["10km", "20km", "40km", "80km"], a: 2, e: "Extended Reach ~40 km" },
                { q: "ZR alcanza aproximadamente:", o: ["40km", "60km", "80km+", "100km"], a: 2, e: "ZR Reach 80 km o m√°s" },
                { q: "La EEPROM del transceiver almacena:", o: ["Se√±al √≥ptica", "Datos del fabricante", "Luz l√°ser", "Errores"], a: 1, e: "Fabricante, modelo y configuraci√≥n" },
                { q: "Transceiver opera en capa OSI:", o: ["1", "2", "3", "4"], a: 0, e: "Capa 1 (F√≠sica), conversi√≥n de se√±ales" },
                { q: "El l√°ser Tx hace:", o: ["Recibir luz", "Generar se√±al √≥ptica", "Filtrar ruido", "Almacenar datos"], a: 1, e: "Convierte el√©ctrico a luz" },
                { q: "El fotodiodo Rx hace:", o: ["Generar luz", "Detectar luz recibida", "Amplificar", "Filtrar"], a: 1, e: "Convierte luz a el√©ctrico" },
                { q: "SFP28 es para:", o: ["10 Gbps", "25 Gbps", "40 Gbps", "100 Gbps"], a: 1, e: "25 Gbps, variante alta velocidad" },
                { q: "Tipos de conectores √≥pticos:", o: ["RJ45, RJ11", "LC, SC, MPO", "USB, HDMI", "BNC, F"], a: 1, e: "LC es el m√°s peque√±o y com√∫n" },
                { q: "Atenuaci√≥n fibra t√≠pica es:", o: ["0.1-0.2 dB/km", "0.22-0.5 dB/km", "1-2 dB/km", "5-10 dB/km"], a: 1, e: "0.22 dB/km a 1550nm, 0.5 dB/km en peor caso" },
                { q: "Margen seguridad recomendado:", o: ["0.5-1 dB", "1.7-3 dB", "5-10 dB", "15-20 dB"], a: 1, e: "1.7 a 3 dB por envejecimiento y variabilidad" }
            ],
            avanzado: [
                { q: "El radio efectivo de la Tierra con k=4/3 es:", o: ["6,371 km", "8,500 km", "10,000 km", "12,000 km"], a: 1, e: "~8,500 km (radio real ~6,371 km)" },
                { q: "El gradiente de refractividad t√≠pico es:", o: ["-20 N/km", "-40 N/km", "-60 N/km", "-80 N/km"], a: 1, e: "dN/dh ‚âà -40 N/km en regiones templadas" },
                { q: "El pico de absorci√≥n del O‚ÇÇ est√° en:", o: ["23 GHz", "38 GHz", "60 GHz", "80 GHz"], a: 2, e: "Ox√≠geno tiene pico entre 50-70 GHz" },
                { q: "El pico de absorci√≥n del H‚ÇÇO est√° en:", o: ["10 GHz", "23 GHz", "45 GHz", "60 GHz"], a: 1, e: "Vapor de agua tiene pico a ~23 GHz" },
                { q: "IPv6 tiene cu√°ntos bits:", o: ["32 bits", "64 bits", "128 bits", "256 bits"], a: 2, e: "128 bits = 8 secciones de 16 bits" },
                { q: "El tiempo de convergencia de OSPF es:", o: ["1-2 segundos", "4-5 segundos", "30 segundos", "180 segundos"], a: 1, e: "OSPF: 4-5s, RIP puede ser 180s" },
                { q: "La atenuaci√≥n SM a 1310nm es:", o: ["0.15 dB/km", "0.22 dB/km", "0.35 dB/km", "0.50 dB/km"], a: 2, e: "0.35 dB/km (mayor que 0.22 a 1550nm)" },
                { q: "El margen de seguridad en Power Budget es:", o: ["0.5-1 dB", "1.7-3 dB", "5-10 dB", "15-20 dB"], a: 1, e: "1.7 a 3 dB recomendado" },
                { q: "ITU define cu√°ntas zonas clim√°ticas de lluvia:", o: ["8", "12", "16", "20"], a: 2, e: "16 zonas con diferentes tasas de precipitaci√≥n" },
                { q: "BER para datos cr√≠ticos es:", o: ["10‚Åª‚Å∂", "10‚Åª‚Åπ", "10‚Åª¬π¬≥", "10‚Åª¬π‚Åµ"], a: 2, e: "10‚Åª¬π¬≥ para datos cr√≠ticos (m√°s exigente)" },
                { q: "La modulaci√≥n m√°xima de RAU 6365 es:", o: ["4096 QAM", "6144 QAM", "8192 QAM", "16384 QAM"], a: 2, e: "8192 QAM para anchos de 28 y 40 MHz" },
                { q: "MIMO 2x2 permite:", o: ["Triplicar capacidad", "Duplicar capacidad", "Aumentar 50%", "Reducir errores"], a: 1, e: "Multiplexaci√≥n espacial duplica capacidad" },
                { q: "Multi-band booster combina:", o: ["2 polarizaciones", "2 bandas de frecuencia", "2 antenas", "2 modulaciones"], a: 1, e: "Banda baja (prioridad) + banda alta (capacidad)" },
                { q: "El protocolo que asigna IPs autom√°ticamente es:", o: ["DNS", "DHCP", "ARP", "ICMP"], a: 1, e: "DHCP asigna IP, gateway y DNS" },
                { q: "ARP convierte:", o: ["IP a MAC", "MAC a IP", "Nombre a IP", "IP a nombre"], a: 0, e: "Obtiene direcci√≥n MAC dada una IP" }
            ]
        };
        
        // Ejercicios de f√≥rmulas
        const exercisesDB = [
            { cat: "radio", title: "Longitud de Onda", formula: "Œª (cm) = <input class='blank-input' data-answer='30'> / f (GHz)", exp: "Œª = 30/f. Ejemplo: 6 GHz ‚Üí Œª = 5 cm" },
            { cat: "radio", title: "Factor k", formula: "k ‚âà <input class='blank-input' data-answer='4/3,1.33'> (atm√≥sfera est√°ndar)", exp: "k ‚âà 4/3 = 1.33" },
            { cat: "radio", title: "Zona de Fresnel", formula: "rF = <input class='blank-input' data-answer='17.3,17,3'> √ó ‚àö(d‚ÇÅ√ód‚ÇÇ)/(f√ód)", exp: "rF = 17.3 √ó ‚àö(d‚ÇÅ√ód‚ÇÇ)/(f√ód)" },
            { cat: "radio", title: "Despejamiento Fresnel", formula: "Despejamiento m√≠nimo: <input class='blank-input' data-answer='60'>%", exp: "Se requiere 60% de despejamiento" },
            { cat: "radio", title: "P√©rdida Espacio Libre", formula: "ABF = <input class='blank-input' data-answer='92.4,92,4'> + 20√ólog(f) + 20√ólog(d)", exp: "ABF = 92.4 + 20√ólog(f) + 20√ólog(d)" },
            { cat: "optica", title: "Power Budget", formula: "PB = Tx m√≠n - <input class='blank-input' data-answer='Rx sensibilidad,sensibilidad,rx'>", exp: "PB = Tx m√≠n - Rx sensibilidad" },
            { cat: "optica", title: "P√©rdida Empalme", formula: "P√©rdida empalme: ~<input class='blank-input' data-answer='0.1,0,1'> dB", exp: "Empalme fusi√≥n ~0.1 dB" },
            { cat: "optica", title: "P√©rdida Conector", formula: "P√©rdida conector: ~<input class='blank-input' data-answer='0.75,0,75'> dB", exp: "Conector t√≠pico ~0.75 dB" },
            { cat: "optica", title: "Atenuaci√≥n SM 1550nm", formula: "Atenuaci√≥n SM 1550nm: ~<input class='blank-input' data-answer='0.22,0,22'> dB/km", exp: "Fibra SM a 1550nm ~0.22 dB/km" },
            { cat: "redes", title: "Hosts en Subred", formula: "Hosts = 2^n - <input class='blank-input' data-answer='2'>", exp: "Se restan red y broadcast" },
            { cat: "redes", title: "M√°scara /24", formula: "/24 = 255.255.255.<input class='blank-input' data-answer='0'>", exp: "/24 = 255.255.255.0 = 254 hosts" },
            { cat: "redes", title: "Hosts en /24", formula: "Red /24 = <input class='blank-input' data-answer='254'> hosts", exp: "2^8 - 2 = 254 hosts" },
            { cat: "redes", title: "Direcci√≥n MAC", formula: "MAC: <input class='blank-input' data-answer='48'> bits (<input class='blank-input' data-answer='6'> bytes)", exp: "MAC = 48 bits = 6 bytes" },
            { cat: "redes", title: "BER Est√°ndar", formula: "BER est√°ndar: 10^<input class='blank-input' data-answer='-9'>", exp: "BER est√°ndar telecomunicaciones = 10‚Åª‚Åπ" },
            { cat: "redes", title: "BER Datos Cr√≠ticos", formula: "BER datos cr√≠ticos: 10^<input class='blank-input' data-answer='-13'>", exp: "10‚Åª¬π¬≥ para transmisi√≥n de datos cr√≠ticos" },
            { cat: "redes", title: "IPv6", formula: "IPv6 tiene <input class='blank-input' data-answer='128'> bits", exp: "128 bits = 8 secciones de 16 bits" },
            { cat: "redes", title: "Jumbo Frame", formula: "Jumbo Frame: <input class='blank-input' data-answer='9000'> bytes", exp: "9000 bytes (no parte oficial RFC 2544)" },
            { cat: "redes", title: "Convergencia OSPF", formula: "OSPF converge en <input class='blank-input' data-answer='4,5,4-5'> segundos", exp: "4-5 segundos vs 180s de RIP" },
            { cat: "radio", title: "Radio Efectivo Tierra", formula: "Radio efectivo (k=4/3): ~<input class='blank-input' data-answer='8500,8,500'> km", exp: "k=4/3 ‚Üí Radio efectivo ~8,500 km" },
            { cat: "radio", title: "Gradiente Refractividad", formula: "dN/dh t√≠pico: <input class='blank-input' data-answer='-40'> N/km", exp: "Gradiente -40 N/km en regiones templadas" },
            { cat: "radio", title: "Pico Absorci√≥n O‚ÇÇ", formula: "Pico absorci√≥n O‚ÇÇ: ~<input class='blank-input' data-answer='60'> GHz", exp: "Ox√≠geno tiene pico entre 50-70 GHz" },
            { cat: "radio", title: "Pico Absorci√≥n H‚ÇÇO", formula: "Pico absorci√≥n H‚ÇÇO: ~<input class='blank-input' data-answer='23'> GHz", exp: "Vapor de agua tiene pico a ~23 GHz" },
            { cat: "radio", title: "Zonas Clim√°ticas ITU", formula: "ITU define <input class='blank-input' data-answer='16'> zonas de lluvia", exp: "16 zonas clim√°ticas con diferentes precipitaciones" },
            { cat: "radio", title: "Modulaci√≥n RAU 6365", formula: "RAU 6365 soporta hasta <input class='blank-input' data-answer='8192'> QAM", exp: "8192 QAM para 28 y 40 MHz" },
            { cat: "optica", title: "Atenuaci√≥n SM 1310nm", formula: "Atenuaci√≥n SM 1310nm: ~<input class='blank-input' data-answer='0.35,0,35'> dB/km", exp: "0.35 dB/km (mayor que 0.22 a 1550nm)" },
            { cat: "optica", title: "Margen Seguridad", formula: "Margen seguridad Power Budget: <input class='blank-input' data-answer='1.7,3,1.7-3'> dB", exp: "1.7 a 3 dB recomendado" },
            { cat: "optica", title: "Protecci√≥n Ajustada", formula: "Protecci√≥n ajustada: <input class='blank-input' data-answer='900'> Œºm", exp: "900 Œºm vs tubo holgado con gel" },
            
            // TCP/IP Y REDES
            { cat: "redes", title: "Capas OSI", formula: "Modelo OSI tiene <input class='blank-input' data-answer='7'> capas", exp: "TCP/IP h√≠brido tiene 5 capas" },
            { cat: "redes", title: "Capas TCP/IP H√≠brido", formula: "Modelo TCP/IP h√≠brido tiene <input class='blank-input' data-answer='5'> capas", exp: "Aplicaci√≥n, Transporte, Red, Enlace, F√≠sica" },
            { cat: "redes", title: "Trama M√≠nima Ethernet", formula: "Trama Ethernet m√≠nima: <input class='blank-input' data-answer='64'> bytes", exp: "64 bytes m√≠nimo, 1518 m√°ximo" },
            { cat: "redes", title: "Trama M√°xima Ethernet", formula: "Trama Ethernet m√°xima: <input class='blank-input' data-answer='1518'> bytes", exp: "Sin contar Jumbo Frames (9000)" },
            { cat: "redes", title: "MTU Ethernet", formula: "MTU Ethernet: <input class='blank-input' data-answer='1500'> bytes", exp: "Maximum Transmission Unit" },
            { cat: "redes", title: "Segmento TCP M√°ximo", formula: "Segmento TCP m√°ximo: <input class='blank-input' data-answer='1460'> bytes", exp: "1500 - 20(IP) - 20(TCP)" },
            { cat: "redes", title: "Puerto HTTP", formula: "Puerto HTTP: <input class='blank-input' data-answer='80'>", exp: "HTTPS usa puerto 443" },
            { cat: "redes", title: "Puerto FTP Control", formula: "Puerto FTP control: <input class='blank-input' data-answer='21'>", exp: "Puerto 20 para datos" },
            { cat: "redes", title: "Puerto DNS", formula: "Puerto DNS: <input class='blank-input' data-answer='53'>", exp: "Generalmente UDP" },
            { cat: "redes", title: "Puerto Telnet", formula: "Puerto Telnet: <input class='blank-input' data-answer='23'>", exp: "SSH usa puerto 22" },
            { cat: "redes", title: "Puerto SSH", formula: "Puerto SSH: <input class='blank-input' data-answer='22'>", exp: "Reemplazo seguro de Telnet" },
            { cat: "redes", title: "Servidores DNS Root", formula: "Servidores DNS root: <input class='blank-input' data-answer='13'>", exp: "Identificados de A a M" },
            { cat: "redes", title: "M√°scara Clase A", formula: "Clase A m√°scara: /<input class='blank-input' data-answer='8'>", exp: "255.0.0.0" },
            { cat: "redes", title: "M√°scara Clase B", formula: "Clase B m√°scara: /<input class='blank-input' data-answer='16'>", exp: "255.255.0.0" },
            { cat: "redes", title: "M√°scara Clase C", formula: "Clase C m√°scara: /<input class='blank-input' data-answer='24'>", exp: "255.255.255.0" },
            { cat: "redes", title: "Fast Ethernet", formula: "Fast Ethernet: <input class='blank-input' data-answer='100'> Mbps", exp: "100BASE-TX" },
            { cat: "redes", title: "Gigabit Ethernet", formula: "Gigabit Ethernet: <input class='blank-input' data-answer='1000,1'> Mbps/Gbps", exp: "1000BASE-T" },
            
            // EJERCICIOS NUEVOS - PROPAGACI√ìN Y RADIO
            { cat: "radio", title: "Margen de Fading", formula: "Margen de fading t√≠pico: hasta <input class='blank-input' data-answer='40'> dB", exp: "Hasta 40 dB seg√∫n disponibilidad" },
            { cat: "radio", title: "PTx Alta Potencia", formula: "RAU alta potencia: PTx ‚â§ <input class='blank-input' data-answer='30'> dBm", exp: "30 dBm m√°ximo" },
            { cat: "radio", title: "PTx Media Potencia", formula: "RAU media potencia: PTx ‚â§ <input class='blank-input' data-answer='26'> dBm", exp: "26 dBm m√°ximo" },
            { cat: "radio", title: "Modulaci√≥n MMU2H", formula: "MMU2H m√°ximo: <input class='blank-input' data-answer='512'> QAM", exp: "Primera con XPIC y adaptativa" },
            { cat: "radio", title: "Modulaci√≥n MMU3A", formula: "MMU3A m√°ximo: <input class='blank-input' data-answer='1024'> QAM", exp: "Anchos 28, 40, 56 MHz" },
            { cat: "radio", title: "Modulaci√≥n MMU4A", formula: "MMU4A m√°ximo: <input class='blank-input' data-answer='4096'> QAM", exp: "Anchos 80, 112 MHz" },
            { cat: "radio", title: "Bandas MINI-LINK", formula: "MINI-LINK opera: <input class='blank-input' data-answer='7'>-<input class='blank-input' data-answer='38'> GHz", exp: "7 a 38 GHz, requiere LOS" },
            { cat: "radio", title: "Bandas RAU 6365", formula: "RAU 6365: <input class='blank-input' data-answer='6'> a <input class='blank-input' data-answer='42'> GHz", exp: "Cubre todo el rango" },
            
            // EJERCICIOS NUEVOS - RFC2544 Y TESTING
            { cat: "redes", title: "Criterio Throughput", formula: "Aceptaci√≥n throughput: ‚â•<input class='blank-input' data-answer='99'>%", exp: "99% del rate te√≥rico" },
            { cat: "redes", title: "Criterio Frame Loss", formula: "Aceptaci√≥n frame loss: ‚â§<input class='blank-input' data-answer='0.01'>%", exp: "Muy baja p√©rdida" },
            { cat: "redes", title: "Latencia @1G", formula: "Latencia m√°xima @1G: ‚â§<input class='blank-input' data-answer='1'> ms", exp: "1 ms a 1 Gbps" },
            { cat: "redes", title: "Latencia @10G", formula: "Latencia m√°xima @10G: ‚â§<input class='blank-input' data-answer='300'> Œºs", exp: "300 microsegundos" },
            
            // EJERCICIOS NUEVOS - FIBRA Y TRANSCEPTORES
            { cat: "optica", title: "Recubrimiento Primario", formula: "Recubrimiento primario: <input class='blank-input' data-answer='250'> Œºm", exp: "Buffer primario" },
            { cat: "optica", title: "Distancia SR", formula: "SR (Short Reach): ~<input class='blank-input' data-answer='300'> m", exp: "Corto alcance" },
            { cat: "optica", title: "Distancia LR", formula: "LR (Long Reach): ~<input class='blank-input' data-answer='10'> km", exp: "Largo alcance" },
            { cat: "optica", title: "Distancia ER", formula: "ER (Extended Reach): ~<input class='blank-input' data-answer='40'> km", exp: "Alcance extendido" },
            { cat: "optica", title: "Distancia ZR", formula: "ZR: <input class='blank-input' data-answer='80'> km o m√°s", exp: "Muy largo alcance" },
            { cat: "optica", title: "Distancia Multimodo", formula: "Multimodo m√°ximo: ~<input class='blank-input' data-answer='5'> km", exp: "T√≠pico 300m-2km" },
            { cat: "optica", title: "Fibras Cable Exterior", formula: "Cable exterior t√≠pico: <input class='blank-input' data-answer='8'>-<input class='blank-input' data-answer='36'> fibras", exp: "En tubos holgados" },
            { cat: "optica", title: "N√∫cleo Monomodo", formula: "N√∫cleo SM: <input class='blank-input' data-answer='8'>-<input class='blank-input' data-answer='10'> Œºm", exp: "8-10 micr√≥metros" }
        ];
        
        // Tips
        const tips = [
            "Radio efectivo de la Tierra con k=4/3 es ~8,500 km.",
            "El gradiente de refractividad t√≠pico es -40 N/km.",
            "El O‚ÇÇ absorbe a ~60 GHz, el H‚ÇÇO a ~23 GHz.",
            "OSPF converge en 4-5 segundos, RIP en hasta 180 segundos.",
            "IPv6 tiene 128 bits (8 secciones de 16 bits).",
            "BER para datos cr√≠ticos es 10‚Åª¬π¬≥ (m√°s exigente que 10‚Åª‚Åπ).",
            "RAU 6365 soporta hasta 8192 QAM.",
            "Margen de seguridad en Power Budget: 1.7-3 dB.",
            "ITU define 16 zonas clim√°ticas de lluvia.",
            "ARP convierte IP a MAC, DNS convierte nombre a IP.",
            "DHCP asigna IP, gateway y DNS autom√°ticamente.",
            "Atenuaci√≥n SM a 1310nm es 0.35 dB/km (mayor que 1550nm).",
            "La primera zona de Fresnel debe estar despejada al menos en un 60%.",
            "El factor k en atm√≥sfera est√°ndar es 4/3 ‚âà 1.33.",
            "A frecuencias ‚â• 10 GHz, la lluvia domina la atenuaci√≥n.",
            "XPIC se requiere solo en configuraci√≥n CCDP.",
            "Power Budget = Tx m√≠n - Rx sensibilidad.",
            "BER de 10‚Åª‚Åπ es est√°ndar para telecomunicaciones.",
            "Switch opera en capa 2, Router en capa 3.",
            "Œª (cm) = 30 / f (GHz)",
            "Fibra monomodo (amarilla) para largas distancias.",
            "P√©rdida empalme ~0.1 dB, conector ~0.75 dB.",
            "/24 = 254 hosts utilizables (2^8 - 2).",
            "Diversidad de espacio: 2 antenas Rx, combate multipath.",
            "Criterio Rayleigh: determina si superficie es lisa o rugosa.",
            "G.821/G.826 definen SES, ES y disponibilidad.",
            "RAU alta potencia: ‚â§30 dBm, media potencia: ‚â§26 dBm.",
            "6300 = outdoor (RAU), 6600 = indoor (AMM).",
            "Modulaci√≥n adaptativa: cambia QAM seg√∫n se√±al recibida.",
            "RFC 2544: throughput ‚â•99%, frame loss ‚â§0.01%.",
            "Latencia m√°xima: ‚â§1ms @1G, ‚â§300Œºs @10G.",
            "CIR = tasa comprometida, EIR = tasa excedente.",
            "PTP IEEE 1588: sincronizaci√≥n de tiempo precisa.",
            "Transceiver opera en capa 1 (f√≠sica) del modelo OSI.",
            "SR~300m, LR~10km, ER~40km, ZR~80km+.",
            "Recubrimiento primario fibra: 250 Œºm, ajustado: 900 Œºm.",
            "Multimodo alcanza hasta 5 km (t√≠pico 300m-2km).",
            "N√∫cleo monomodo: 8-10 Œºm de di√°metro."
        ];
        
        // ============ VERDADERO O FALSO ============
        const vofQuestionsDB = [
            // RADIO Y PROPAGACI√ìN
            { category: "radio", statement: "El factor k en atm√≥sfera est√°ndar es 4/3 ‚âà 1.33", answer: true, explanation: "Correcto. k ‚âà 4/3 = 1.33 en atm√≥sfera est√°ndar, dando un radio efectivo de ~8,500 km." },
            { category: "radio", statement: "La longitud de onda a 15 GHz es 2 cm", answer: true, explanation: "Correcto. Œª = 30/15 = 2 cm." },
            { category: "radio", statement: "La lluvia domina la atenuaci√≥n a frecuencias menores de 5 GHz", answer: false, explanation: "Falso. La lluvia domina a frecuencias ‚â• 10 GHz. Por debajo dominan efectos de terreno." },
            { category: "radio", statement: "Se requiere un despejamiento m√≠nimo del 60% de la primera zona de Fresnel", answer: true, explanation: "Correcto. Menos despejamiento causa p√©rdidas por difracci√≥n." },
            { category: "radio", statement: "EIRP significa Effective Isotropic Radiated Power", answer: true, explanation: "Correcto. Potencia Radiada Isotr√≥pica Efectiva." },
            { category: "radio", statement: "El margen de fading t√≠pico puede llegar hasta 40 dB", answer: true, explanation: "Correcto. Depende de la disponibilidad requerida." },
            { category: "radio", statement: "XPIC es necesario para configuraci√≥n ACCP", answer: false, explanation: "Falso. XPIC es necesario para CCDP (Co-Channel Dual Polarized), no ACCP." },
            { category: "radio", statement: "El pico de absorci√≥n del ox√≠geno est√° a ~60 GHz", answer: true, explanation: "Correcto. Entre 50-70 GHz, con m√°ximo a ~60 GHz." },
            { category: "radio", statement: "El vapor de agua tiene un pico de absorci√≥n a 60 GHz", answer: false, explanation: "Falso. El H‚ÇÇO tiene pico a ~23 GHz, no a 60 GHz." },
            { category: "radio", statement: "La diversidad de espacio usa dos antenas receptoras separadas", answer: true, explanation: "Correcto. Las se√±ales faden independientemente." },
            { category: "radio", statement: "MINI-LINK opera en el rango de 7-38 GHz", answer: true, explanation: "Correcto. Requiere l√≠nea de vista." },
            { category: "radio", statement: "La familia 6300 reemplaza a las unidades indoor AMM", answer: false, explanation: "Falso. 6300 reemplaza las RAU (outdoor), 6600 reemplaza las AMM (indoor)." },
            { category: "radio", statement: "La modulaci√≥n adaptativa cambia la QAM seg√∫n la calidad de se√±al", answer: true, explanation: "Correcto. Alta se√±al = alta QAM, baja se√±al = baja QAM." },
            { category: "radio", statement: "RAU alta potencia tiene PTx m√°xima de 26 dBm", answer: false, explanation: "Falso. Alta potencia es ‚â§30 dBm, media potencia es ‚â§26 dBm." },
            { category: "radio", statement: "MMU4A soporta hasta 4096 QAM", answer: true, explanation: "Correcto. Con anchos de banda de 80 y 112 MHz." },
            { category: "radio", statement: "El criterio de Rayleigh determina si una superficie es lisa o rugosa", answer: true, explanation: "Correcto. Depende de Œª, √°ngulo y rugosidad de la superficie." },
            { category: "radio", statement: "ITU define 10 zonas clim√°ticas de lluvia", answer: false, explanation: "Falso. ITU define 16 zonas clim√°ticas de lluvia." },
            { category: "radio", statement: "MIMO 2x2 puede duplicar la capacidad del radioenlace", answer: true, explanation: "Correcto. Multiplexaci√≥n espacial con 2 antenas Tx y 2 Rx." },
            
            // IP Y REDES
            { category: "ip", statement: "El modelo OSI tiene 7 capas", answer: true, explanation: "Correcto. El modelo TCP/IP h√≠brido tiene 5 capas." },
            { category: "ip", statement: "Una direcci√≥n MAC tiene 32 bits", answer: false, explanation: "Falso. MAC tiene 48 bits (6 bytes)." },
            { category: "ip", statement: "La direcci√≥n MAC de broadcast es FF:FF:FF:FF:FF:FF", answer: true, explanation: "Correcto. Se env√≠a a todos los dispositivos." },
            { category: "ip", statement: "Una red /24 tiene 256 hosts utilizables", answer: false, explanation: "Falso. Tiene 254 hosts (2^8 - 2, se resta red y broadcast)." },
            { category: "ip", statement: "TCP usa un 3-way handshake: SYN, SYN/ACK, ACK", answer: true, explanation: "Correcto. As√≠ se establece la conexi√≥n TCP." },
            { category: "ip", statement: "El MTU de Ethernet es 1518 bytes", answer: false, explanation: "Falso. MTU es 1500 bytes. 1518 es el tama√±o m√°ximo de trama incluyendo headers." },
            { category: "ip", statement: "UDP es un protocolo orientado a conexi√≥n", answer: false, explanation: "Falso. UDP es sin conexi√≥n, no confiable pero r√°pido." },
            { category: "ip", statement: "El puerto HTTP es 80", answer: true, explanation: "Correcto. HTTPS usa puerto 443." },
            { category: "ip", statement: "DNS usa t√≠picamente el puerto 53 UDP", answer: true, explanation: "Correcto. Tambi√©n puede usar TCP para transferencias grandes." },
            { category: "ip", statement: "Un Switch opera en capa 3 del modelo OSI", answer: false, explanation: "Falso. Switch opera en capa 2 (enlace). Router opera en capa 3." },
            { category: "ip", statement: "OSPF converge m√°s r√°pido que RIP", answer: true, explanation: "Correcto. OSPF: 4-5 segundos, RIP: hasta 180 segundos." },
            { category: "ip", statement: "IPv6 tiene 64 bits", answer: false, explanation: "Falso. IPv6 tiene 128 bits." },
            { category: "ip", statement: "ARP convierte direcciones IP a direcciones MAC", answer: true, explanation: "Correcto. Usa broadcast para preguntar qui√©n tiene la IP." },
            { category: "ip", statement: "DHCP asigna direcciones IP autom√°ticamente", answer: true, explanation: "Correcto. Tambi√©n asigna gateway y DNS." },
            { category: "ip", statement: "El rango 192.168.0.0/16 es de direcciones IP privadas", answer: true, explanation: "Correcto. Tambi√©n 10.0.0.0/8 y 172.16.0.0/12." },
            { category: "ip", statement: "Un Hub opera en capa 2 del modelo OSI", answer: false, explanation: "Falso. Hub opera en capa 1 (f√≠sica), repite se√±al a todos." },
            { category: "ip", statement: "Full Duplex permite enviar y recibir simult√°neamente", answer: true, explanation: "Correcto. Half Duplex solo permite uno a la vez." },
            { category: "ip", statement: "Existen 13 servidores DNS root (A-M)", answer: true, explanation: "Correcto. Distribuidos por el mundo." },
            
            // FIBRA √ìPTICA
            { category: "fibra", statement: "La fibra monomodo es de color amarillo", answer: true, explanation: "Correcto. La multimodo es naranja." },
            { category: "fibra", statement: "El n√∫cleo de fibra monomodo mide 50 Œºm", answer: false, explanation: "Falso. El n√∫cleo SM mide 8-10 Œºm. 50 Œºm es multimodo." },
            { category: "fibra", statement: "La p√©rdida por empalme de fusi√≥n es ~0.1 dB", answer: true, explanation: "Correcto. Muy baja p√©rdida." },
            { category: "fibra", statement: "La p√©rdida por conector √≥ptico es ~0.75 dB", answer: true, explanation: "Correcto. Conectores de alta calidad: 0.3-0.5 dB." },
            { category: "fibra", statement: "SFP significa Single Fiber Pluggable", answer: false, explanation: "Falso. SFP significa Small Form-Factor Pluggable." },
            { category: "fibra", statement: "LR (Long Reach) alcanza aproximadamente 10 km", answer: true, explanation: "Correcto. SR~300m, LR~10km, ER~40km, ZR~80km+." },
            { category: "fibra", statement: "La atenuaci√≥n SM a 1550nm es mayor que a 1310nm", answer: false, explanation: "Falso. A 1550nm es ~0.22 dB/km, a 1310nm es ~0.35 dB/km." },
            { category: "fibra", statement: "QSFP significa Quad Small Form-Factor Pluggable", answer: true, explanation: "Correcto. 4 canales, usado para 40G/100G." },
            { category: "fibra", statement: "El recubrimiento primario de fibra mide 250 Œºm", answer: true, explanation: "Correcto. La protecci√≥n ajustada (tight) mide 900 Œºm." },
            { category: "fibra", statement: "El gel en tubo holgado sirve como anticongelante", answer: true, explanation: "Correcto. Protege las fibras y no se escurre." },
            { category: "fibra", statement: "La fibra multimodo puede alcanzar hasta 80 km", answer: false, explanation: "Falso. Multimodo alcanza hasta 5 km (t√≠pico 300m-2km)." },
            { category: "fibra", statement: "El transceiver opera en capa 1 (f√≠sica) del modelo OSI", answer: true, explanation: "Correcto. Realiza conversi√≥n fotoel√©ctrica." },
            { category: "fibra", statement: "Power Budget = Tx m√≠nimo - Rx sensibilidad", answer: true, explanation: "Correcto. Indica el margen disponible para p√©rdidas." },
            { category: "fibra", statement: "El margen de seguridad recomendado en Power Budget es 1.7-3 dB", answer: true, explanation: "Correcto. Por envejecimiento y variabilidad." },
            
            // BERT Y RFC2544
            { category: "bert", statement: "BER significa Bit Error Rate", answer: true, explanation: "Correcto. Tasa de errores de bits." },
            { category: "bert", statement: "El BER est√°ndar para telecomunicaciones es 10‚Åª‚Å∂", answer: false, explanation: "Falso. El est√°ndar es 10‚Åª‚Åπ. Para datos cr√≠ticos es 10‚Åª¬π¬≥." },
            { category: "bert", statement: "RFC 2544 fue publicado por IETF", answer: true, explanation: "Correcto. Internet Engineering Task Force, 1999." },
            { category: "bert", statement: "Los tama√±os de trama RFC 2544 incluyen 64, 128, 256, 512, 1024, 1280, 1518 bytes", answer: true, explanation: "Correcto. 7 tama√±os est√°ndar de prueba." },
            { category: "bert", statement: "El jitter afecta principalmente a las transferencias de archivos", answer: false, explanation: "Falso. Afecta principalmente a voz y video en tiempo real." },
            { category: "bert", statement: "ITU-T Y.1564 reemplaza a RFC 2544 para escenarios multiservicio", answer: true, explanation: "Correcto. Modela mejor m√∫ltiples servicios simult√°neos." },
            { category: "bert", statement: "El criterio de aceptaci√≥n de throughput en RFC 2544 es ‚â•99%", answer: true, explanation: "Correcto. Del rate te√≥rico." },
            { category: "bert", statement: "La latencia m√°xima aceptable a 1 Gbps es 10 ms", answer: false, explanation: "Falso. Es ‚â§1 ms a 1G, ‚â§300 Œºs a 10G." },
            { category: "bert", statement: "El criterio de frame loss es ‚â§0.01%", answer: true, explanation: "Correcto. Muy baja p√©rdida aceptable." },
            { category: "bert", statement: "PRBS significa Pseudo-Random Bit Sequence", answer: true, explanation: "Correcto. Secuencia Pseudo-Aleatoria de Bits para testing." },
            { category: "bert", statement: "CIR significa Committed Information Rate", answer: true, explanation: "Correcto. Tasa de informaci√≥n comprometida." },
            { category: "bert", statement: "PTP IEEE 1588 es un protocolo de sincronizaci√≥n precisa", answer: true, explanation: "Correcto. Precision Time Protocol." },
            { category: "bert", statement: "Back-to-Back en RFC 2544 mide la latencia", answer: false, explanation: "Falso. Mide la capacidad de procesar r√°fagas sucesivas." },
            
            // ============ GPON Y FTTH ============
            { category: "fibra", statement: "GPON significa Gigabit Passive Optical Network", answer: true, explanation: "Correcto. Red √ìptica Pasiva con capacidad de Gigabit." },
            { category: "fibra", statement: "En GPON, OLT est√° ubicado en el lado del usuario", answer: false, explanation: "Falso. OLT (Optical Line Terminal) est√° en la central. ONT/ONU est√° en el usuario." },
            { category: "fibra", statement: "El alcance m√°ximo de GPON es 20 km", answer: true, explanation: "Correcto. Aunque el est√°ndar permite hasta 60 km l√≥gicos." },
            { category: "fibra", statement: "GPON usa WDM para separar tr√°fico ascendente y descendente", answer: true, explanation: "Correcto. Usa diferentes longitudes de onda para cada direcci√≥n." },
            { category: "fibra", statement: "En GPON descendente, cada ONT recibe solo su propio tr√°fico", answer: false, explanation: "Falso. Descendente es broadcast, cada ONT filtra y descifra solo sus datos." },
            { category: "fibra", statement: "El sentido ascendente en GPON usa TDMA", answer: true, explanation: "Correcto. La OLT asigna ventanas de tiempo a cada ONT." },
            { category: "fibra", statement: "El splitter √≥ptico en GPON es un elemento activo", answer: false, explanation: "Falso. El splitter es PASIVO, no requiere alimentaci√≥n el√©ctrica." },
            { category: "fibra", statement: "GPON puede soportar hasta 128 usuarios por fibra", answer: true, explanation: "Correcto. T√≠picamente 1:32 o 1:64, m√°ximo 1:128." },
            { category: "fibra", statement: "La velocidad descendente t√≠pica de GPON es 2.488 Gbps", answer: true, explanation: "Correcto. Ascendente es t√≠picamente 1.244 Gbps." },
            { category: "fibra", statement: "OMCI es el protocolo de gesti√≥n remota de ONTs en GPON", answer: true, explanation: "Correcto. ONT Management and Control Interface, definido en G.984.4." },
            { category: "fibra", statement: "GEM significa GPON Encapsulation Method", answer: true, explanation: "Correcto. M√©todo de encapsulaci√≥n usado en GPON." },
            { category: "fibra", statement: "XG-PON ofrece 10 Gbps sim√©tricos", answer: false, explanation: "Falso. XG-PON es 10G down / 2.5G up. XGS-PON es sim√©trico 10G/10G." },
            { category: "fibra", statement: "MDU permite dar servicio GPON a m√∫ltiples usuarios en un edificio", answer: true, explanation: "Correcto. Multi Dwelling Unit, puede usar xDSL o Ethernet hacia usuarios." },
            { category: "fibra", statement: "La OLT debe conocer la distancia a cada ONT para sincronizaci√≥n", answer: true, explanation: "Correcto. Necesario para calcular retardos y evitar colisiones TDMA." },
            { category: "fibra", statement: "En GPON, la seguridad se implementa con cifrado AES", answer: true, explanation: "Correcto. Necesario por la naturaleza broadcast del downstream." },
            
            // ============ DWDM Y WDM ============
            { category: "fibra", statement: "DWDM significa Dense Wavelength Division Multiplexing", answer: true, explanation: "Correcto. Multiplexaci√≥n densa por divisi√≥n de longitud de onda." },
            { category: "fibra", statement: "DWDM opera en la banda C (1550 nm)", answer: true, explanation: "Correcto. Tambi√©n puede usar banda L (hasta 1610 nm)." },
            { category: "fibra", statement: "CWDM puede alcanzar mayores distancias que DWDM", answer: false, explanation: "Falso. DWDM con amplificadores EDFA alcanza miles de km. CWDM t√≠picamente 50-80 km." },
            { category: "fibra", statement: "DWDM puede combinar hasta 160 longitudes de onda en una fibra", answer: true, explanation: "Correcto. Con espaciado de 25 GHz." },
            { category: "fibra", statement: "El espaciado est√°ndar de canales DWDM es 100 GHz", answer: true, explanation: "Correcto. Tambi√©n 50 GHz para m√°s canales." },
            { category: "fibra", statement: "EDFA significa Erbium Doped Fiber Amplifier", answer: true, explanation: "Correcto. Amplificador de fibra dopada con erbio." },
            { category: "fibra", statement: "CWDM usa l√°seres de menor precisi√≥n que DWDM", answer: true, explanation: "Correcto. CWDM permite mayor deriva de longitud de onda, reduciendo costos." },
            { category: "fibra", statement: "En DWDM, cada canal √≥ptico puede transportar diferente tipo de tr√°fico", answer: true, explanation: "Correcto. Son canales independientes." },
            
            // ============ MPLS ============
            { category: "ip", statement: "MPLS significa Multiprotocol Label Switching", answer: true, explanation: "Correcto. Conmutaci√≥n de etiquetas multiprotocolo." },
            { category: "ip", statement: "MPLS opera entre capa 2 y capa 3 del modelo OSI", answer: true, explanation: "Correcto. A veces llamada capa 2.5." },
            { category: "ip", statement: "La etiqueta MPLS tiene 32 bits en total", answer: true, explanation: "Correcto. 20 bits label + 3 bits Exp + 1 bit S + 8 bits TTL." },
            { category: "ip", statement: "LER significa Label Edge Router", answer: true, explanation: "Correcto. Router de borde que inserta/extrae etiquetas MPLS." },
            { category: "ip", statement: "LSP es un camino unidireccional en MPLS", answer: true, explanation: "Correcto. Label Switched Path es unidireccional." },
            { category: "ip", statement: "LDP distribuye etiquetas MPLS entre routers", answer: true, explanation: "Correcto. Label Distribution Protocol." },
            { category: "ip", statement: "En MPLS, el router examina la cabecera IP para reenviar paquetes", answer: false, explanation: "Falso. Solo examina la etiqueta MPLS, m√°s eficiente." },
            { category: "ip", statement: "MPLS soporta Calidad de Servicio (QoS)", answer: true, explanation: "Correcto. Los 3 bits Exp se usan para QoS/CoS." },
            { category: "ip", statement: "PHP significa Penultimate Hop Popping", answer: true, explanation: "Correcto. El pen√∫ltimo router remueve la etiqueta para aliviar al √∫ltimo." },
            { category: "ip", statement: "FEC agrupa paquetes con el mismo tratamiento de forwarding", answer: true, explanation: "Correcto. Forwarding Equivalence Class." },
            { category: "ip", statement: "MPLS puede transportar solo tr√°fico IP", answer: false, explanation: "Falso. Es multiprotocolo: IP, ATM, Frame Relay, Ethernet, etc." },
            { category: "ip", statement: "Las operaciones b√°sicas MPLS son PUSH, POP y SWAP", answer: true, explanation: "Correcto. Apilar, desapilar e intercambiar etiquetas." },
            { category: "ip", statement: "Router PE significa Provider Edge en contexto VPN/MPLS", answer: true, explanation: "Correcto. Router P es Provider (tr√°nsito interno)." },
            
            // ============ PROTOCOLOS DE ROUTING ============
            { category: "ip", statement: "BGP es el protocolo de routing usado en Internet", answer: true, explanation: "Correcto. Border Gateway Protocol, protocolo EGP." },
            { category: "ip", statement: "OSPF es un protocolo de estado de enlace", answer: true, explanation: "Correcto. Link-state, usa algoritmo SPF (Dijkstra)." },
            { category: "ip", statement: "RIP tiene un l√≠mite de 15 saltos", answer: true, explanation: "Correcto. 16 significa inalcanzable." },
            { category: "ip", statement: "OSPF usa el puerto UDP 520", answer: false, explanation: "Falso. OSPF usa IP directamente (protocolo 89). RIP usa UDP 520." },
            { category: "ip", statement: "IS-IS es un protocolo IGP usado por grandes ISPs", answer: true, explanation: "Correcto. Intermediate System to Intermediate System." },
            { category: "ip", statement: "El √°rea 0 en OSPF es el backbone", answer: true, explanation: "Correcto. Todas las dem√°s √°reas deben conectar al √°rea 0." },
            { category: "ip", statement: "BGP usa TCP puerto 179", answer: true, explanation: "Correcto. Conexiones TCP confiables entre peers." },
            { category: "ip", statement: "EIGRP es un protocolo est√°ndar abierto", answer: false, explanation: "Falso. EIGRP es propietario de Cisco (aunque liber√≥ parte en 2013)." },
            
            // ============ SDH/SONET ============
            { category: "fibra", statement: "SDH significa Synchronous Digital Hierarchy", answer: true, explanation: "Correcto. SONET es el equivalente americano." },
            { category: "fibra", statement: "STM-1 tiene una velocidad de 155.52 Mbps", answer: true, explanation: "Correcto. STM-4=622M, STM-16=2.5G, STM-64=10G." },
            { category: "fibra", statement: "SDH usa multiplexaci√≥n as√≠ncrona", answer: false, explanation: "Falso. SDH es SINCR√ìNICO, todos los nodos tienen la misma referencia de reloj." },
            { category: "fibra", statement: "La trama SDH tiene duraci√≥n de 125 Œºs", answer: true, explanation: "Correcto. Equivale a 8000 tramas por segundo." },
            { category: "fibra", statement: "SDH permite extraer/insertar tributarios sin demultiplexar toda la se√±al", answer: true, explanation: "Correcto. Esto es Add-Drop Multiplexing (ADM)." },
            
            // ============ ETHERNET Y SWITCHING ============
            { category: "ip", statement: "Ethernet Gigabit usa el est√°ndar IEEE 802.3ab para UTP", answer: true, explanation: "Correcto. 1000BASE-T sobre Cat5e/Cat6." },
            { category: "ip", statement: "Un switch crea un dominio de colisi√≥n por puerto", answer: true, explanation: "Correcto. Cada puerto es un dominio de colisi√≥n separado." },
            { category: "ip", statement: "STP previene loops en redes con switches", answer: true, explanation: "Correcto. Spanning Tree Protocol (IEEE 802.1D)." },
            { category: "ip", statement: "RSTP converge m√°s lento que STP", answer: false, explanation: "Falso. RSTP (Rapid STP) converge en segundos vs. 30-50s de STP." },
            { category: "ip", statement: "Una VLAN segmenta dominios de broadcast", answer: true, explanation: "Correcto. Cada VLAN es un dominio de broadcast separado." },
            { category: "ip", statement: "802.1Q es el est√°ndar para trunk VLAN", answer: true, explanation: "Correcto. Agrega tag de 4 bytes a la trama Ethernet." },
            { category: "ip", statement: "El campo VLAN ID tiene 12 bits, permitiendo 4096 VLANs", answer: true, explanation: "Correcto. VLAN 0 y 4095 est√°n reservadas." },
            { category: "ip", statement: "LACP permite agregar m√∫ltiples enlaces f√≠sicos", answer: true, explanation: "Correcto. Link Aggregation Control Protocol (802.3ad)." },
            
            // ============ QoS Y TR√ÅFICO ============
            { category: "ip", statement: "DiffServ usa 6 bits del campo DSCP para marcar prioridad", answer: true, explanation: "Correcto. Differentiated Services Code Point." },
            { category: "ip", statement: "El campo ToS en IPv4 tiene 8 bits", answer: true, explanation: "Correcto. Type of Service, redefinido como DSCP + ECN." },
            { category: "ip", statement: "EF (Expedited Forwarding) es para tr√°fico best-effort", answer: false, explanation: "Falso. EF es para tr√°fico de baja latencia/jitter como VoIP." },
            { category: "ip", statement: "Traffic shaping suaviza r√°fagas de tr√°fico", answer: true, explanation: "Correcto. Regula el tr√°fico para evitar congesti√≥n." },
            { category: "ip", statement: "Policing puede descartar tr√°fico que excede el l√≠mite", answer: true, explanation: "Correcto. A diferencia de shaping que retarda/encola." },
            
            // ============ SEGURIDAD DE RED ============
            { category: "ip", statement: "Un firewall puede operar en capa 3 y capa 4", answer: true, explanation: "Correcto. Filtrado por IP y puertos TCP/UDP." },
            { category: "ip", statement: "IPsec puede operar en modo t√∫nel y modo transporte", answer: true, explanation: "Correcto. T√∫nel encripta todo, transporte solo payload." },
            { category: "ip", statement: "SSH usa puerto 23", answer: false, explanation: "Falso. SSH usa puerto 22. Telnet usa puerto 23." },
            { category: "ip", statement: "HTTPS usa TLS/SSL para encriptaci√≥n", answer: true, explanation: "Correcto. Puerto 443." },
            { category: "ip", statement: "SNMPv3 incluye autenticaci√≥n y encriptaci√≥n", answer: true, explanation: "Correcto. A diferencia de v1 y v2c que usan community strings en texto plano." },
            
            // ============ SINCRONIZACI√ìN Y TIMING ============
            { category: "bert", statement: "SyncE sincroniza la frecuencia de red Ethernet", answer: true, explanation: "Correcto. Synchronous Ethernet, derivado de SDH." },
            { category: "bert", statement: "PTP puede lograr precisi√≥n de nanosegundos", answer: true, explanation: "Correcto. Precision Time Protocol IEEE 1588." },
            { category: "bert", statement: "NTP es m√°s preciso que PTP", answer: false, explanation: "Falso. NTP logra milisegundos, PTP puede lograr nanosegundos." },
            { category: "bert", statement: "GPS se usa como referencia de timing en telecomunicaciones", answer: true, explanation: "Correcto. Proporciona stratum 1 de sincronizaci√≥n." },
            
            // ============ TELEFON√çA Y VOZ ============
            { category: "ip", statement: "VoIP significa Voice over Internet Protocol", answer: true, explanation: "Correcto. Voz sobre protocolo IP." },
            { category: "ip", statement: "SIP usa puerto 5060 por defecto", answer: true, explanation: "Correcto. Session Initiation Protocol." },
            { category: "ip", statement: "RTP transporta el audio en llamadas VoIP", answer: true, explanation: "Correcto. Real-time Transport Protocol." },
            { category: "ip", statement: "El c√≥dec G.711 tiene alta compresi√≥n", answer: false, explanation: "Falso. G.711 no comprime (64 kbps). G.729 comprime a 8 kbps." },
            { category: "ip", statement: "El jitter buffer compensa variaciones de latencia", answer: true, explanation: "Correcto. Almacena paquetes para reproducci√≥n uniforme." },
            
            // ============ CABLEADO ESTRUCTURADO ============
            { category: "fibra", statement: "Cat6 soporta 10 Gigabit hasta 55 metros", answer: true, explanation: "Correcto. Cat6a soporta 10G hasta 100m." },
            { category: "fibra", statement: "Cat5e soporta Gigabit Ethernet", answer: true, explanation: "Correcto. 1000BASE-T hasta 100m." },
            { category: "fibra", statement: "El cable UTP tiene blindaje met√°lico", answer: false, explanation: "Falso. UTP = Unshielded Twisted Pair. STP/FTP tienen blindaje." },
            { category: "fibra", statement: "PoE puede entregar hasta 100W en 802.3bt", answer: true, explanation: "Correcto. PoE++ (Type 4) entrega hasta 100W." },
            
            // ============ REDES M√ìVILES ============
            { category: "radio", statement: "LTE usa OFDMA en downlink", answer: true, explanation: "Correcto. Y SC-FDMA en uplink." },
            { category: "radio", statement: "5G NR puede operar en bandas mmWave", answer: true, explanation: "Correcto. Ondas milim√©tricas (24-100 GHz)." },
            { category: "radio", statement: "eNodeB es el nombre de la estaci√≥n base en LTE", answer: true, explanation: "Correcto. En 5G se llama gNodeB." },
            { category: "radio", statement: "El handover permite cambiar de celda sin cortar la llamada", answer: true, explanation: "Correcto. Transferencia entre celdas." },
            { category: "radio", statement: "Massive MIMO usa decenas o cientos de antenas", answer: true, explanation: "Correcto. T√≠picamente 64, 128 o m√°s antenas." },
            
            // ============ HERRAMIENTAS Y MEDICI√ìN ============
            { category: "bert", statement: "Un OTDR mide p√©rdidas y localiza fallas en fibra", answer: true, explanation: "Correcto. Optical Time Domain Reflectometer." },
            { category: "bert", statement: "El power meter mide potencia √≥ptica en dBm", answer: true, explanation: "Correcto. Mide potencia absoluta de luz." },
            { category: "bert", statement: "Un analizador de espectro √≥ptico (OSA) ve canales DWDM", answer: true, explanation: "Correcto. Muestra potencia vs longitud de onda." },
            { category: "bert", statement: "Wireshark captura y analiza tr√°fico de red", answer: true, explanation: "Correcto. Analizador de protocolos." },
            { category: "bert", statement: "Ping usa el protocolo ICMP", answer: true, explanation: "Correcto. Internet Control Message Protocol." },
            { category: "bert", statement: "Traceroute muestra la ruta de paquetes a un destino", answer: true, explanation: "Correcto. Usa TTL incremental para descubrir saltos." },
            
            // ============ GPON Y FTTH (NUEVAS) ============
            { category: "fibra", statement: "En GPON la velocidad downstream es 2.488 Gbps", answer: true, explanation: "Correcto. Upstream es 1.244 Gbps." },
            { category: "fibra", statement: "El splitter 1:32 tiene una p√©rdida de 17 dB", answer: true, explanation: "Correcto. 1:64 tiene ~20 dB de p√©rdida." },
            { category: "fibra", statement: "En GPON el tr√°fico downstream usa multicast real", answer: false, explanation: "Falso. Es broadcast, todas las ONTs reciben todo pero filtran/descifran solo sus datos." },
            { category: "fibra", statement: "La longitud de onda downstream en GPON es 1490 nm", answer: true, explanation: "Correcto. Upstream usa 1310 nm." },
            { category: "fibra", statement: "El alcance m√°ximo l√≥gico de GPON es 60 km", answer: true, explanation: "Correcto. Aunque f√≠sicamente se recomienda m√°ximo 20 km." },
            { category: "fibra", statement: "El splitter √≥ptico requiere alimentaci√≥n el√©ctrica", answer: false, explanation: "Falso. El splitter es PASIVO, no requiere energ√≠a." },
            { category: "fibra", statement: "GPON Clase B+ tiene power budget de 28 dB", answer: true, explanation: "Correcto. Clase C+ tiene 32 dB." },
            { category: "fibra", statement: "OMCI gestiona las ONT de forma remota desde la OLT", answer: true, explanation: "Correcto. ONT Management and Control Interface, ITU G.984.4." },
            { category: "fibra", statement: "El n√∫mero de serie de ONT tiene 4 bytes", answer: false, explanation: "Falso. Tiene 8 bytes (64 bits): 4 fabricante + 4 ONT." },
            { category: "fibra", statement: "XGS-PON es sim√©trico 10G/10G", answer: true, explanation: "Correcto. A diferencia de XG-PON que es asim√©trico 10G/2.5G." },
            { category: "fibra", statement: "El protocolo PLOAM se usa para ranging y activaci√≥n", answer: true, explanation: "Correcto. Physical Layer OAM." },
            { category: "fibra", statement: "En GPON upstream cada ONT transmite cuando quiere", answer: false, explanation: "Falso. Usa TDMA, la OLT asigna ventanas de tiempo a cada ONT." },
            { category: "fibra", statement: "GEM permite encapsular tr√°fico Ethernet y TDM", answer: true, explanation: "Correcto. GPON Encapsulation Method es multiservicio." },
            { category: "fibra", statement: "El conector m√°s usado en GPON es SC/APC", answer: true, explanation: "Correcto. El color verde indica APC (Angled Physical Contact)." },
            { category: "fibra", statement: "Un splitter 1:8 tiene p√©rdida aproximada de 10.5 dB", answer: true, explanation: "Correcto. Cada divisi√≥n por 2 agrega ~3.5 dB." },
            { category: "fibra", statement: "MDU se instala en la central telef√≥nica", answer: false, explanation: "Falso. MDU se instala en edificios para dar servicio a m√∫ltiples usuarios." },
            { category: "fibra", statement: "NG-PON2 usa TWDM para alcanzar 40 Gbps", answer: true, explanation: "Correcto. Time and Wavelength Division Multiplexing, 4 canales x 10G." },
            { category: "fibra", statement: "La atenuaci√≥n de fibra a 1310nm es menor que a 1550nm", answer: false, explanation: "Falso. 1310nm ~0.35 dB/km, 1550nm ~0.22 dB/km (menor)." },
            
            // ============ METRO ETHERNET (NUEVAS) ============
            { category: "ip", statement: "E-Line es un servicio Ethernet punto a punto", answer: true, explanation: "Correcto. Equivalente a una l√≠nea dedicada." },
            { category: "ip", statement: "E-LAN es un servicio multipunto a multipunto", answer: true, explanation: "Correcto. Todos los sitios pueden comunicarse entre s√≠." },
            { category: "ip", statement: "E-Tree es un servicio donde las hojas pueden comunicarse entre s√≠", answer: false, explanation: "Falso. En E-Tree las hojas solo se comunican con la ra√≠z, no entre ellas." },
            { category: "ip", statement: "MEF significa Metro Ethernet Forum", answer: true, explanation: "Correcto. Define est√°ndares para servicios Carrier Ethernet." },
            { category: "ip", statement: "CIR garantiza un ancho de banda m√≠nimo", answer: true, explanation: "Correcto. Committed Information Rate es la tasa garantizada." },
            { category: "ip", statement: "EIR es la tasa de informaci√≥n que siempre se entrega", answer: false, explanation: "Falso. EIR (Excess) es tr√°fico adicional que se entrega si hay capacidad disponible." },
            { category: "ip", statement: "Un EVC es un circuito virtual Ethernet", answer: true, explanation: "Correcto. Ethernet Virtual Connection, conexi√≥n entre UNIs." },
            { category: "ip", statement: "UNI es la interfaz entre cliente y proveedor", answer: true, explanation: "Correcto. User Network Interface." },
            { category: "ip", statement: "NNI conecta dos redes de diferentes proveedores", answer: true, explanation: "Correcto. Network to Network Interface." },
            { category: "ip", statement: "Carrier Ethernet requiere switches de capa 2 solamente", answer: false, explanation: "Falso. Puede involucrar equipos de capa 2 y 3, incluyendo MPLS." },
            
            // ============ IPv6 (NUEVAS) ============
            { category: "ip", statement: "IPv6 tiene direcciones de 128 bits", answer: true, explanation: "Correcto. Comparado con 32 bits de IPv4." },
            { category: "ip", statement: "Una direcci√≥n IPv6 link-local comienza con FE80::", answer: true, explanation: "Correcto. V√°lida solo en el enlace local." },
            { category: "ip", statement: "IPv6 usa ARP para resolver direcciones", answer: false, explanation: "Falso. IPv6 usa NDP (Neighbor Discovery Protocol) con ICMPv6." },
            { category: "ip", statement: "La cabecera IPv6 es m√°s simple que la de IPv4", answer: true, explanation: "Correcto. Tiene menos campos, extensiones van en headers opcionales." },
            { category: "ip", statement: "IPv6 Global Unicast comienza con 2000::/3", answer: true, explanation: "Correcto. Direcciones p√∫blicas rutables globalmente." },
            { category: "ip", statement: "El campo TTL en IPv6 se llama Hop Limit", answer: true, explanation: "Correcto. Mismo prop√≥sito, diferente nombre." },
            { category: "ip", statement: "IPv6 requiere NAT para funcionar en Internet", answer: false, explanation: "Falso. IPv6 tiene suficientes direcciones, NAT no es necesario." },
            { category: "ip", statement: "Dual-stack permite ejecutar IPv4 e IPv6 simult√°neamente", answer: true, explanation: "Correcto. El dispositivo tiene ambos stacks de protocolo." },
            { category: "ip", statement: "El prefijo /64 es est√°ndar para subredes IPv6", answer: true, explanation: "Correcto. 64 bits red + 64 bits interfaz." },
            { category: "ip", statement: "ICMPv6 es opcional en IPv6", answer: false, explanation: "Falso. ICMPv6 es obligatorio, necesario para NDP y funciones b√°sicas." },
            
            // ============ SEGURIDAD AVANZADA (NUEVAS) ============
            { category: "ip", statement: "802.1X proporciona autenticaci√≥n de acceso a puertos", answer: true, explanation: "Correcto. Port-based Network Access Control." },
            { category: "ip", statement: "RADIUS es un protocolo de autenticaci√≥n centralizada", answer: true, explanation: "Correcto. Remote Authentication Dial-In User Service." },
            { category: "ip", statement: "Una ACL est√°ndar filtra solo por IP origen", answer: true, explanation: "Correcto. ACL extendida filtra por origen, destino, puerto, protocolo." },
            { category: "ip", statement: "MACsec encripta tr√°fico en capa 2", answer: true, explanation: "Correcto. IEEE 802.1AE, seguridad a nivel de enlace." },
            { category: "ip", statement: "Port Security limita MACs permitidas en un puerto", answer: true, explanation: "Correcto. Previene MAC flooding attacks." },
            { category: "ip", statement: "DHCP Snooping previene servidores DHCP no autorizados", answer: true, explanation: "Correcto. Filtra mensajes DHCP maliciosos." },
            { category: "ip", statement: "Dynamic ARP Inspection previene ARP spoofing", answer: true, explanation: "Correcto. Valida paquetes ARP contra tabla DHCP Snooping." },
            { category: "ip", statement: "Un IPS solo detecta pero no bloquea ataques", answer: false, explanation: "Falso. IPS (Intrusion Prevention) bloquea. IDS solo detecta." },
            { category: "ip", statement: "VPN SSL opera t√≠picamente en puerto 443", answer: true, explanation: "Correcto. Usa HTTPS, f√°cil de pasar firewalls." },
            
            // ============ SNMP Y GESTI√ìN (NUEVAS) ============
            { category: "bert", statement: "SNMP significa Simple Network Management Protocol", answer: true, explanation: "Correcto. Protocolo para gesti√≥n de dispositivos de red." },
            { category: "bert", statement: "Un OID identifica una variable en la MIB", answer: true, explanation: "Correcto. Object Identifier, estructura jer√°rquica tipo √°rbol." },
            { category: "bert", statement: "Las traps SNMP son enviadas del manager al agente", answer: false, explanation: "Falso. Las traps van del agente al manager (notificaciones as√≠ncronas)." },
            { category: "bert", statement: "SNMPv1 y v2c usan community strings en texto plano", answer: true, explanation: "Correcto. Por eso SNMPv3 es recomendado para seguridad." },
            { category: "bert", statement: "GET solicita informaci√≥n del agente SNMP", answer: true, explanation: "Correcto. GET, GET-NEXT, GET-BULK para consultar." },
            { category: "bert", statement: "SET modifica configuraci√≥n en el agente SNMP", answer: true, explanation: "Correcto. Permite escritura de variables." },
            { category: "bert", statement: "La MIB es la base de datos de objetos gestionables", answer: true, explanation: "Correcto. Management Information Base." },
            { category: "bert", statement: "Syslog usa puerto UDP 514 por defecto", answer: true, explanation: "Correcto. Para env√≠o de mensajes de log." },
            { category: "bert", statement: "SNMP usa puerto UDP 161 para consultas", answer: true, explanation: "Correcto. Puerto 162 para traps." },
            { category: "bert", statement: "NetFlow captura cabeceras de flujos de tr√°fico", answer: true, explanation: "Correcto. Para an√°lisis y facturaci√≥n, desarrollado por Cisco." }
        ];
        
        // ============ EXAMEN COMPLETO 20 PREGUNTAS CON EJEMPLOS ============
        const examQuestionsDB = [
            // RADIO Y PROPAGACI√ìN
            { 
                q: "Un radioenlace opera a 18 GHz. ¬øCu√°l es su longitud de onda aproximada?",
                ejemplo: "Usando Œª = 30/f donde f est√° en GHz",
                o: ["0.6 cm", "1.67 cm", "3 cm", "5 cm"], 
                a: 1, 
                e: "Œª = 30/18 = 1.67 cm. A mayor frecuencia, menor longitud de onda."
            },
            { 
                q: "Tienes un enlace de 10 km a 15 GHz. Para calcular la zona de Fresnel en el punto medio, ¬øqu√© valor usar√≠as para d‚ÇÅ y d‚ÇÇ?",
                ejemplo: "El punto medio divide el enlace en dos partes iguales",
                o: ["d‚ÇÅ=10km, d‚ÇÇ=10km", "d‚ÇÅ=5km, d‚ÇÇ=5km", "d‚ÇÅ=7.5km, d‚ÇÇ=2.5km", "d‚ÇÅ=15km, d‚ÇÇ=15km"], 
                a: 1, 
                e: "En el punto medio: d‚ÇÅ = d‚ÇÇ = 5 km (mitad de la distancia total)"
            },
            { 
                q: "Un enlace tiene un obst√°culo que bloquea el 50% de la primera zona de Fresnel. ¬øEs aceptable?",
                ejemplo: "El despejamiento m√≠nimo requerido es 60%",
                o: ["S√≠, es suficiente", "No, se requiere 60% despejado", "Depende de la frecuencia", "Solo si llueve"], 
                a: 1, 
                e: "Se requiere m√≠nimo 60% de despejamiento. Con 50% bloqueado (50% libre), NO es aceptable."
            },
            { 
                q: "Est√°s dise√±ando un enlace a 23 GHz. ¬øQu√© tipo de atenuaci√≥n adicional debes considerar especialmente?",
                ejemplo: "El H‚ÇÇO tiene un pico de absorci√≥n a ~23 GHz",
                o: ["Solo lluvia", "Absorci√≥n por vapor de agua", "Absorci√≥n por ox√≠geno", "Ninguna adicional"], 
                a: 1, 
                e: "A 23 GHz hay un pico de absorci√≥n por vapor de agua (H‚ÇÇO)."
            },
            { 
                q: "Tienes dos RAUs disponibles: una con ACCP y otra con CCDP. ¬øCu√°l duplica la capacidad?",
                ejemplo: "CCDP usa ambas polarizaciones en el mismo canal",
                o: ["ACCP", "CCDP", "Ambas igual", "Ninguna duplica"], 
                a: 1, 
                e: "CCDP (Co-Channel Dual Polarized) usa V+H simult√°nea, duplicando capacidad. Requiere XPIC."
            },
            
            // TCP/IP Y REDES
            { 
                q: "Una empresa tiene la red 192.168.10.0/24. ¬øCu√°ntos hosts puede conectar?",
                ejemplo: "F√≥rmula: Hosts = 2^n - 2, donde n = bits de host",
                o: ["252", "254", "256", "510"], 
                a: 1, 
                e: "/24 = 8 bits de host ‚Üí 2^8 - 2 = 254 hosts (se resta red y broadcast)"
            },
            { 
                q: "Un switch recibe una trama con destino MAC desconocido. ¬øQu√© hace?",
                ejemplo: "El switch opera en capa 2 usando direcciones MAC",
                o: ["La descarta", "La env√≠a al router", "Flooding a todos los puertos", "La almacena"], 
                a: 2, 
                e: "Si no conoce la MAC destino, hace flooding (env√≠a por todos los puertos excepto el origen)."
            },
            { 
                q: "Un host quiere comunicarse con 10.0.0.50 pero solo conoce la IP, no la MAC. ¬øQu√© protocolo usa?",
                ejemplo: "Necesita resolver IP ‚Üí MAC",
                o: ["DNS", "DHCP", "ARP", "ICMP"], 
                a: 2, 
                e: "ARP (Address Resolution Protocol) convierte IP a MAC mediante broadcast."
            },
            { 
                q: "Tu red usa OSPF y ocurre un fallo. ¬øEn cu√°nto tiempo aproximadamente converge?",
                ejemplo: "OSPF es m√°s r√°pido que RIP",
                o: ["30 segundos", "1 minuto", "4-5 segundos", "3 minutos"], 
                a: 2, 
                e: "OSPF converge en 4-5 segundos. RIP puede tardar hasta 180 segundos."
            },
            { 
                q: "Necesitas direccionar una red con 1000 hosts. ¬øQu√© m√°scara m√≠nima necesitas?",
                ejemplo: "Busca n donde 2^n - 2 ‚â• 1000",
                o: ["/22 (1022 hosts)", "/23 (510 hosts)", "/21 (2046 hosts)", "/24 (254 hosts)"], 
                a: 0, 
                e: "/22 = 10 bits host ‚Üí 2^10 - 2 = 1022 hosts. /23 solo da 510, insuficiente."
            },
            
            // FIBRA Y TRANSCEPTORES
            { 
                q: "Tienes un SFP LR de 10G con Tx=-3dBm y Rx sens=-18dBm. ¬øCu√°l es el Power Budget?",
                ejemplo: "PB = Tx m√≠n - Rx sensibilidad",
                o: ["15 dB", "21 dB", "18 dB", "3 dB"], 
                a: 0, 
                e: "PB = -3 - (-18) = -3 + 18 = 15 dB disponibles para p√©rdidas."
            },
            { 
                q: "Un enlace de fibra SM tiene 20 km con 5 empalmes y 4 conectores. ¬øCu√°l es la p√©rdida total aproximada?",
                ejemplo: "SM@1550nm: 0.22dB/km, empalme: 0.1dB, conector: 0.75dB",
                o: ["4.4 dB", "7.9 dB", "5.5 dB", "10 dB"], 
                a: 1, 
                e: "20km√ó0.22 + 5√ó0.1 + 4√ó0.75 = 4.4 + 0.5 + 3.0 = 7.9 dB"
            },
            { 
                q: "Debes conectar dos edificios a 35 km. ¬øQu√© tipo de transceiver necesitas m√≠nimo?",
                ejemplo: "SR~300m, LR~10km, ER~40km, ZR~80km+",
                o: ["SR", "LR", "ER", "Cualquiera"], 
                a: 2, 
                e: "ER (Extended Reach) alcanza ~40 km. LR solo llega a 10 km."
            },
            { 
                q: "¬øPor qu√© a 1310nm la atenuaci√≥n es mayor (0.35 dB/km) que a 1550nm (0.22 dB/km)?",
                ejemplo: "La ventana de 1550nm es la tercera ventana √≥ptica",
                o: ["M√°s dispersi√≥n", "Absorci√≥n del material", "Error de medici√≥n", "Es igual"], 
                a: 1, 
                e: "A 1310nm hay mayor absorci√≥n del s√≠lice. 1550nm es la ventana de m√≠nima atenuaci√≥n."
            },
            { 
                q: "Calculaste un Power Budget de 12 dB para un enlace con p√©rdidas de 10 dB. ¬øTienes margen suficiente?",
                ejemplo: "Margen recomendado: 1.7 a 3 dB",
                o: ["S√≠, sobra 2 dB", "No, necesitas m√°s", "Justo en el l√≠mite", "Depende del clima"], 
                a: 0, 
                e: "12 - 10 = 2 dB de margen. Est√° dentro del rango recomendado (1.7-3 dB). ‚úì"
            },
            
            // BERT Y TESTING
            { 
                q: "Un test BERT de 10 minutos a 1 Gbps detect√≥ 5 bits err√≥neos. ¬øCu√°l es el BER aproximado?",
                ejemplo: "BER = errores / bits totales. 1Gbps √ó 600s = 600 Gbits",
                o: ["8.3√ó10‚Åª¬π¬≤", "5√ó10‚Åª‚Åπ", "8.3√ó10‚Åª‚Åπ", "5√ó10‚Åª¬π¬≤"], 
                a: 0, 
                e: "Bits = 10‚Åπ √ó 600 = 6√ó10¬π¬π. BER = 5/(6√ó10¬π¬π) ‚âà 8.3√ó10‚Åª¬π¬≤"
            },
            { 
                q: "El BER obtenido fue 10‚Åª‚Å∏. ¬øCumple el est√°ndar de telecomunicaciones?",
                ejemplo: "BER est√°ndar: 10‚Åª‚Åπ, BER cr√≠tico: 10‚Åª¬π¬≥",
                o: ["S√≠, es excelente", "No, debe ser ‚â§10‚Åª‚Åπ", "Solo para voz", "Depende del cliente"], 
                a: 1, 
                e: "10‚Åª‚Å∏ > 10‚Åª‚Åπ, por lo tanto NO cumple. Se necesita BER ‚â§ 10‚Åª‚Åπ."
            },
            { 
                q: "Un cliente de VoIP se queja de cortes en la voz. ¬øQu√© par√°metro probablemente est√° fuera de rango?",
                ejemplo: "VoIP es sensible a variaciones en el tiempo de llegada",
                o: ["Throughput", "Latencia", "Jitter", "Frame size"], 
                a: 2, 
                e: "El jitter (variaci√≥n de latencia) afecta especialmente a voz y video en tiempo real."
            },
            
            // C√ÅLCULOS AVANZADOS
            { 
                q: "Un transmisor de 27 dBm con antena de 35 dBi y 2 dB de p√©rdidas. ¬øCu√°l es el EIRP?",
                ejemplo: "EIRP = PTx + Ganancia - P√©rdidas",
                o: ["60 dBm", "62 dBm", "64 dBm", "58 dBm"], 
                a: 0, 
                e: "EIRP = 27 + 35 - 2 = 60 dBm"
            },
            { 
                q: "Usando la atm√≥sfera est√°ndar (k=4/3), ¬øcu√°l es el radio efectivo de la Tierra para c√°lculos de propagaci√≥n?",
                ejemplo: "Radio real ‚âà 6,371 km",
                o: ["6,371 km", "8,500 km", "10,000 km", "4,777 km"], 
                a: 1, 
                e: "Radio efectivo = 6,371 √ó 4/3 ‚âà 8,500 km. Esto 'aplana' la curvatura para los c√°lculos."
            }
        ];
        
        // Variables del examen
        let examQuestions = [], examIndex = 0, examCorrect = 0, examIncorrect = 0, examAnswers = [];
        
        // ============ VARIABLES DE ESTADO ============
        let fcCards = [], fcIndex = 0, fcCorrect = 0, fcIncorrect = 0, fcFlipped = false;
        let testQuestions = [], testIndex = 0, testCorrect = 0, testIncorrect = 0;
        let exList = [], exIndex = 0, exCorrect = 0, exIncorrect = 0;
        let vofList = [], vofIndex = 0, vofCorrect = 0, vofIncorrect = 0, vofAnswered = false, vofAnswers = [];
        let currentVofCategory = 'all';
        
        // ============ BASE DE DATOS DE CONCEPTOS ============
        const conceptosDB = {
            radio: [
                {
                    titulo: "üì° Introducci√≥n a Radioenlaces",
                    contenido: `
                        <p>Los <strong>radioenlaces de microondas</strong> son sistemas de comunicaci√≥n punto a punto que utilizan ondas electromagn√©ticas para transmitir informaci√≥n entre dos ubicaciones.</p>
                        
                        <div class="highlight">
                            <strong>Caracter√≠sticas principales:</strong>
                            <ul>
                                <li>Frecuencias t√≠picas: 6 GHz a 80 GHz</li>
                                <li>Requieren l√≠nea de vista (LOS - Line of Sight)</li>
                                <li>Alcance t√≠pico: 5-50 km seg√∫n frecuencia y condiciones</li>
                                <li>Capacidad: desde 10 Mbps hasta varios Gbps</li>
                            </ul>
                        </div>
                        
                        <p>Los radioenlaces son fundamentales para:</p>
                        <ul>
                            <li>Backhaul de redes m√≥viles (3G, 4G, 5G)</li>
                            <li>Conexi√≥n de sitios remotos</li>
                            <li>Redes corporativas</li>
                            <li>Redundancia de enlaces de fibra</li>
                        </ul>
                    `
                },
                {
                    titulo: "üìä Modulaciones y Capacidad",
                    contenido: `
                        <p>La <strong>modulaci√≥n</strong> determina cu√°ntos bits se transmiten por s√≠mbolo. A mayor orden de modulaci√≥n, mayor capacidad pero menor robustez.</p>
                        
                        <table>
                            <tr><th>Modulaci√≥n</th><th>Bits/S√≠mbolo</th><th>Uso T√≠pico</th></tr>
                            <tr><td>QPSK</td><td>2</td><td>Condiciones adversas</td></tr>
                            <tr><td>16-QAM</td><td>4</td><td>Lluvia moderada</td></tr>
                            <tr><td>64-QAM</td><td>6</td><td>Condiciones normales</td></tr>
                            <tr><td>256-QAM</td><td>8</td><td>Buen tiempo</td></tr>
                            <tr><td>1024-QAM</td><td>10</td><td>Condiciones √≥ptimas</td></tr>
                            <tr><td>4096-QAM</td><td>12</td><td>Excelentes condiciones</td></tr>
                        </table>
                        
                        <div class="warning-box">
                            <strong>‚ö†Ô∏è Importante:</strong> La modulaci√≥n adaptativa (ACM) permite cambiar din√°micamente la modulaci√≥n seg√∫n las condiciones del enlace.
                        </div>
                    `
                },
                {
                    titulo: "üéöÔ∏è Configuraciones de Canal",
                    contenido: `
                        <p>Existen diferentes configuraciones para aumentar la capacidad:</p>
                        
                        <div class="highlight">
                            <strong>ACAP (Adjacent Channel Alternate Polarization):</strong>
                            <ul>
                                <li>Canales adyacentes con polarizaciones alternas</li>
                                <li>Reduce interferencia entre canales cercanos</li>
                            </ul>
                        </div>
                        
                        <div class="highlight">
                            <strong>CCDP (Co-Channel Dual Polarization):</strong>
                            <ul>
                                <li>Mismo canal, ambas polarizaciones (H y V)</li>
                                <li>Duplica la capacidad del canal</li>
                                <li>Requiere XPIC (Cross-Polar Interference Canceller)</li>
                            </ul>
                        </div>
                        
                        <div class="example-box">
                            <strong>Ejemplo:</strong> Un canal de 56 MHz con 1024-QAM en CCDP puede alcanzar ~1.6 Gbps de capacidad.
                        </div>
                    `
                },
                {
                    titulo: "üìª Equipos Ericsson Minilink",
                    contenido: `
                        <p>La familia <strong>Minilink</strong> de Ericsson incluye diferentes unidades:</p>
                        
                        <table>
                            <tr><th>Unidad</th><th>Funci√≥n</th><th>Caracter√≠sticas</th></tr>
                            <tr><td>RAU2 (6352)</td><td>Radio Unit</td><td>6-42 GHz, hasta 2048-QAM</td></tr>
                            <tr><td>MMU2 (MMU4A)</td><td>Modem Unit</td><td>Procesamiento banda base, hasta 4096-QAM</td></tr>
                            <tr><td>NPU3 (NPU4)</td><td>Network Unit</td><td>Switching, agregaci√≥n, gesti√≥n</td></tr>
                            <tr><td>OD2</td><td>Outdoor Unit</td><td>Split-mount completo</td></tr>
                        </table>
                        
                        <p><strong>Anchos de banda soportados:</strong> 7, 14, 28, 40, 56, 80, 112 MHz</p>
                    `
                }
            ],
            propagacion: [
                {
                    titulo: "üåç Factor K y Radio Efectivo",
                    contenido: `
                        <p>El <strong>factor k</strong> representa la relaci√≥n entre el radio efectivo de la Tierra y su radio real, debido a la refracci√≥n atmosf√©rica.</p>
                        
                        <div class="formula-box">
                            k = Radio efectivo / Radio real ‚âà 4/3 = 1.33 (atm√≥sfera est√°ndar)
                        </div>
                        
                        <table>
                            <tr><th>Valor de k</th><th>Condici√≥n</th><th>Efecto</th></tr>
                            <tr><td>k > 1</td><td>Normal</td><td>Rayo se curva hacia abajo</td></tr>
                            <tr><td>k = 1</td><td>Sin refracci√≥n</td><td>Rayo recto</td></tr>
                            <tr><td>k < 1</td><td>Subrefractive</td><td>Rayo se curva hacia arriba</td></tr>
                            <tr><td>k = ‚àû</td><td>Ducting</td><td>Propagaci√≥n guiada</td></tr>
                        </table>
                        
                        <div class="warning-box">
                            <strong>‚ö†Ô∏è Dise√±o:</strong> Para peor caso se usa k = 2/3, lo que aumenta el despejamiento requerido.
                        </div>
                    `
                },
                {
                    titulo: "üîò Zona de Fresnel",
                    contenido: `
                        <p>La <strong>primera zona de Fresnel</strong> es un elipsoide imaginario alrededor de la l√≠nea de vista donde la energ√≠a se concentra.</p>
                        
                        <div class="formula-box">
                            r‚ÇÅ = 17.3 √ó ‚àö(d‚ÇÅ √ó d‚ÇÇ / (f √ó d))<br>
                            <small>d‚ÇÅ, d‚ÇÇ, d en km; f en GHz; r‚ÇÅ en metros</small>
                        </div>
                        
                        <div class="highlight">
                            <strong>Criterio de despejamiento:</strong>
                            <ul>
                                <li><strong>60% m√≠nimo</strong> - Enlace aceptable</li>
                                <li><strong>100%</strong> - Enlace ideal (espacio libre)</li>
                                <li><strong>< 40%</strong> - P√©rdidas significativas por difracci√≥n</li>
                            </ul>
                        </div>
                        
                        <div class="example-box">
                            <strong>Ejemplo:</strong> Enlace de 10 km a 18 GHz:<br>
                            r‚ÇÅ = 17.3 √ó ‚àö(5 √ó 5 / (18 √ó 10)) = 17.3 √ó ‚àö(1.39) = 20.4 metros<br>
                            Despejamiento 60% = 12.2 metros sobre obst√°culos.
                        </div>
                    `
                },
                {
                    titulo: "üåßÔ∏è Atenuaci√≥n por Lluvia",
                    contenido: `
                        <p>La lluvia es el factor dominante de atenuaci√≥n para frecuencias <strong>superiores a 10 GHz</strong>.</p>
                        
                        <table>
                            <tr><th>Frecuencia</th><th>Atenuaci√≥n (dB/km) - 25 mm/h</th></tr>
                            <tr><td>10 GHz</td><td>~1 dB/km</td></tr>
                            <tr><td>18 GHz</td><td>~4 dB/km</td></tr>
                            <tr><td>23 GHz</td><td>~6 dB/km</td></tr>
                            <tr><td>38 GHz</td><td>~10 dB/km</td></tr>
                            <tr><td>80 GHz</td><td>~15 dB/km</td></tr>
                        </table>
                        
                        <div class="highlight">
                            <strong>Zonas clim√°ticas ITU-R P.837:</strong>
                            <ul>
                                <li>Zona A-C: Clima seco (poca lluvia)</li>
                                <li>Zona E-K: Clima templado</li>
                                <li>Zona M-Q: Clima tropical (mucha lluvia)</li>
                            </ul>
                        </div>
                    `
                },
                {
                    titulo: "üìè P√©rdida en Espacio Libre (FSL)",
                    contenido: `
                        <p>La <strong>p√©rdida en espacio libre</strong> es la atenuaci√≥n natural de la se√±al con la distancia.</p>
                        
                        <div class="formula-box">
                            FSL (dB) = 92.4 + 20√ólog‚ÇÅ‚ÇÄ(f) + 20√ólog‚ÇÅ‚ÇÄ(d)<br>
                            <small>f en GHz, d en km</small>
                        </div>
                        
                        <div class="example-box">
                            <strong>Ejemplo:</strong> Enlace de 15 km a 18 GHz:<br>
                            FSL = 92.4 + 20√ólog(18) + 20√ólog(15)<br>
                            FSL = 92.4 + 25.1 + 23.5 = <strong>141 dB</strong>
                        </div>
                        
                        <div class="warning-box">
                            <strong>‚ö†Ô∏è Nota:</strong> La FSL aumenta 6 dB cada vez que se duplica la distancia o la frecuencia.
                        </div>
                    `
                }
            ],
            redes: [
                {
                    titulo: "üìö Modelo OSI vs TCP/IP",
                    contenido: `
                        <p>Los modelos de referencia definen c√≥mo se organizan las comunicaciones en capas.</p>
                        
                        <table>
                            <tr><th>Capa OSI</th><th>#</th><th>TCP/IP</th><th>Funci√≥n</th></tr>
                            <tr><td>Aplicaci√≥n</td><td>7</td><td rowspan="3">Aplicaci√≥n</td><td>HTTP, FTP, DNS</td></tr>
                            <tr><td>Presentaci√≥n</td><td>6</td><td>Cifrado, compresi√≥n</td></tr>
                            <tr><td>Sesi√≥n</td><td>5</td><td>Control de di√°logo</td></tr>
                            <tr><td>Transporte</td><td>4</td><td>Transporte</td><td>TCP, UDP</td></tr>
                            <tr><td>Red</td><td>3</td><td>Internet</td><td>IP, ICMP, enrutamiento</td></tr>
                            <tr><td>Enlace</td><td>2</td><td rowspan="2">Acceso a Red</td><td>Ethernet, MAC</td></tr>
                            <tr><td>F√≠sica</td><td>1</td><td>Cables, se√±ales</td></tr>
                        </table>
                    `
                },
                {
                    titulo: "üî¢ Direccionamiento IPv4",
                    contenido: `
                        <p>IPv4 usa direcciones de <strong>32 bits</strong> en formato decimal con puntos.</p>
                        
                        <div class="highlight">
                            <strong>Clases de direcciones (legacy):</strong>
                            <ul>
                                <li><strong>Clase A:</strong> 1.0.0.0 - 126.255.255.255 (/8)</li>
                                <li><strong>Clase B:</strong> 128.0.0.0 - 191.255.255.255 (/16)</li>
                                <li><strong>Clase C:</strong> 192.0.0.0 - 223.255.255.255 (/24)</li>
                            </ul>
                        </div>
                        
                        <div class="formula-box">
                            Hosts = 2‚Åø - 2<br>
                            <small>n = bits de host</small>
                        </div>
                        
                        <table>
                            <tr><th>CIDR</th><th>M√°scara</th><th>Hosts</th></tr>
                            <tr><td>/24</td><td>255.255.255.0</td><td>254</td></tr>
                            <tr><td>/25</td><td>255.255.255.128</td><td>126</td></tr>
                            <tr><td>/26</td><td>255.255.255.192</td><td>62</td></tr>
                            <tr><td>/27</td><td>255.255.255.224</td><td>30</td></tr>
                            <tr><td>/28</td><td>255.255.255.240</td><td>14</td></tr>
                            <tr><td>/30</td><td>255.255.255.252</td><td>2</td></tr>
                        </table>
                    `
                },
                {
                    titulo: "üåê Direccionamiento IPv6",
                    contenido: `
                        <p>IPv6 usa direcciones de <strong>128 bits</strong> en formato hexadecimal.</p>
                        
                        <div class="highlight">
                            <strong>Tipos de direcciones:</strong>
                            <ul>
                                <li><strong>::1</strong> - Loopback</li>
                                <li><strong>::</strong> - No especificada</li>
                                <li><strong>FE80::/10</strong> - Link-local (no ruteable)</li>
                                <li><strong>2000::/3</strong> - Global Unicast (p√∫blicas)</li>
                                <li><strong>FC00::/7</strong> - Unique Local (privadas)</li>
                                <li><strong>FF00::/8</strong> - Multicast</li>
                            </ul>
                        </div>
                        
                        <div class="example-box">
                            <strong>Formato:</strong> 2001:0db8:85a3:0000:0000:8a2e:0370:7334<br>
                            <strong>Abreviado:</strong> 2001:db8:85a3::8a2e:370:7334
                        </div>
                        
                        <p><strong>Ventajas de IPv6:</strong></p>
                        <ul>
                            <li>2¬π¬≤‚Å∏ direcciones (340 undecillones)</li>
                            <li>Autoconfiguraci√≥n (SLAAC)</li>
                            <li>IPsec obligatorio</li>
                            <li>Sin NAT necesario</li>
                        </ul>
                    `
                },
                {
                    titulo: "üîÑ TCP vs UDP",
                    contenido: `
                        <p>Los dos protocolos de capa de transporte principales.</p>
                        
                        <table>
                            <tr><th>Caracter√≠stica</th><th>TCP</th><th>UDP</th></tr>
                            <tr><td>Conexi√≥n</td><td>Orientado (3-way handshake)</td><td>Sin conexi√≥n</td></tr>
                            <tr><td>Confiabilidad</td><td>ACKs, retransmisiones</td><td>Best-effort</td></tr>
                            <tr><td>Orden</td><td>Garantizado</td><td>No garantizado</td></tr>
                            <tr><td>Control flujo</td><td>S√≠ (ventana)</td><td>No</td></tr>
                            <tr><td>Overhead</td><td>20 bytes m√≠nimo</td><td>8 bytes</td></tr>
                            <tr><td>Velocidad</td><td>Menor</td><td>Mayor</td></tr>
                        </table>
                        
                        <div class="highlight">
                            <strong>Uso t√≠pico:</strong>
                            <ul>
                                <li><strong>TCP:</strong> HTTP, HTTPS, FTP, SSH, correo</li>
                                <li><strong>UDP:</strong> VoIP, video streaming, DNS, SNMP</li>
                            </ul>
                        </div>
                    `
                }
            ],
            ethernet: [
                {
                    titulo: "üîå Fundamentos de Ethernet",
                    contenido: `
                        <p><strong>Ethernet</strong> es el est√°ndar dominante para redes de √°rea local (LAN).</p>
                        
                        <div class="highlight">
                            <strong>Caracter√≠sticas clave:</strong>
                            <ul>
                                <li>Est√°ndar IEEE 802.3</li>
                                <li>Direcciones MAC de 48 bits</li>
                                <li>Tama√±o de trama: 64-1518 bytes (MTU 1500)</li>
                                <li>Half-duplex (CSMA/CD) o Full-duplex</li>
                            </ul>
                        </div>
                        
                        <table>
                            <tr><th>Velocidad</th><th>Nombre</th><th>Est√°ndar</th></tr>
                            <tr><td>10 Mbps</td><td>Ethernet</td><td>802.3</td></tr>
                            <tr><td>100 Mbps</td><td>Fast Ethernet</td><td>802.3u</td></tr>
                            <tr><td>1 Gbps</td><td>Gigabit Ethernet</td><td>802.3ab/802.3z</td></tr>
                            <tr><td>10 Gbps</td><td>10 Gigabit Ethernet</td><td>802.3ae</td></tr>
                            <tr><td>25 Gbps</td><td>25 Gigabit Ethernet</td><td>802.3by</td></tr>
                            <tr><td>40 Gbps</td><td>40 Gigabit Ethernet</td><td>802.3ba</td></tr>
                            <tr><td>100 Gbps</td><td>100 Gigabit Ethernet</td><td>802.3ba</td></tr>
                        </table>
                    `
                },
                {
                    titulo: "üè¢ Metro Ethernet y Servicios MEF",
                    contenido: `
                        <p><strong>Metro Ethernet Forum (MEF)</strong> define servicios Carrier Ethernet estandarizados.</p>
                        
                        <div class="highlight">
                            <strong>Tipos de servicios:</strong>
                            <ul>
                                <li><strong>E-Line:</strong> Punto a punto (como l√≠nea dedicada)</li>
                                <li><strong>E-LAN:</strong> Multipunto a multipunto (como LAN extendida)</li>
                                <li><strong>E-Tree:</strong> Punto a multipunto (hub-and-spoke)</li>
                            </ul>
                        </div>
                        
                        <table>
                            <tr><th>Par√°metro</th><th>Descripci√≥n</th></tr>
                            <tr><td>CIR</td><td>Committed Information Rate - BW garantizado</td></tr>
                            <tr><td>EIR</td><td>Excess Information Rate - BW extra permitido</td></tr>
                            <tr><td>CBS</td><td>Committed Burst Size - R√°faga garantizada</td></tr>
                            <tr><td>EBS</td><td>Excess Burst Size - R√°faga extra</td></tr>
                        </table>
                        
                        <div class="example-box">
                            <strong>Ejemplo:</strong> Servicio E-Line con CIR=100 Mbps, EIR=50 Mbps significa que tienes 100 Mbps garantizados y puedes usar hasta 150 Mbps si hay capacidad disponible.
                        </div>
                    `
                },
                {
                    titulo: "üè∑Ô∏è VLANs y 802.1Q",
                    contenido: `
                        <p>Las <strong>VLANs</strong> segmentan una red f√≠sica en m√∫ltiples redes l√≥gicas.</p>
                        
                        <div class="formula-box">
                            Trama 802.1Q = Trama Ethernet + 4 bytes de tag VLAN
                        </div>
                        
                        <div class="highlight">
                            <strong>Campos del tag VLAN:</strong>
                            <ul>
                                <li><strong>TPID:</strong> 0x8100 (identificador de protocolo)</li>
                                <li><strong>PCP:</strong> 3 bits de prioridad (0-7)</li>
                                <li><strong>DEI:</strong> 1 bit de elegibilidad de descarte</li>
                                <li><strong>VID:</strong> 12 bits de ID (1-4094)</li>
                            </ul>
                        </div>
                        
                        <p><strong>Tipos de puertos:</strong></p>
                        <ul>
                            <li><strong>Access:</strong> Pertenece a una VLAN, sin tag</li>
                            <li><strong>Trunk:</strong> Transporta m√∫ltiples VLANs, con tag</li>
                            <li><strong>Native VLAN:</strong> VLAN sin tag en trunk</li>
                        </ul>
                    `
                },
                {
                    titulo: "üåâ Spanning Tree Protocol (STP)",
                    contenido: `
                        <p><strong>STP (802.1D)</strong> previene loops en redes con redundancia.</p>
                        
                        <div class="highlight">
                            <strong>Proceso de convergencia:</strong>
                            <ol>
                                <li>Elecci√≥n de Root Bridge (menor Bridge ID)</li>
                                <li>Selecci√≥n de Root Ports (mejor camino al root)</li>
                                <li>Selecci√≥n de Designated Ports</li>
                                <li>Bloqueo de puertos restantes</li>
                            </ol>
                        </div>
                        
                        <table>
                            <tr><th>Variante</th><th>Convergencia</th><th>Est√°ndar</th></tr>
                            <tr><td>STP</td><td>30-50 seg</td><td>802.1D</td></tr>
                            <tr><td>RSTP</td><td>1-2 seg</td><td>802.1w</td></tr>
                            <tr><td>MSTP</td><td>1-2 seg</td><td>802.1s</td></tr>
                        </table>
                        
                        <div class="warning-box">
                            <strong>‚ö†Ô∏è BPDU Guard:</strong> Protege puertos de acceso. Si recibe BPDU, desactiva el puerto para prevenir ataques.
                        </div>
                    `
                }
            ],
            fibra: [
                {
                    titulo: "üí° Principios de Fibra √ìptica",
                    contenido: `
                        <p>La fibra √≥ptica transmite informaci√≥n mediante <strong>pulsos de luz</strong> que viajan por reflexi√≥n interna total.</p>
                        
                        <div class="highlight">
                            <strong>Componentes de la fibra:</strong>
                            <ul>
                                <li><strong>N√∫cleo (core):</strong> Por donde viaja la luz</li>
                                <li><strong>Revestimiento (cladding):</strong> Confina la luz</li>
                                <li><strong>Recubrimiento:</strong> Protecci√≥n mec√°nica</li>
                            </ul>
                        </div>
                        
                        <table>
                            <tr><th>Tipo</th><th>N√∫cleo</th><th>Color</th><th>Distancia</th></tr>
                            <tr><td>Monomodo (SM)</td><td>8-10 Œºm</td><td>Amarillo</td><td>Hasta 100+ km</td></tr>
                            <tr><td>Multimodo OM1</td><td>62.5 Œºm</td><td>Naranja</td><td>~300 m</td></tr>
                            <tr><td>Multimodo OM3</td><td>50 Œºm</td><td>Aqua</td><td>~300 m @10G</td></tr>
                            <tr><td>Multimodo OM4</td><td>50 Œºm</td><td>Aqua</td><td>~400 m @10G</td></tr>
                        </table>
                    `
                },
                {
                    titulo: "üìâ Atenuaci√≥n y P√©rdidas",
                    contenido: `
                        <p>La <strong>atenuaci√≥n</strong> es la p√©rdida de potencia √≥ptica a lo largo de la fibra.</p>
                        
                        <table>
                            <tr><th>Tipo de P√©rdida</th><th>Valor T√≠pico</th></tr>
                            <tr><td>Fibra SM @ 1310 nm</td><td>~0.35 dB/km</td></tr>
                            <tr><td>Fibra SM @ 1550 nm</td><td>~0.22 dB/km</td></tr>
                            <tr><td>Empalme de fusi√≥n</td><td>~0.1 dB</td></tr>
                            <tr><td>Empalme mec√°nico</td><td>~0.3 dB</td></tr>
                            <tr><td>Conector √≥ptico</td><td>~0.5-0.75 dB</td></tr>
                        </table>
                        
                        <div class="formula-box">
                            Power Budget = Tx (dBm) - Rx sensibilidad (dBm)
                        </div>
                        
                        <div class="example-box">
                            <strong>Ejemplo:</strong> Tx = -3 dBm, Rx = -28 dBm<br>
                            Power Budget = -3 - (-28) = <strong>25 dB disponibles</strong>
                        </div>
                    `
                },
                {
                    titulo: "üîß Transceptores √ìpticos",
                    contenido: `
                        <p>Los <strong>transceptores</strong> (transceivers) convierten se√±ales el√©ctricas en √≥pticas y viceversa.</p>
                        
                        <table>
                            <tr><th>Tipo</th><th>Velocidad</th><th>Uso</th></tr>
                            <tr><td>SFP</td><td>1 Gbps</td><td>Gigabit Ethernet</td></tr>
                            <tr><td>SFP+</td><td>10 Gbps</td><td>10G Ethernet</td></tr>
                            <tr><td>SFP28</td><td>25 Gbps</td><td>25G Ethernet</td></tr>
                            <tr><td>QSFP+</td><td>40 Gbps</td><td>40G (4x10G)</td></tr>
                            <tr><td>QSFP28</td><td>100 Gbps</td><td>100G (4x25G)</td></tr>
                            <tr><td>QSFP-DD</td><td>400 Gbps</td><td>400G (8x50G)</td></tr>
                        </table>
                        
                        <div class="highlight">
                            <strong>Alcances por tipo:</strong>
                            <ul>
                                <li><strong>SR:</strong> Short Range (~300m multimodo)</li>
                                <li><strong>LR:</strong> Long Range (~10 km)</li>
                                <li><strong>ER:</strong> Extended Range (~40 km)</li>
                                <li><strong>ZR:</strong> Very Long (~80+ km)</li>
                            </ul>
                        </div>
                    `
                }
            ],
            gpon: [
                {
                    titulo: "üè† Arquitectura GPON",
                    contenido: `
                        <p><strong>GPON (Gigabit Passive Optical Network)</strong> es una tecnolog√≠a de acceso de fibra hasta el hogar.</p>
                        
                        <div class="highlight">
                            <strong>Componentes principales:</strong>
                            <ul>
                                <li><strong>OLT:</strong> Optical Line Terminal (en la central)</li>
                                <li><strong>Splitter:</strong> Divisor pasivo (no requiere energ√≠a)</li>
                                <li><strong>ONT/ONU:</strong> Optical Network Terminal (en el cliente)</li>
                            </ul>
                        </div>
                        
                        <table>
                            <tr><th>Caracter√≠stica</th><th>GPON</th><th>XGS-PON</th></tr>
                            <tr><td>Downstream</td><td>2.488 Gbps</td><td>10 Gbps</td></tr>
                            <tr><td>Upstream</td><td>1.244 Gbps</td><td>10 Gbps</td></tr>
                            <tr><td>Split ratio</td><td>1:64 (t√≠pico 1:32)</td><td>1:128</td></tr>
                            <tr><td>Distancia m√°x</td><td>20 km (60 km clase C+)</td><td>20 km</td></tr>
                        </table>
                        
                        <div class="formula-box">
                            Œª Downstream: 1490 nm | Œª Upstream: 1310 nm | Œª Video RF: 1550 nm
                        </div>
                    `
                },
                {
                    titulo: "‚ûó P√©rdidas por Splitter",
                    contenido: `
                        <p>Los <strong>splitters</strong> dividen la se√±al √≥ptica en m√∫ltiples salidas, introduciendo p√©rdidas.</p>
                        
                        <table>
                            <tr><th>Ratio</th><th>P√©rdida Te√≥rica</th><th>P√©rdida Real</th></tr>
                            <tr><td>1:2</td><td>3.0 dB</td><td>~3.5 dB</td></tr>
                            <tr><td>1:4</td><td>6.0 dB</td><td>~7.0 dB</td></tr>
                            <tr><td>1:8</td><td>9.0 dB</td><td>~10.5 dB</td></tr>
                            <tr><td>1:16</td><td>12.0 dB</td><td>~14.0 dB</td></tr>
                            <tr><td>1:32</td><td>15.0 dB</td><td>~17.5 dB</td></tr>
                            <tr><td>1:64</td><td>18.0 dB</td><td>~21.0 dB</td></tr>
                        </table>
                        
                        <div class="formula-box">
                            P√©rdida te√≥rica = 10 √ó log‚ÇÅ‚ÇÄ(N)<br>
                            <small>donde N = n√∫mero de salidas</small>
                        </div>
                        
                        <div class="warning-box">
                            <strong>‚ö†Ô∏è Importante:</strong> Se suelen usar 2 niveles de splitting (ej: 1:4 + 1:8 = 1:32 total). La p√©rdida se suma.
                        </div>
                    `
                },
                {
                    titulo: "‚ö° Power Budget GPON",
                    contenido: `
                        <p>El <strong>Power Budget</strong> determina la distancia y cantidad de divisiones posibles.</p>
                        
                        <div class="highlight">
                            <strong>Clases de potencia GPON:</strong>
                            <ul>
                                <li><strong>Clase B:</strong> 25 dB</li>
                                <li><strong>Clase B+:</strong> 28 dB (m√°s com√∫n)</li>
                                <li><strong>Clase C:</strong> 30 dB</li>
                                <li><strong>Clase C+:</strong> 32 dB (larga distancia)</li>
                            </ul>
                        </div>
                        
                        <div class="example-box">
                            <strong>Ejemplo de c√°lculo:</strong><br>
                            Power Budget disponible: 28 dB (Clase B+)<br><br>
                            - Fibra 15 km @ 0.35 dB/km = 5.25 dB<br>
                            - Splitter 1:32 = 17.5 dB<br>
                            - 4 conectores @ 0.5 dB = 2.0 dB<br>
                            - 2 empalmes @ 0.1 dB = 0.2 dB<br>
                            - Margen = 3.0 dB<br><br>
                            <strong>Total: 27.95 dB ‚úÖ Viable</strong>
                        </div>
                    `
                }
            ],
            bert: [
                {
                    titulo: "üìä BERT - Bit Error Rate Testing",
                    contenido: `
                        <p><strong>BERT</strong> (Bit Error Rate Test) mide la tasa de errores en una transmisi√≥n digital.</p>
                        
                        <div class="formula-box">
                            BER = Bits con error / Bits totales transmitidos
                        </div>
                        
                        <table>
                            <tr><th>BER</th><th>Aplicaci√≥n</th><th>Calidad</th></tr>
                            <tr><td>10‚Åª‚Åπ</td><td>Telecomunicaciones est√°ndar</td><td>Aceptable</td></tr>
                            <tr><td>10‚Åª¬π‚Å∞</td><td>Redes carrier</td><td>Buena</td></tr>
                            <tr><td>10‚Åª¬π¬≤</td><td>Redes de alta calidad</td><td>Muy buena</td></tr>
                            <tr><td>10‚Åª¬π¬≥</td><td>Datos cr√≠ticos</td><td>Excelente</td></tr>
                        </table>
                        
                        <div class="highlight">
                            <strong>Patrones de prueba (PRBS):</strong>
                            <ul>
                                <li><strong>PRBS-7:</strong> 2‚Å∑-1 = 127 bits</li>
                                <li><strong>PRBS-15:</strong> 2¬π‚Åµ-1 = 32,767 bits</li>
                                <li><strong>PRBS-23:</strong> 2¬≤¬≥-1 = 8,388,607 bits</li>
                                <li><strong>PRBS-31:</strong> 2¬≥¬π-1 = 2,147,483,647 bits</li>
                            </ul>
                        </div>
                    `
                },
                {
                    titulo: "üìã RFC 2544 - Benchmarking Ethernet",
                    contenido: `
                        <p><strong>RFC 2544</strong> define pruebas est√°ndar para medir rendimiento de equipos de red.</p>
                        
                        <div class="highlight">
                            <strong>Pruebas definidas:</strong>
                            <ol>
                                <li><strong>Throughput:</strong> M√°xima tasa sin p√©rdida</li>
                                <li><strong>Latency:</strong> Tiempo de tr√°nsito</li>
                                <li><strong>Frame Loss:</strong> Porcentaje de p√©rdida</li>
                                <li><strong>Back-to-Back:</strong> Capacidad de r√°faga</li>
                                <li><strong>System Reset:</strong> Tiempo de recuperaci√≥n</li>
                            </ol>
                        </div>
                        
                        <table>
                            <tr><th>Tama√±o Trama</th><th>Uso</th></tr>
                            <tr><td>64 bytes</td><td>VoIP, paquetes peque√±os</td></tr>
                            <tr><td>128 bytes</td><td>Se√±alizaci√≥n</td></tr>
                            <tr><td>256 bytes</td><td>Control</td></tr>
                            <tr><td>512 bytes</td><td>Datos mixtos</td></tr>
                            <tr><td>1024 bytes</td><td>Streaming</td></tr>
                            <tr><td>1280 bytes</td><td>IPv6 m√≠nimo</td></tr>
                            <tr><td>1518 bytes</td><td>Datos grandes</td></tr>
                        </table>
                    `
                },
                {
                    titulo: "üéØ Criterios de Aceptaci√≥n",
                    contenido: `
                        <p>Criterios t√≠picos para validar enlaces Ethernet seg√∫n RFC 2544.</p>
                        
                        <table>
                            <tr><th>Par√°metro</th><th>Criterio</th></tr>
                            <tr><td>Throughput</td><td>‚â• 99% del rate te√≥rico</td></tr>
                            <tr><td>Latencia @ 1G</td><td>‚â§ 1 ms</td></tr>
                            <tr><td>Latencia @ 10G</td><td>‚â§ 300 Œºs</td></tr>
                            <tr><td>Latencia @ 100G</td><td>‚â§ 100 Œºs</td></tr>
                            <tr><td>Frame Loss</td><td>‚â§ 0.01%</td></tr>
                            <tr><td>Jitter</td><td>‚â§ 1 ms (VoIP)</td></tr>
                        </table>
                        
                        <div class="warning-box">
                            <strong>‚ö†Ô∏è ITU-T Y.1564:</strong> Est√°ndar m√°s moderno que reemplaza RFC 2544 para pruebas de m√∫ltiples servicios simult√°neos.
                        </div>
                    `
                },
                {
                    titulo: "‚è±Ô∏è Sincronizaci√≥n de Red",
                    contenido: `
                        <p>La sincronizaci√≥n es cr√≠tica para servicios de tiempo real.</p>
                        
                        <table>
                            <tr><th>Protocolo</th><th>Precisi√≥n</th><th>Uso</th></tr>
                            <tr><td>NTP</td><td>Milisegundos</td><td>IT general</td></tr>
                            <tr><td>PTP (IEEE 1588)</td><td>Microsegundos a nanosegundos</td><td>Telecom, 5G</td></tr>
                            <tr><td>SyncE</td><td>Frecuencia</td><td>Carrier Ethernet</td></tr>
                            <tr><td>GPS</td><td>Nanosegundos</td><td>Referencia primaria</td></tr>
                        </table>
                        
                        <div class="highlight">
                            <strong>Conceptos clave:</strong>
                            <ul>
                                <li><strong>Frecuencia:</strong> Velocidad del reloj</li>
                                <li><strong>Fase:</strong> Alineaci√≥n del reloj</li>
                                <li><strong>ToD:</strong> Time of Day (hora absoluta)</li>
                            </ul>
                        </div>
                    `
                }
            ],
            seguridad: [
                {
                    titulo: "üîê Control de Acceso - 802.1X",
                    contenido: `
                        <p><strong>802.1X</strong> proporciona autenticaci√≥n basada en puerto para redes.</p>
                        
                        <div class="highlight">
                            <strong>Componentes:</strong>
                            <ul>
                                <li><strong>Supplicant:</strong> Cliente que solicita acceso</li>
                                <li><strong>Authenticator:</strong> Switch o AP que controla acceso</li>
                                <li><strong>Authentication Server:</strong> RADIUS que valida credenciales</li>
                            </ul>
                        </div>
                        
                        <p><strong>M√©todos EAP comunes:</strong></p>
                        <ul>
                            <li><strong>EAP-TLS:</strong> Certificados (m√°s seguro)</li>
                            <li><strong>EAP-PEAP:</strong> Usuario/contrase√±a con t√∫nel TLS</li>
                            <li><strong>EAP-MD5:</strong> Solo usuario/contrase√±a (no recomendado)</li>
                        </ul>
                    `
                },
                {
                    titulo: "üõ°Ô∏è Protecciones de Capa 2",
                    contenido: `
                        <p>Mecanismos de seguridad para proteger la red a nivel de enlace.</p>
                        
                        <table>
                            <tr><th>Protecci√≥n</th><th>Funci√≥n</th><th>Ataque que previene</th></tr>
                            <tr><td>DHCP Snooping</td><td>Filtra DHCP no autorizado</td><td>Rogue DHCP</td></tr>
                            <tr><td>Dynamic ARP Inspection</td><td>Valida mensajes ARP</td><td>ARP Spoofing</td></tr>
                            <tr><td>IP Source Guard</td><td>Filtra IPs falsas</td><td>IP Spoofing</td></tr>
                            <tr><td>Port Security</td><td>Limita MACs por puerto</td><td>MAC Flooding</td></tr>
                            <tr><td>BPDU Guard</td><td>Protege STP</td><td>STP Attack</td></tr>
                            <tr><td>Root Guard</td><td>Previene nuevo root</td><td>Root Bridge Attack</td></tr>
                        </table>
                        
                        <div class="warning-box">
                            <strong>‚ö†Ô∏è Importante:</strong> DHCP Snooping debe estar activo para que DAI e IP Source Guard funcionen.
                        </div>
                    `
                },
                {
                    titulo: "üîí MACsec (802.1AE)",
                    contenido: `
                        <p><strong>MACsec</strong> proporciona cifrado y autenticaci√≥n a nivel de capa 2.</p>
                        
                        <div class="highlight">
                            <strong>Caracter√≠sticas:</strong>
                            <ul>
                                <li>Cifrado AES-GCM-128 o AES-GCM-256</li>
                                <li>Autenticaci√≥n de origen</li>
                                <li>Integridad de datos</li>
                                <li>Protecci√≥n anti-replay</li>
                            </ul>
                        </div>
                        
                        <p><strong>Componentes:</strong></p>
                        <ul>
                            <li><strong>SecY:</strong> Entidad de seguridad (por puerto)</li>
                            <li><strong>CAK:</strong> Connectivity Association Key</li>
                            <li><strong>SAK:</strong> Secure Association Key (derivada del CAK)</li>
                            <li><strong>MKA:</strong> MACsec Key Agreement (802.1X-2010)</li>
                        </ul>
                        
                        <div class="example-box">
                            <strong>Uso t√≠pico:</strong> Enlaces punto a punto cr√≠ticos, conexiones de data center, backhaul m√≥vil.
                        </div>
                    `
                },
                {
                    titulo: "üì° SNMP - Gesti√≥n de Red",
                    contenido: `
                        <p><strong>SNMP</strong> (Simple Network Management Protocol) permite monitorear y gestionar dispositivos de red.</p>
                        
                        <table>
                            <tr><th>Versi√≥n</th><th>Autenticaci√≥n</th><th>Cifrado</th><th>Uso</th></tr>
                            <tr><td>SNMPv1</td><td>Community string</td><td>No</td><td>Legacy</td></tr>
                            <tr><td>SNMPv2c</td><td>Community string</td><td>No</td><td>Com√∫n</td></tr>
                            <tr><td>SNMPv3</td><td>Usuario/contrase√±a</td><td>S√≠ (AES)</td><td>Recomendado</td></tr>
                        </table>
                        
                        <div class="highlight">
                            <strong>Operaciones SNMP:</strong>
                            <ul>
                                <li><strong>GET:</strong> Obtener valor de un OID</li>
                                <li><strong>SET:</strong> Modificar valor de un OID</li>
                                <li><strong>GETNEXT:</strong> Obtener siguiente OID</li>
                                <li><strong>GETBULK:</strong> Obtener m√∫ltiples OIDs</li>
                                <li><strong>TRAP:</strong> Notificaci√≥n as√≠ncrona del agente</li>
                            </ul>
                        </div>
                        
                        <p><strong>Puertos:</strong> UDP 161 (queries), UDP 162 (traps)</p>
                    `
                }
            ]
        };
        
        // ============ NAVEGACI√ìN ============
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            document.getElementById('section-' + sectionId).classList.add('active');
            document.querySelector(`[onclick="showSection('${sectionId}')"]`).classList.add('active');
            
            // Cerrar sidebar en m√≥vil
            if (window.innerWidth <= 992) {
                document.getElementById('sidebar').classList.remove('visible');
            }
        }
        
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('visible');
        }
        
        // ============ DESAF√çO R√ÅPIDO - JUEGO ============
        let desafioTimer = null;
        let desafioTimeLeft = 60;
        let desafioScore = 0;
        let desafioCombo = 1;
        let desafioMaxCombo = 1;
        let desafioCorrect = 0;
        let desafioIncorrect = 0;
        let desafioQuestions = [];
        let desafioCurrentQ = 0;
        let desafioRecord = parseInt(localStorage.getItem('desafioRecord') || '0');
        let desafioAnswered = false;
        
        function initDesafio() {
            document.getElementById('desafio-record').textContent = desafioRecord;
        }
        
        function showDesafioStart() {
            document.getElementById('desafio-start').style.display = 'block';
            document.getElementById('desafio-game').style.display = 'none';
            document.getElementById('desafio-results').style.display = 'none';
            document.getElementById('desafio-record').textContent = desafioRecord;
        }
        
        function startDesafio() {
            // Reset
            desafioTimeLeft = 60;
            desafioScore = 0;
            desafioCombo = 1;
            desafioMaxCombo = 1;
            desafioCorrect = 0;
            desafioIncorrect = 0;
            desafioCurrentQ = 0;
            desafioAnswered = false;
            
            // Preparar preguntas
            const category = document.getElementById('desafio-category').value;
            desafioQuestions = prepareDesafioQuestions(category);
            
            // Mostrar pantalla de juego
            document.getElementById('desafio-start').style.display = 'none';
            document.getElementById('desafio-game').style.display = 'block';
            document.getElementById('desafio-results').style.display = 'none';
            
            // Actualizar HUD
            updateDesafioHUD();
            
            // Mostrar primera pregunta
            showDesafioQuestion();
            
            // Iniciar timer
            desafioTimer = setInterval(updateDesafioTimer, 1000);
        }
        
        function prepareDesafioQuestions(category) {
            // Combinar preguntas de vofQuestionsDB (convertir a formato quiz)
            let questions = [];
            
            let vofFiltered = category === 'all' ? [...vofQuestionsDB] : 
                vofQuestionsDB.filter(q => q.category === category);
            
            // Convertir V/F a formato de opciones
            vofFiltered.forEach(q => {
                questions.push({
                    question: q.statement,
                    options: ['Verdadero', 'Falso'],
                    correct: q.answer ? 0 : 1,
                    explanation: q.explanation
                });
            });
            
            // Agregar preguntas de questionsDB si hay
            Object.values(questionsDB).forEach(topicQuestions => {
                topicQuestions.forEach(q => {
                    questions.push({
                        question: q.q,
                        options: q.o,
                        correct: q.a,
                        explanation: q.e
                    });
                });
            });
            
            shuffleArray(questions);
            return questions;
        }
        
        function showDesafioQuestion() {
            if (desafioCurrentQ >= desafioQuestions.length) {
                desafioCurrentQ = 0;
                shuffleArray(desafioQuestions);
            }
            
            const q = desafioQuestions[desafioCurrentQ];
            desafioAnswered = false;
            
            document.getElementById('desafio-question-num').textContent = 
                `Pregunta ${desafioCorrect + desafioIncorrect + 1}`;
            document.getElementById('desafio-question').textContent = q.question;
            document.getElementById('desafio-feedback').textContent = '';
            document.getElementById('desafio-feedback').className = 'desafio-feedback';
            
            const optionsContainer = document.getElementById('desafio-options');
            optionsContainer.innerHTML = q.options.map((opt, i) => `
                <button class="desafio-option" onclick="answerDesafio(${i})">${opt}</button>
            `).join('');
        }
        
        function answerDesafio(selected) {
            if (desafioAnswered || desafioTimeLeft <= 0) return;
            desafioAnswered = true;
            
            const q = desafioQuestions[desafioCurrentQ];
            const buttons = document.querySelectorAll('.desafio-option');
            const feedback = document.getElementById('desafio-feedback');
            
            buttons.forEach((btn, i) => {
                btn.style.pointerEvents = 'none';
                if (i === q.correct) btn.classList.add('correct');
                if (i === selected && selected !== q.correct) btn.classList.add('incorrect');
            });
            
            if (selected === q.correct) {
                // Correcto
                desafioCorrect++;
                const points = 10 * desafioCombo;
                desafioScore += points;
                desafioCombo++;
                if (desafioCombo > desafioMaxCombo) desafioMaxCombo = desafioCombo;
                
                feedback.textContent = `‚úÖ ¬°Correcto! +${points} pts`;
                feedback.className = 'desafio-feedback correct';
                
                // Mostrar combo popup si es mayor a 2
                if (desafioCombo > 2) {
                    showComboPopup(desafioCombo);
                }
            } else {
                // Incorrecto
                desafioIncorrect++;
                desafioCombo = 1;
                feedback.textContent = `‚ùå Incorrecto`;
                feedback.className = 'desafio-feedback incorrect';
            }
            
            updateDesafioHUD();
            desafioCurrentQ++;
            
            // Siguiente pregunta despu√©s de un breve delay
            setTimeout(() => {
                if (desafioTimeLeft > 0) {
                    showDesafioQuestion();
                }
            }, 800);
        }
        
        function updateDesafioTimer() {
            desafioTimeLeft--;
            document.getElementById('desafio-timer').textContent = desafioTimeLeft;
            
            const hudTime = document.querySelector('.hud-time');
            if (desafioTimeLeft <= 10) {
                hudTime.classList.add('warning');
            }
            
            if (desafioTimeLeft <= 0) {
                endDesafio();
            }
        }
        
        function updateDesafioHUD() {
            document.getElementById('desafio-score').textContent = desafioScore;
            document.getElementById('desafio-combo').textContent = `x${desafioCombo}`;
        }
        
        function showComboPopup(combo) {
            const popup = document.createElement('div');
            popup.className = 'combo-popup';
            popup.textContent = `üî• x${combo} COMBO!`;
            document.body.appendChild(popup);
            
            setTimeout(() => popup.remove(), 600);
        }
        
        function endDesafio() {
            clearInterval(desafioTimer);
            document.querySelector('.hud-time').classList.remove('warning');
            
            // Mostrar resultados
            document.getElementById('desafio-game').style.display = 'none';
            document.getElementById('desafio-results').style.display = 'block';
            
            // Determinar emoji y t√≠tulo seg√∫n puntuaci√≥n
            let emoji, title;
            if (desafioScore >= 500) {
                emoji = 'üèÜ';
                title = '¬°INCRE√çBLE!';
            } else if (desafioScore >= 300) {
                emoji = 'üéâ';
                title = '¬°Excelente!';
            } else if (desafioScore >= 150) {
                emoji = 'üëè';
                title = '¬°Muy bien!';
            } else if (desafioScore >= 50) {
                emoji = 'üí™';
                title = 'Buen intento';
            } else {
                emoji = 'üìö';
                title = 'Sigue practicando';
            }
            
            document.getElementById('results-emoji').textContent = emoji;
            document.getElementById('results-title').textContent = title;
            document.getElementById('final-score').textContent = desafioScore;
            document.getElementById('result-correct').textContent = desafioCorrect;
            document.getElementById('result-incorrect').textContent = desafioIncorrect;
            document.getElementById('result-max-combo').textContent = `x${desafioMaxCombo}`;
            
            // Verificar r√©cord
            if (desafioScore > desafioRecord) {
                desafioRecord = desafioScore;
                localStorage.setItem('desafioRecord', desafioRecord);
                document.getElementById('new-record').style.display = 'block';
            } else {
                document.getElementById('new-record').style.display = 'none';
            }
        }
        
        // ============ MEMORIA T√âCNICA ============
        const memoriaPairs = [
            { concept: "GPON", definition: "Gigabit Passive Optical Network" },
            { concept: "OLT", definition: "Optical Line Terminal (Central)" },
            { concept: "ONT", definition: "Optical Network Terminal (Cliente)" },
            { concept: "Splitter 1:32", definition: "~17.5 dB de p√©rdida" },
            { concept: "Œª Downstream", definition: "1490 nm" },
            { concept: "Œª Upstream", definition: "1310 nm" },
            { concept: "Factor k", definition: "4/3 en atm√≥sfera est√°ndar" },
            { concept: "Fresnel 60%", definition: "Despejamiento m√≠nimo" },
            { concept: "BER est√°ndar", definition: "10‚Åª‚Åπ" },
            { concept: "RFC 2544", definition: "Benchmarking Ethernet" },
            { concept: "E-Line", definition: "Punto a punto MEF" },
            { concept: "E-LAN", definition: "Multipunto a multipunto" },
            { concept: "XPIC", definition: "Cross-Polar Interference Canceller" },
            { concept: "CCDP", definition: "Co-Channel Dual Polarization" },
            { concept: "SFP", definition: "Small Form-Factor Pluggable" },
            { concept: "QSFP", definition: "Quad SFP (4 canales)" },
            { concept: "802.1X", definition: "Autenticaci√≥n por puerto" },
            { concept: "MACsec", definition: "Cifrado capa 2 (802.1AE)" },
            { concept: "SNMP", definition: "Simple Network Management Protocol" },
            { concept: "IPv6", definition: "128 bits de direcci√≥n" },
            { concept: "FE80::/10", definition: "Link-local IPv6" },
            { concept: "FSL", definition: "Free Space Loss" },
            { concept: "EIRP", definition: "Potencia Radiada Isotr√≥pica" },
            { concept: "4096-QAM", definition: "12 bits por s√≠mbolo" }
        ];
        
        let memoriaCards = [];
        let memoriaFlipped = [];
        let memoriaMatched = 0;
        let memoriaTotalPairs = 8;
        let memoriaAttempts = 0;
        let memoriaScore = 0;
        let memoriaLocked = false;
        let memoriaRecord = parseInt(localStorage.getItem('memoriaRecord') || '0');
        
        function initMemoria() {
            document.getElementById('memoria-record').textContent = memoriaRecord;
        }
        
        function showMemoriaStart() {
            document.getElementById('memoria-start').style.display = 'block';
            document.getElementById('memoria-game').style.display = 'none';
            document.getElementById('memoria-results').style.display = 'none';
            document.getElementById('memoria-record').textContent = memoriaRecord;
        }
        
        function startMemoria() {
            memoriaTotalPairs = parseInt(document.getElementById('memoria-pairs').value);
            memoriaMatched = 0;
            memoriaAttempts = 0;
            memoriaScore = 0;
            memoriaFlipped = [];
            memoriaLocked = false;
            
            // Seleccionar pares aleatorios
            const shuffledPairs = [...memoriaPairs];
            shuffleArray(shuffledPairs);
            const selectedPairs = shuffledPairs.slice(0, memoriaTotalPairs);
            
            // Crear cartas (concepto + definici√≥n)
            memoriaCards = [];
            selectedPairs.forEach((pair, index) => {
                memoriaCards.push({ id: index * 2, pairId: index, type: 'concept', text: pair.concept });
                memoriaCards.push({ id: index * 2 + 1, pairId: index, type: 'definition', text: pair.definition });
            });
            shuffleArray(memoriaCards);
            
            // Mostrar pantalla de juego
            document.getElementById('memoria-start').style.display = 'none';
            document.getElementById('memoria-game').style.display = 'block';
            document.getElementById('memoria-results').style.display = 'none';
            
            // Ajustar grid seg√∫n cantidad
            const grid = document.getElementById('memoria-grid');
            if (memoriaTotalPairs <= 6) {
                grid.style.gridTemplateColumns = 'repeat(3, 1fr)';
            } else if (memoriaTotalPairs <= 8) {
                grid.style.gridTemplateColumns = 'repeat(4, 1fr)';
            } else {
                grid.style.gridTemplateColumns = 'repeat(4, 1fr)';
            }
            
            renderMemoriaCards();
            updateMemoriaHUD();
        }
        
        function renderMemoriaCards() {
            const grid = document.getElementById('memoria-grid');
            grid.innerHTML = memoriaCards.map(card => `
                <div class="memoria-card" data-id="${card.id}" onclick="flipMemoriaCard(${card.id})">
                    <div class="memoria-card-inner">
                        <div class="memoria-card-front">‚ùì</div>
                        <div class="memoria-card-back ${card.type}">${card.text}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function flipMemoriaCard(id) {
            if (memoriaLocked) return;
            
            const card = memoriaCards.find(c => c.id === id);
            const cardEl = document.querySelector(`.memoria-card[data-id="${id}"]`);
            
            if (cardEl.classList.contains('flipped') || cardEl.classList.contains('matched')) return;
            if (memoriaFlipped.length >= 2) return;
            
            cardEl.classList.add('flipped');
            memoriaFlipped.push(card);
            
            if (memoriaFlipped.length === 2) {
                memoriaAttempts++;
                checkMemoriaMatch();
            }
        }
        
        function checkMemoriaMatch() {
            memoriaLocked = true;
            const [card1, card2] = memoriaFlipped;
            
            if (card1.pairId === card2.pairId && card1.type !== card2.type) {
                // Match!
                setTimeout(() => {
                    document.querySelector(`.memoria-card[data-id="${card1.id}"]`).classList.add('matched');
                    document.querySelector(`.memoria-card[data-id="${card2.id}"]`).classList.add('matched');
                    memoriaMatched++;
                    memoriaScore += Math.max(100 - (memoriaAttempts * 2), 50);
                    updateMemoriaHUD();
                    memoriaFlipped = [];
                    memoriaLocked = false;
                    
                    if (memoriaMatched === memoriaTotalPairs) {
                        setTimeout(endMemoria, 500);
                    }
                }, 500);
            } else {
                // No match
                setTimeout(() => {
                    document.querySelector(`.memoria-card[data-id="${card1.id}"]`).classList.remove('flipped');
                    document.querySelector(`.memoria-card[data-id="${card2.id}"]`).classList.remove('flipped');
                    memoriaFlipped = [];
                    memoriaLocked = false;
                }, 1000);
            }
        }
        
        function updateMemoriaHUD() {
            document.getElementById('memoria-found').textContent = `${memoriaMatched}/${memoriaTotalPairs}`;
            document.getElementById('memoria-attempts').textContent = memoriaAttempts;
            document.getElementById('memoria-score').textContent = memoriaScore;
        }
        
        function endMemoria() {
            document.getElementById('memoria-game').style.display = 'none';
            document.getElementById('memoria-results').style.display = 'block';
            
            // Calcular bonus por eficiencia
            const efficiency = memoriaTotalPairs / memoriaAttempts;
            const bonus = Math.floor(efficiency * 100);
            memoriaScore += bonus;
            
            let emoji, title;
            if (memoriaAttempts <= memoriaTotalPairs + 2) {
                emoji = 'üèÜ';
                title = '¬°Memoria perfecta!';
            } else if (memoriaAttempts <= memoriaTotalPairs * 1.5) {
                emoji = 'üéâ';
                title = '¬°Excelente!';
            } else {
                emoji = 'üëè';
                title = '¬°Completado!';
            }
            
            document.getElementById('memoria-emoji').textContent = emoji;
            document.getElementById('memoria-title').textContent = title;
            document.getElementById('memoria-final-score').textContent = memoriaScore;
            document.getElementById('memoria-result-pairs').textContent = memoriaTotalPairs;
            document.getElementById('memoria-result-attempts').textContent = memoriaAttempts;
            
            if (memoriaScore > memoriaRecord) {
                memoriaRecord = memoriaScore;
                localStorage.setItem('memoriaRecord', memoriaRecord);
                document.getElementById('memoria-new-record').style.display = 'block';
            } else {
                document.getElementById('memoria-new-record').style.display = 'none';
            }
        }
        
        // ============ MODO SUPERVIVENCIA ============
        let supervivenciaLives = 3;
        let supervivenciaScore = 0;
        let supervivenciaStreak = 0;
        let supervivenciaMaxStreak = 0;
        let supervivenciaCorrect = 0;
        let supervivenciaQuestions = [];
        let supervivenciaCurrentQ = 0;
        let supervivenciaAnswered = false;
        let supervivenciaRecord = parseInt(localStorage.getItem('supervivenciaRecord') || '0');
        
        function initSupervivencia() {
            document.getElementById('supervivencia-record').textContent = supervivenciaRecord;
        }
        
        function showSupervivenciaStart() {
            document.getElementById('supervivencia-start').style.display = 'block';
            document.getElementById('supervivencia-game').style.display = 'none';
            document.getElementById('supervivencia-results').style.display = 'none';
            document.getElementById('supervivencia-record').textContent = supervivenciaRecord;
        }
        
        function startSupervivencia() {
            supervivenciaLives = 3;
            supervivenciaScore = 0;
            supervivenciaStreak = 0;
            supervivenciaMaxStreak = 0;
            supervivenciaCorrect = 0;
            supervivenciaCurrentQ = 0;
            supervivenciaAnswered = false;
            
            const category = document.getElementById('supervivencia-category').value;
            supervivenciaQuestions = prepareDesafioQuestions(category); // Reutilizamos
            
            document.getElementById('supervivencia-start').style.display = 'none';
            document.getElementById('supervivencia-game').style.display = 'block';
            document.getElementById('supervivencia-results').style.display = 'none';
            
            updateSupervivenciaHUD();
            showSupervivenciaQuestion();
        }
        
        function showSupervivenciaQuestion() {
            if (supervivenciaCurrentQ >= supervivenciaQuestions.length) {
                supervivenciaCurrentQ = 0;
                shuffleArray(supervivenciaQuestions);
            }
            
            const q = supervivenciaQuestions[supervivenciaCurrentQ];
            supervivenciaAnswered = false;
            
            document.getElementById('supervivencia-question-num').textContent = `Pregunta ${supervivenciaCorrect + 1}`;
            document.getElementById('supervivencia-question').textContent = q.question;
            document.getElementById('supervivencia-feedback').textContent = '';
            document.getElementById('supervivencia-feedback').className = 'supervivencia-feedback';
            
            const optionsContainer = document.getElementById('supervivencia-options');
            optionsContainer.innerHTML = q.options.map((opt, i) => `
                <button class="supervivencia-option" onclick="answerSupervivencia(${i})">${opt}</button>
            `).join('');
        }
        
        function answerSupervivencia(selected) {
            if (supervivenciaAnswered) return;
            supervivenciaAnswered = true;
            
            const q = supervivenciaQuestions[supervivenciaCurrentQ];
            const buttons = document.querySelectorAll('.supervivencia-option');
            const feedback = document.getElementById('supervivencia-feedback');
            
            buttons.forEach((btn, i) => {
                btn.style.pointerEvents = 'none';
                if (i === q.correct) btn.classList.add('correct');
                if (i === selected && selected !== q.correct) btn.classList.add('incorrect');
            });
            
            if (selected === q.correct) {
                supervivenciaCorrect++;
                supervivenciaScore += 10;
                supervivenciaStreak++;
                if (supervivenciaStreak > supervivenciaMaxStreak) {
                    supervivenciaMaxStreak = supervivenciaStreak;
                }
                feedback.textContent = `‚úÖ ¬°Correcto! +10 pts`;
                feedback.className = 'supervivencia-feedback correct';
            } else {
                supervivenciaLives--;
                supervivenciaStreak = 0;
                feedback.textContent = `‚ùå Incorrecto - Pierdes una vida`;
                feedback.className = 'supervivencia-feedback incorrect';
                
                // Animaci√≥n de vida perdida
                document.querySelector('.hud-lives').classList.add('life-lost');
                setTimeout(() => {
                    document.querySelector('.hud-lives').classList.remove('life-lost');
                }, 500);
            }
            
            updateSupervivenciaHUD();
            supervivenciaCurrentQ++;
            
            if (supervivenciaLives <= 0) {
                setTimeout(endSupervivencia, 1200);
            } else {
                setTimeout(showSupervivenciaQuestion, 1200);
            }
        }
        
        function updateSupervivenciaHUD() {
            const hearts = '‚ù§Ô∏è'.repeat(supervivenciaLives) + 'üñ§'.repeat(3 - supervivenciaLives);
            document.getElementById('supervivencia-lives').textContent = hearts;
            document.getElementById('supervivencia-score').textContent = supervivenciaScore;
            document.getElementById('supervivencia-streak').textContent = supervivenciaStreak;
        }
        
        function endSupervivencia() {
            document.getElementById('supervivencia-game').style.display = 'none';
            document.getElementById('supervivencia-results').style.display = 'block';
            
            let emoji, title;
            if (supervivenciaCorrect >= 20) {
                emoji = 'üèÜ';
                title = '¬°LEYENDA!';
            } else if (supervivenciaCorrect >= 15) {
                emoji = 'üéâ';
                title = '¬°Incre√≠ble!';
            } else if (supervivenciaCorrect >= 10) {
                emoji = 'üí™';
                title = '¬°Muy bien!';
            } else if (supervivenciaCorrect >= 5) {
                emoji = 'üëç';
                title = 'Buen intento';
            } else {
                emoji = 'üíÄ';
                title = 'Game Over';
            }
            
            document.getElementById('supervivencia-emoji').textContent = emoji;
            document.getElementById('supervivencia-title').textContent = title;
            document.getElementById('supervivencia-final-score').textContent = supervivenciaScore;
            document.getElementById('supervivencia-result-correct').textContent = supervivenciaCorrect;
            document.getElementById('supervivencia-result-streak').textContent = supervivenciaMaxStreak;
            
            if (supervivenciaScore > supervivenciaRecord) {
                supervivenciaRecord = supervivenciaScore;
                localStorage.setItem('supervivenciaRecord', supervivenciaRecord);
                document.getElementById('supervivencia-new-record').style.display = 'block';
            } else {
                document.getElementById('supervivencia-new-record').style.display = 'none';
            }
        }
        
        // ============ CONCEPTOS Y TEOR√çA ============
        function initConceptos() {
            document.querySelectorAll('#conceptos-tabs .filter-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('#conceptos-tabs .filter-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    showConceptos(this.dataset.topic);
                });
            });
            showConceptos('radio'); // Mostrar radio por defecto
        }
        
        function showConceptos(topic) {
            const container = document.getElementById('conceptos-content');
            const conceptos = conceptosDB[topic] || [];
            
            if (conceptos.length === 0) {
                container.innerHTML = '<div class="concepto-card"><p>No hay conceptos disponibles para este tema.</p></div>';
                return;
            }
            
            container.innerHTML = conceptos.map(c => `
                <div class="concepto-card">
                    <h3>${c.titulo}</h3>
                    ${c.contenido}
                </div>
            `).join('');
        }
        
        // ============ FLASHCARDS ============
        function initFlashcards() {
            document.querySelectorAll('#fc-tabs .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('#fc-tabs .tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    filterFlashcards(this.dataset.category);
                });
            });
            filterFlashcards('all');
        }
        
        function filterFlashcards(category) {
            fcCards = category === 'all' ? [...flashcardsDB] : flashcardsDB.filter(c => c.category === category);
            shuffleArray(fcCards);
            fcIndex = 0; fcCorrect = 0; fcIncorrect = 0;
            updateFcStats();
            showFlashcard();
        }
        
        function showFlashcard() {
            if (fcIndex >= fcCards.length) {
                alert(`¬°Terminaste! Correctas: ${fcCorrect}, A repasar: ${fcIncorrect}`);
                filterFlashcards('all');
                return;
            }
            
            const card = fcCards[fcIndex];
            const cats = { radio: 'üì° Radio', ip: 'üåê IP', fibra: 'üí° Fibra', formulas: 'üßÆ F√≥rmulas' };
            
            document.getElementById('fc-category').textContent = cats[card.category] || card.category;
            document.getElementById('fc-category-back').textContent = cats[card.category] || card.category;
            document.getElementById('fc-number').textContent = `${fcIndex + 1}/${fcCards.length}`;
            document.getElementById('fc-number-back').textContent = `${fcIndex + 1}/${fcCards.length}`;
            document.getElementById('fc-question').textContent = card.q;
            document.getElementById('fc-answer').innerHTML = card.a.replace(/\n/g, '<br>');
            
            fcFlipped = false;
            document.getElementById('flashcard').classList.remove('flipped');
            document.getElementById('fc-progress').style.width = (fcIndex / fcCards.length * 100) + '%';
        }
        
        function flipCard() {
            fcFlipped = !fcFlipped;
            document.getElementById('flashcard').classList.toggle('flipped');
        }
        
        function markCard(correct) {
            if (correct) fcCorrect++; else fcIncorrect++;
            fcIndex++;
            updateFcStats();
            showFlashcard();
            saveProgress('flashcard', { correct: fcCorrect, incorrect: fcIncorrect, total: fcCards.length });
        }
        
        function skipCard() { fcIndex++; showFlashcard(); }
        
        function resetFlashcards() { filterFlashcards('all'); }
        
        function updateFcStats() {
            document.getElementById('fc-correct').textContent = fcCorrect;
            document.getElementById('fc-incorrect').textContent = fcIncorrect;
            document.getElementById('fc-remaining').textContent = Math.max(0, fcCards.length - fcIndex);
        }
        
        // ============ PRUEBAS ============
        function initTests() {
            document.querySelectorAll('#test-tabs .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('#test-tabs .tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    loadTest(this.dataset.test);
                });
            });
            loadTest('propagacion');
        }
        
        function loadTest(testId) {
            testQuestions = questionsDB[testId] ? [...questionsDB[testId]] : [];
            shuffleArray(testQuestions);
            testCorrect = 0; testIncorrect = 0;
            renderTest();
        }
        
        function renderTest() {
            const container = document.getElementById('test-container');
            container.innerHTML = testQuestions.map((q, i) => `
                <div class="question-card" data-index="${i}" data-answer="${q.a}">
                    <div class="question-number">Pregunta ${i + 1}</div>
                    <div class="question-text">${q.q}</div>
                    <div class="options">
                        ${q.o.map((opt, j) => `<button class="option" onclick="selectTestOption(${i}, ${j})">${String.fromCharCode(97 + j)}) ${opt}</button>`).join('')}
                    </div>
                    <div class="explanation"><strong>üí°</strong> ${q.e}</div>
                </div>
            `).join('');
            updateTestStats();
        }
        
        function selectTestOption(qIndex, optIndex) {
            const card = document.querySelector(`.question-card[data-index="${qIndex}"]`);
            const options = card.querySelectorAll('.option');
            const correct = parseInt(card.dataset.answer);
            
            if (options[0].classList.contains('disabled')) return;
            
            options.forEach((o, i) => {
                o.classList.add('disabled');
                if (i === correct) o.classList.add('correct');
                else if (i === optIndex) o.classList.add('incorrect');
            });
            
            card.querySelector('.explanation').classList.add('show');
            
            if (optIndex === correct) testCorrect++; else testIncorrect++;
            updateTestStats();
            
            if (testCorrect + testIncorrect === testQuestions.length) {
                saveProgress('test', { correct: testCorrect, total: testQuestions.length });
            }
        }
        
        function resetTest() {
            const activeTab = document.querySelector('#test-tabs .tab.active');
            loadTest(activeTab.dataset.test);
        }
        
        function updateTestStats() {
            document.getElementById('test-correct').textContent = testCorrect;
            document.getElementById('test-incorrect').textContent = testIncorrect;
            const total = testCorrect + testIncorrect;
            const score = total > 0 ? Math.round(testCorrect / total * 100) : 0;
            document.getElementById('test-score').textContent = score + '%';
            document.getElementById('test-progress').style.width = (total / testQuestions.length * 100) + '%';
        }
        
        // ============ EJERCICIOS ============
        function initExercises() {
            document.querySelectorAll('#ex-tabs .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('#ex-tabs .tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    filterExercises(this.dataset.category);
                });
            });
            filterExercises('all');
        }
        
        function filterExercises(category) {
            exList = category === 'all' ? [...exercisesDB] : exercisesDB.filter(e => e.cat === category);
            shuffleArray(exList);
            exIndex = 0; exCorrect = 0; exIncorrect = 0;
            updateExStats();
            showExercise();
        }
        
        function showExercise() {
            if (exIndex >= exList.length) {
                document.getElementById('exercise-container').innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <h3>üéâ ¬°Completado!</h3>
                        <p style="margin-top: 15px;">Correctas: ${exCorrect} | Incorrectas: ${exIncorrect}</p>
                        <button class="btn btn-primary" style="margin-top: 20px;" onclick="filterExercises('all')">Reiniciar</button>
                    </div>
                `;
                return;
            }
            
            const ex = exList[exIndex];
            const cats = { radio: 'üì°', optica: 'üí°', redes: 'üåê' };
            
            document.getElementById('exercise-container').innerHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <span style="background: linear-gradient(135deg, var(--primary), var(--secondary)); padding: 5px 15px; border-radius: 20px; font-size: 0.9em;">
                        ${cats[ex.cat] || 'üìö'} Ejercicio ${exIndex + 1} de ${exList.length}
                    </span>
                </div>
                <h4 style="text-align: center; color: var(--warning); margin-bottom: 20px;">${ex.title}</h4>
                <div class="formula-exercise">${ex.formula}</div>
                <div class="feedback" id="ex-feedback">
                    <h4 id="ex-feedback-title"></h4>
                    <p>${ex.exp}</p>
                </div>
            `;
            
            document.getElementById('check-exercise-btn').disabled = false;
            document.getElementById('next-exercise-btn').disabled = true;
            document.getElementById('ex-progress').style.width = (exIndex / exList.length * 100) + '%';
            
            const firstInput = document.querySelector('.blank-input');
            if (firstInput) firstInput.focus();
        }
        
        function checkExercise() {
            const inputs = document.querySelectorAll('.blank-input');
            let allCorrect = true;
            
            inputs.forEach(input => {
                const answer = input.value.trim().toLowerCase();
                const correct = input.dataset.answer.split(',').map(a => a.trim().toLowerCase());
                
                if (correct.includes(answer)) {
                    input.classList.add('correct');
                } else {
                    input.classList.add('incorrect');
                    allCorrect = false;
                }
                input.disabled = true;
            });
            
            const feedback = document.getElementById('ex-feedback');
            const title = document.getElementById('ex-feedback-title');
            
            if (allCorrect) {
                exCorrect++;
                feedback.classList.add('correct', 'show');
                title.textContent = '‚úÖ ¬°Correcto!';
            } else {
                exIncorrect++;
                feedback.classList.add('incorrect', 'show');
                title.textContent = '‚ùå Incorrecto';
            }
            
            updateExStats();
            document.getElementById('check-exercise-btn').disabled = true;
            document.getElementById('next-exercise-btn').disabled = false;
        }
        
        function nextExercise() { exIndex++; showExercise(); }
        function prevExercise() { if (exIndex > 0) { exIndex--; showExercise(); } }
        
        function updateExStats() {
            document.getElementById('ex-correct').textContent = exCorrect;
            document.getElementById('ex-incorrect').textContent = exIncorrect;
        }
        
        // ============ VERDADERO O FALSO ============
        function initVoF() {
            document.querySelectorAll('#vof-tabs .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('#vof-tabs .tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentVofCategory = this.dataset.category;
                    // Reset y mostrar inicio
                    document.getElementById('vof-start').style.display = 'block';
                    document.getElementById('vof-question').style.display = 'none';
                    document.getElementById('vof-result').style.display = 'none';
                });
            });
        }
        
        function startVoF() {
            // Filtrar por categor√≠a
            vofList = currentVofCategory === 'all' 
                ? [...vofQuestionsDB] 
                : vofQuestionsDB.filter(q => q.category === currentVofCategory);
            
            shuffleArray(vofList);
            vofList = vofList.slice(0, 20); // M√°ximo 20 preguntas
            vofIndex = 0;
            vofCorrect = 0;
            vofIncorrect = 0;
            vofAnswers = [];
            
            updateVoFStats();
            
            document.getElementById('vof-start').style.display = 'none';
            document.getElementById('vof-question').style.display = 'block';
            document.getElementById('vof-result').style.display = 'none';
            
            showVoFQuestion();
        }
        
        function showVoFQuestion() {
            if (vofIndex >= vofList.length) {
                showVoFResult();
                return;
            }
            
            const q = vofList[vofIndex];
            document.getElementById('vof-counter').textContent = `Pregunta ${vofIndex + 1} de ${vofList.length}`;
            document.getElementById('vof-statement').textContent = q.statement;
            
            // Reset estado
            vofAnswered = false;
            document.getElementById('btn-verdadero').disabled = false;
            document.getElementById('btn-falso').disabled = false;
            document.getElementById('btn-verdadero').className = 'btn btn-success';
            document.getElementById('btn-falso').className = 'btn btn-danger';
            document.getElementById('vof-feedback').style.display = 'none';
            document.getElementById('vof-next-btn').style.display = 'none';
            
            updateVoFStats();
        }
        
        function answerVoF(userAnswer) {
            if (vofAnswered) return;
            vofAnswered = true;
            
            const q = vofList[vofIndex];
            const isCorrect = userAnswer === q.answer;
            
            // Deshabilitar botones
            document.getElementById('btn-verdadero').disabled = true;
            document.getElementById('btn-falso').disabled = true;
            
            // Marcar respuesta
            if (userAnswer === true) {
                document.getElementById('btn-verdadero').className = isCorrect ? 'btn btn-success' : 'btn btn-warning';
            } else {
                document.getElementById('btn-falso').className = isCorrect ? 'btn btn-danger' : 'btn btn-warning';
            }
            
            // Mostrar respuesta correcta
            if (!isCorrect) {
                if (q.answer === true) {
                    document.getElementById('btn-verdadero').style.border = '3px solid #4caf50';
                } else {
                    document.getElementById('btn-falso').style.border = '3px solid #4caf50';
                }
            }
            
            // Actualizar contadores
            if (isCorrect) {
                vofCorrect++;
            } else {
                vofIncorrect++;
            }
            
            // Guardar respuesta
            vofAnswers.push({
                statement: q.statement,
                correctAnswer: q.answer,
                userAnswer: userAnswer,
                isCorrect: isCorrect,
                explanation: q.explanation
            });
            
            // Mostrar feedback
            const feedback = document.getElementById('vof-feedback');
            feedback.style.display = 'block';
            feedback.style.background = isCorrect ? 'rgba(76,175,80,0.2)' : 'rgba(244,67,54,0.2)';
            feedback.innerHTML = `
                <div style="font-size: 1.5em; margin-bottom: 10px;">${isCorrect ? '‚úÖ ¬°Correcto!' : '‚ùå Incorrecto'}</div>
                <div style="opacity: 0.9;">La afirmaci√≥n es <strong>${q.answer ? 'VERDADERA' : 'FALSA'}</strong></div>
                <div style="margin-top: 10px; opacity: 0.8; font-size: 0.95em;">${q.explanation}</div>
            `;
            
            document.getElementById('vof-next-btn').style.display = 'inline-block';
            updateVoFStats();
        }
        
        function nextVoF() {
            // Reset estilos de borde
            document.getElementById('btn-verdadero').style.border = '';
            document.getElementById('btn-falso').style.border = '';
            
            vofIndex++;
            showVoFQuestion();
        }
        
        function showVoFResult() {
            document.getElementById('vof-question').style.display = 'none';
            document.getElementById('vof-result').style.display = 'block';
            
            const total = vofCorrect + vofIncorrect;
            const pct = total > 0 ? Math.round((vofCorrect / total) * 100) : 0;
            
            let emoji, text;
            if (pct >= 90) { emoji = 'üèÜ'; text = '¬°Excelente! Dominas el tema.'; }
            else if (pct >= 70) { emoji = 'üéâ'; text = '¬°Muy bien! Buen conocimiento.'; }
            else if (pct >= 50) { emoji = 'üëç'; text = 'Bien, pero puedes mejorar.'; }
            else { emoji = 'üìö'; text = 'Necesitas repasar m√°s.'; }
            
            document.getElementById('vof-final-emoji').textContent = emoji;
            document.getElementById('vof-final-score').textContent = `${pct}%`;
            document.getElementById('vof-final-text').textContent = `${vofCorrect} de ${total} correctas - ${text}`;
            
            // Mostrar revisi√≥n
            let reviewHTML = '<div style="max-height: 400px; overflow-y: auto;">';
            vofAnswers.forEach((ans, i) => {
                reviewHTML += `
                    <div style="padding: 15px; margin-bottom: 10px; border-radius: 10px; background: ${ans.isCorrect ? 'rgba(76,175,80,0.1)' : 'rgba(244,67,54,0.1)'}; border-left: 4px solid ${ans.isCorrect ? '#4caf50' : '#f44336'};">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span><strong>#${i+1}</strong></span>
                            <span>${ans.isCorrect ? '‚úÖ' : '‚ùå'}</span>
                        </div>
                        <div style="margin-bottom: 8px;">"${ans.statement}"</div>
                        <div style="font-size: 0.9em; opacity: 0.8;">
                            <span style="color: ${ans.correctAnswer ? '#4caf50' : '#f44336'};">
                                Respuesta: <strong>${ans.correctAnswer ? 'VERDADERO' : 'FALSO'}</strong>
                            </span>
                            ${!ans.isCorrect ? `<span> | Tu respuesta: ${ans.userAnswer ? 'Verdadero' : 'Falso'}</span>` : ''}
                        </div>
                    </div>
                `;
            });
            reviewHTML += '</div>';
            document.getElementById('vof-review').innerHTML = reviewHTML;
            
            // Guardar progreso
            saveProgress('vof', pct, vofCorrect, total);
        }
        
        function updateVoFStats() {
            document.getElementById('vof-correct').textContent = vofCorrect;
            document.getElementById('vof-incorrect').textContent = vofIncorrect;
            document.getElementById('vof-remaining').textContent = Math.max(0, vofList.length - vofIndex - 1);
        }
        
        // ============ CALCULADORAS ============
        function initCalculators() {
            document.querySelectorAll('#calc-tabs .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('#calc-tabs .tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    showCalculator(this.dataset.calc);
                });
            });
        }
        
        function showCalculator(calcId) {
            document.querySelectorAll('#calc-container > div').forEach(c => c.style.display = 'none');
            document.getElementById('calc-' + calcId).style.display = 'block';
        }
        
        function calcFresnel() {
            const d = parseFloat(document.getElementById('fresnel-d').value);
            const d1 = parseFloat(document.getElementById('fresnel-d1').value);
            const f = parseFloat(document.getElementById('fresnel-f').value);
            
            if (isNaN(d) || isNaN(d1) || isNaN(f) || d <= 0 || f <= 0) return showCalcError('fresnel-result');
            
            const d2 = d - d1;
            if (d2 <= 0 || d1 <= 0) return showCalcError('fresnel-result');
            
            const rF = 17.3 * Math.sqrt((d1 * d2) / (f * d));
            
            const result = document.getElementById('fresnel-result');
            result.classList.remove('error');
            result.classList.add('show');
            document.getElementById('fresnel-value').textContent = rF.toFixed(2) + ' m';
            document.getElementById('fresnel-details').innerHTML = `
                <p>Distancia total <span>${d} km</span></p>
                <p>d‚ÇÅ <span>${d1} km</span></p>
                <p>d‚ÇÇ <span>${d2.toFixed(2)} km</span></p>
                <p>Frecuencia <span>${f} GHz</span></p>
                <p style="color: var(--warning);">60% despejamiento <span>${(rF * 0.6).toFixed(2)} m</span></p>
            `;
        }
        
        function calcPowerBudget() {
            const tx = parseFloat(document.getElementById('pb-tx').value);
            const rx = parseFloat(document.getElementById('pb-rx').value);
            const dist = parseFloat(document.getElementById('pb-dist').value);
            const att = parseFloat(document.getElementById('pb-att').value);
            const splices = parseInt(document.getElementById('pb-splices').value) || 0;
            const conn = parseInt(document.getElementById('pb-conn').value) || 0;
            
            if (isNaN(tx) || isNaN(rx) || isNaN(dist) || isNaN(att)) return showCalcError('pb-result');
            
            const pb = tx - rx;
            const fiberLoss = dist * att;
            const spliceLoss = splices * 0.1;
            const connLoss = conn * 0.75;
            const totalLoss = fiberLoss + spliceLoss + connLoss + 3; // +3 margen
            const remaining = pb - totalLoss;
            
            const result = document.getElementById('pb-result');
            result.classList.remove('error');
            result.classList.add('show');
            
            if (remaining >= 0) {
                document.getElementById('pb-value').textContent = remaining.toFixed(2) + ' dB';
                document.getElementById('pb-status').textContent = '‚úÖ Enlace viable';
            } else {
                result.classList.add('error');
                document.getElementById('pb-value').textContent = remaining.toFixed(2) + ' dB';
                document.getElementById('pb-status').textContent = '‚ùå Enlace NO viable';
            }
            
            document.getElementById('pb-details').innerHTML = `
                <p>Power Budget <span>${pb.toFixed(2)} dB</span></p>
                <p>P√©rdida fibra <span>${fiberLoss.toFixed(2)} dB</span></p>
                <p>P√©rdida empalmes <span>${spliceLoss.toFixed(2)} dB</span></p>
                <p>P√©rdida conectores <span>${connLoss.toFixed(2)} dB</span></p>
                <p>P√©rdida total (+ 3 dB margen) <span>${totalLoss.toFixed(2)} dB</span></p>
            `;
        }
        
        function calcPON() {
            const txPower = parseFloat(document.getElementById('pon-tx').value);
            const rxSens = parseFloat(document.getElementById('pon-rx').value);
            const fiberDist = parseFloat(document.getElementById('pon-dist').value);
            const fiberAtt = parseFloat(document.getElementById('pon-att').value);
            const splitter1 = parseFloat(document.getElementById('pon-splitter1').value);
            const splitter2 = parseFloat(document.getElementById('pon-splitter2').value) || 0;
            const connectors = parseInt(document.getElementById('pon-conn').value) || 0;
            const splices = parseInt(document.getElementById('pon-splices').value) || 0;
            
            if (isNaN(txPower) || isNaN(rxSens) || isNaN(fiberDist) || isNaN(fiberAtt) || isNaN(splitter1)) {
                return showCalcError('pon-result');
            }
            
            // C√°lculos
            const powerBudget = txPower - rxSens;
            const fiberLoss = fiberDist * fiberAtt;
            const splitter1Loss = splitter1;
            const splitter2Loss = splitter2;
            const totalSplitterLoss = splitter1Loss + splitter2Loss;
            const connLoss = connectors * 0.5;
            const spliceLoss = splices * 0.1;
            const margin = 3; // Margen de seguridad
            const totalLoss = fiberLoss + totalSplitterLoss + connLoss + spliceLoss + margin;
            const remaining = powerBudget - totalLoss;
            
            const result = document.getElementById('pon-result');
            result.classList.remove('error');
            result.classList.add('show');
            
            if (remaining >= 0) {
                document.getElementById('pon-value').textContent = remaining.toFixed(2) + ' dB';
                document.getElementById('pon-status').textContent = '‚úÖ Enlace PON viable';
            } else {
                result.classList.add('error');
                document.getElementById('pon-value').textContent = remaining.toFixed(2) + ' dB';
                document.getElementById('pon-status').textContent = '‚ùå Enlace PON NO viable';
            }
            
            document.getElementById('pon-details').innerHTML = `
                <p>Power Budget disponible <span>${powerBudget.toFixed(2)} dB</span></p>
                <p>P√©rdida fibra (${fiberDist} km √ó ${fiberAtt} dB/km) <span>${fiberLoss.toFixed(2)} dB</span></p>
                <p>P√©rdida splitter 1 <span>${splitter1Loss.toFixed(2)} dB</span></p>
                ${splitter2Loss > 0 ? `<p>P√©rdida splitter 2 <span>${splitter2Loss.toFixed(2)} dB</span></p>` : ''}
                <p>P√©rdida conectores (${connectors} √ó 0.5 dB) <span>${connLoss.toFixed(2)} dB</span></p>
                <p>P√©rdida empalmes (${splices} √ó 0.1 dB) <span>${spliceLoss.toFixed(2)} dB</span></p>
                <p>Margen de seguridad <span>${margin.toFixed(2)} dB</span></p>
                <p><strong>P√©rdida total</strong> <span><strong>${totalLoss.toFixed(2)} dB</strong></span></p>
            `;
        }
        
        function calcSubnet() {
            const ip = document.getElementById('subnet-ip').value;
            const cidr = parseInt(document.getElementById('subnet-cidr').value);
            
            if (!ip || !validateIP(ip)) return showCalcError('subnet-result');
            
            const hostBits = 32 - cidr;
            const hosts = Math.pow(2, hostBits) - 2;
            
            const mask = cidrToMask(cidr);
            const ipParts = ip.split('.').map(Number);
            const maskParts = mask.split('.').map(Number);
            const network = ipParts.map((p, i) => p & maskParts[i]).join('.');
            const broadcast = ipParts.map((p, i) => (p & maskParts[i]) | (255 - maskParts[i])).join('.');
            
            const result = document.getElementById('subnet-result');
            result.classList.remove('error');
            result.classList.add('show');
            document.getElementById('subnet-value').textContent = hosts;
            document.getElementById('subnet-details').innerHTML = `
                <p>Red <span>${network}/${cidr}</span></p>
                <p>M√°scara <span>${mask}</span></p>
                <p>Broadcast <span>${broadcast}</span></p>
            `;
        }
        
        function calcLinkBudget() {
            const ptx = parseFloat(document.getElementById('lb-ptx').value);
            const freq = parseFloat(document.getElementById('lb-freq').value);
            const dist = parseFloat(document.getElementById('lb-dist').value);
            const sens = parseFloat(document.getElementById('lb-sens').value);
            const gtx = parseFloat(document.getElementById('lb-gtx').value);
            const grx = parseFloat(document.getElementById('lb-grx').value);
            
            if ([ptx, freq, dist, sens, gtx, grx].some(isNaN)) return showCalcError('lb-result');
            
            const abf = 92.4 + 20 * Math.log10(freq) + 20 * Math.log10(dist);
            const eirp = ptx + gtx - 2;
            const prx = eirp + grx - abf;
            const fade = prx - sens;
            
            const result = document.getElementById('lb-result');
            result.classList.remove('error');
            result.classList.add('show');
            
            if (fade >= 20) {
                document.getElementById('lb-value').textContent = fade.toFixed(2) + ' dB';
                document.getElementById('lb-status').textContent = '‚úÖ Buen margen';
            } else if (fade >= 0) {
                document.getElementById('lb-value').textContent = fade.toFixed(2) + ' dB';
                document.getElementById('lb-status').textContent = '‚ö†Ô∏è Margen bajo';
            } else {
                result.classList.add('error');
                document.getElementById('lb-value').textContent = fade.toFixed(2) + ' dB';
                document.getElementById('lb-status').textContent = '‚ùå Enlace NO viable';
            }
            
            document.getElementById('lb-details').innerHTML = `
                <p>EIRP <span>${eirp.toFixed(2)} dBm</span></p>
                <p>ABF (p√©rdida espacio libre) <span>${abf.toFixed(2)} dB</span></p>
                <p>Potencia recibida <span>${prx.toFixed(2)} dBm</span></p>
            `;
        }
        
        function calcWavelength() {
            const freq = parseFloat(document.getElementById('wl-freq').value);
            if (isNaN(freq) || freq <= 0) return showCalcError('wl-result');
            
            const wl = 30 / freq;
            
            const result = document.getElementById('wl-result');
            result.classList.remove('error');
            result.classList.add('show');
            document.getElementById('wl-value').textContent = wl.toFixed(3) + ' cm';
            document.getElementById('wl-details').innerHTML = `
                <p>Frecuencia <span>${freq} GHz</span></p>
                <p>En metros <span>${(wl / 100).toFixed(4)} m</span></p>
                <p>En mil√≠metros <span>${(wl * 10).toFixed(2)} mm</span></p>
            `;
        }
        
        function calcBER() {
            const errors = parseFloat(document.getElementById('ber-errors').value);
            const total = parseFloat(document.getElementById('ber-total').value.replace(/[^0-9]/g, ''));
            
            if (isNaN(errors) || isNaN(total) || total <= 0) return showCalcError('ber-result');
            
            const ber = errors / total;
            
            const result = document.getElementById('ber-result');
            result.classList.remove('error');
            result.classList.add('show');
            
            let status = '';
            if (ber <= 1e-13) status = 'üèÜ Excelente';
            else if (ber <= 1e-9) status = '‚úÖ Bueno';
            else if (ber <= 1e-6) status = '‚ö†Ô∏è Aceptable';
            else { status = '‚ùå Pobre'; result.classList.add('error'); }
            
            document.getElementById('ber-value').textContent = ber.toExponential(2);
            document.getElementById('ber-status').textContent = status;
            document.getElementById('ber-details').innerHTML = `
                <p>Bits error <span>${errors}</span></p>
                <p>Bits totales <span>${total.toLocaleString()}</span></p>
            `;
        }
        
        function showCalcError(resultId) {
            const result = document.getElementById(resultId);
            result.classList.add('show', 'error');
            result.innerHTML = `<div class="result-value">‚ö†Ô∏è</div><div class="result-label">Ingresa valores v√°lidos</div>`;
        }
        
        function validateIP(ip) {
            const parts = ip.split('.');
            if (parts.length !== 4) return false;
            return parts.every(p => { const n = parseInt(p); return !isNaN(n) && n >= 0 && n <= 255; });
        }
        
        function cidrToMask(cidr) {
            const mask = [];
            for (let i = 0; i < 4; i++) {
                const bits = Math.min(8, Math.max(0, cidr - i * 8));
                mask.push(256 - Math.pow(2, 8 - bits));
            }
            return mask.join('.');
        }
        
        // ============ MAPAS ============
        function initMaps() {
            document.querySelectorAll('#map-tabs .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('#map-tabs .tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    showMap(this.dataset.map);
                });
            });
        }
        
        function showMap(mapId) {
            document.querySelectorAll('#map-container > div').forEach(m => m.style.display = 'none');
            document.getElementById('map-' + mapId).style.display = 'block';
        }
        
        // ============ EXAMEN COMPLETO ============
        function startExam() {
            examQuestions = [...examQuestionsDB];
            shuffleArray(examQuestions);
            examIndex = 0;
            examCorrect = 0;
            examIncorrect = 0;
            examAnswers = [];
            
            document.getElementById('exam-start').style.display = 'none';
            document.getElementById('exam-result').style.display = 'none';
            document.getElementById('exam-container').style.display = 'block';
            
            updateExamStats();
            showExamQuestion();
        }
        
        function showExamQuestion() {
            if (examIndex >= examQuestions.length) {
                finishExam();
                return;
            }
            
            const q = examQuestions[examIndex];
            const container = document.getElementById('exam-container');
            
            container.innerHTML = `
                <div class="card">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                        <span style="color: var(--primary); font-weight: bold;">Pregunta ${examIndex + 1} de 20</span>
                        <span style="opacity: 0.7;">${getExamCategory(q)}</span>
                    </div>
                    <h3 style="margin-bottom: 15px; line-height: 1.5;">${q.q}</h3>
                    <div style="background: rgba(255,193,7,0.1); padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid var(--warning);">
                        <strong>üí° Ejemplo:</strong> ${q.ejemplo}
                    </div>
                    <div id="exam-options">
                        ${q.o.map((opt, i) => `
                            <button class="option-btn" onclick="selectExamAnswer(${i})" id="exam-opt-${i}">
                                <span class="option-letter">${String.fromCharCode(65 + i)}</span>
                                ${opt}
                            </button>
                        `).join('')}
                    </div>
                    <div id="exam-feedback" style="display: none; margin-top: 20px; padding: 15px; border-radius: 8px;"></div>
                    <div id="exam-next-btn" style="display: none; text-align: center; margin-top: 20px;">
                        <button class="btn btn-primary" onclick="nextExamQuestion()">Siguiente ‚Üí</button>
                    </div>
                </div>
            `;
        }
        
        function getExamCategory(q) {
            if (q.q.includes('radio') || q.q.includes('GHz') || q.q.includes('Fresnel') || q.q.includes('ACCP') || q.q.includes('CCDP')) return 'üì° Radio';
            if (q.q.includes('host') || q.q.includes('MAC') || q.q.includes('IP') || q.q.includes('OSPF') || q.q.includes('switch')) return 'üåê Redes';
            if (q.q.includes('fibra') || q.q.includes('SFP') || q.q.includes('Power Budget') || q.q.includes('1310') || q.q.includes('1550')) return 'üí° Fibra';
            if (q.q.includes('BER') || q.q.includes('BERT') || q.q.includes('jitter')) return 'üìä Testing';
            return 'üßÆ C√°lculo';
        }
        
        function selectExamAnswer(selected) {
            const q = examQuestions[examIndex];
            const correct = q.a === selected;
            
            // Deshabilitar opciones
            document.querySelectorAll('.option-btn').forEach((btn, i) => {
                btn.disabled = true;
                btn.style.cursor = 'default';
                if (i === q.a) {
                    btn.classList.add('correct');
                } else if (i === selected && !correct) {
                    btn.classList.add('incorrect');
                }
            });
            
            // Guardar respuesta
            examAnswers.push({
                question: q.q,
                selected: selected,
                correct: q.a,
                isCorrect: correct,
                explanation: q.e
            });
            
            // Actualizar contadores
            if (correct) {
                examCorrect++;
            } else {
                examIncorrect++;
            }
            
            // Mostrar feedback
            const feedback = document.getElementById('exam-feedback');
            feedback.style.display = 'block';
            feedback.style.background = correct ? 'rgba(76,175,80,0.2)' : 'rgba(244,67,54,0.2)';
            feedback.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 10px; color: ${correct ? 'var(--success)' : 'var(--danger)'};">
                    ${correct ? '‚úÖ ¬°Correcto!' : '‚ùå Incorrecto'}
                </div>
                <div>${q.e}</div>
            `;
            
            document.getElementById('exam-next-btn').style.display = 'block';
            updateExamStats();
        }
        
        function nextExamQuestion() {
            examIndex++;
            showExamQuestion();
        }
        
        function updateExamStats() {
            document.getElementById('exam-correct').textContent = examCorrect;
            document.getElementById('exam-incorrect').textContent = examIncorrect;
            document.getElementById('exam-remaining').textContent = Math.max(0, 20 - examIndex - (examCorrect + examIncorrect > examIndex ? 0 : 1));
            
            const answered = examCorrect + examIncorrect;
            const score = answered > 0 ? Math.round(examCorrect / answered * 100) : 0;
            document.getElementById('exam-score').textContent = score + '%';
            document.getElementById('exam-progress').style.width = (examIndex / 20 * 100) + '%';
        }
        
        function finishExam() {
            document.getElementById('exam-container').style.display = 'none';
            document.getElementById('exam-result').style.display = 'block';
            
            const score = Math.round(examCorrect / 20 * 100);
            let emoji, text;
            
            if (score >= 90) { emoji = 'üèÜ'; text = '¬°Excelente! Dominas el material.'; }
            else if (score >= 70) { emoji = 'üéâ'; text = '¬°Muy bien! Buen dominio del tema.'; }
            else if (score >= 50) { emoji = 'üìö'; text = 'Aprobado, pero repasa los errores.'; }
            else { emoji = 'üí™'; text = 'Necesitas m√°s pr√°ctica. ¬°No te rindas!'; }
            
            document.getElementById('exam-final-emoji').textContent = emoji;
            document.getElementById('exam-final-score').textContent = score + '%';
            document.getElementById('exam-final-text').textContent = `${examCorrect}/20 correctas - ${text}`;
            
            // Mostrar revisi√≥n de errores
            const review = document.getElementById('exam-review');
            const wrong = examAnswers.filter(a => !a.isCorrect);
            
            if (wrong.length > 0) {
                review.innerHTML = `
                    <h4 style="margin-bottom: 15px; color: var(--danger);">üìù Revisar estos temas (${wrong.length} errores):</h4>
                    ${wrong.map((w, i) => `
                        <div class="card" style="margin-bottom: 10px; border-left: 4px solid var(--danger);">
                            <div style="font-weight: bold; margin-bottom: 8px;">${i+1}. ${w.question}</div>
                            <div style="color: var(--danger); margin-bottom: 5px;">‚ùå Tu respuesta: ${examQuestionsDB.find(q => q.q === w.question).o[w.selected]}</div>
                            <div style="color: var(--success); margin-bottom: 5px;">‚úÖ Correcta: ${examQuestionsDB.find(q => q.q === w.question).o[w.correct]}</div>
                            <div style="opacity: 0.9; font-style: italic;">üí° ${w.explanation}</div>
                        </div>
                    `).join('')}
                `;
            } else {
                review.innerHTML = '<div class="card" style="text-align: center; color: var(--success);">üéØ ¬°Perfecto! No tuviste errores.</div>';
            }
            
            // Guardar en historial
            saveToHistory(examCorrect, 20);
        }
        
        // ============ DASHBOARD ============
        function loadDashboard() {
            const history = JSON.parse(localStorage.getItem('study_history') || '[]');
            
            let totalCorrect = 0, totalQuestions = 0, sessions = history.length;
            history.forEach(h => { totalCorrect += h.correct || 0; totalQuestions += h.total || 0; });
            
            const avg = totalQuestions > 0 ? Math.round(totalCorrect / totalQuestions * 100) : 0;
            const streak = calculateStreak(history);
            
            document.getElementById('dash-streak').textContent = streak;
            document.getElementById('dash-sessions').textContent = sessions;
            document.getElementById('dash-correct').textContent = totalCorrect;
            document.getElementById('dash-avg').textContent = avg + '%';
            
            if (history.length > 0) {
                const recentHistory = history.slice(-10).reverse();
                document.getElementById('dash-history').innerHTML = `
                    <table style="width: 100%; border-collapse: collapse;">
                        <tr style="opacity: 0.7;">
                            <th style="text-align: left; padding: 10px;">Fecha</th>
                            <th style="text-align: left; padding: 10px;">Tipo</th>
                            <th style="text-align: left; padding: 10px;">Resultado</th>
                        </tr>
                        ${recentHistory.map(h => `
                            <tr style="border-top: 1px solid rgba(255,255,255,0.1);">
                                <td style="padding: 10px;">${new Date(h.date).toLocaleDateString()}</td>
                                <td style="padding: 10px;">${h.type}</td>
                                <td style="padding: 10px;">${h.correct}/${h.total} (${Math.round(h.correct/h.total*100)}%)</td>
                            </tr>
                        `).join('')}
                    </table>
                `;
            }
        }
        
        function calculateStreak(history) {
            if (history.length === 0) return 0;
            
            const today = new Date(); today.setHours(0, 0, 0, 0);
            const days = new Set();
            history.forEach(h => {
                const d = new Date(h.date); d.setHours(0, 0, 0, 0);
                days.add(d.getTime());
            });
            
            let streak = 0, check = new Date(today);
            while (days.has(check.getTime())) {
                streak++;
                check.setDate(check.getDate() - 1);
            }
            return streak;
        }
        
        function saveProgress(type, data) {
            const history = JSON.parse(localStorage.getItem('study_history') || '[]');
            history.push({ type, date: new Date().toISOString(), ...data });
            if (history.length > 100) history.splice(0, history.length - 100);
            localStorage.setItem('study_history', JSON.stringify(history));
        }
        
        function clearAllProgress() {
            if (confirm('¬øBorrar todo el progreso? Esta acci√≥n no se puede deshacer.')) {
                localStorage.removeItem('study_history');
                loadDashboard();
            }
        }
        
        // ============ UTILIDADES ============
        function shuffleArray(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
        }
        
        function showRandomTip() {
            document.getElementById('daily-tip').textContent = tips[Math.floor(Math.random() * tips.length)];
        }
        
        // ============ TECLADO ============
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('section-flashcards').classList.contains('active')) {
                if (e.code === 'Space') { e.preventDefault(); flipCard(); }
                else if (e.code === 'ArrowLeft') markCard(false);
                else if (e.code === 'ArrowRight') markCard(true);
                else if (e.code === 'ArrowDown') skipCard();
            }
        });
        
        // ============ INICIALIZACI√ìN ============
        document.addEventListener('DOMContentLoaded', function() {
            showRandomTip();
            initDesafio();
            initMemoria();
            initSupervivencia();
            initConceptos();
            initFlashcards();
            initTests();
            initVoF();
            initExercises();
            initCalculators();
            initMaps();
            loadDashboard();
            setInterval(showRandomTip, 30000);
        });
    </script>
</body>
</html>
